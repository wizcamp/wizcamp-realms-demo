<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang xml:lang>
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>SESSION-05 - Wizcamp Session Guide</title>
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
  <style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>
  <style type="text/css">

@page {
margin: 0.6in 0.75in 0.6in 0.75in;
size: letter;
}
body {
font-family: "Amulya Variable", -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif;
font-size: 16px;
line-height: 1.4;
color: #2d3748;
margin: 0;
padding: 0;
max-width: none;
overflow-x: hidden !important;
}

* {
scrollbar-width: none !important;
-ms-overflow-style: none !important;
}
*::-webkit-scrollbar {
display: none !important;
}

html, body {
overflow-x: hidden !important;
width: 100% !important;
max-width: 100% !important;
}
h1, h2, h3, h4, h5, h6 {
font-family: "Plein Variable", -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif;
font-weight: 500;
line-height: 1.25;
margin-bottom: 16px;
margin-top: 24px;
color: #1a202c;
}
h1 {
font-size: 1.75em;
border-bottom: 1px solid #d0d7de;
padding-bottom: 0.3em;
margin-top: 0;
}
h2 {
font-size: 1.5em;
border-bottom: 1px solid #d0d7de;
padding-bottom: 0.3em;
margin-top: 48px;
margin-bottom: 16px;
}

h1 + * h2:first-of-type,
h2:first-of-type {
margin-top: 24px;
}

a[id] {
scroll-margin-top: 48px;
}
h3 {
font-size: 1.25em;
margin-top: 24px;
margin-bottom: 12px;
page-break-after: avoid;
break-after: avoid;
}

h2, h3 {
page-break-after: avoid;
}

ol, ul, li, p {
page-break-inside: auto;
}
code {
font-family: "JetBrains Mono", ui-monospace, SFMono-Regular, "SF Mono", Consolas, monospace !important;
font-size: 13px !important;
font-weight: 500 !important;
background-color: #f6f8fa !important;
color: #24292f !important;
padding: 1px 3px !important;
border-radius: 3px !important;
white-space: nowrap;
word-break: break-word;
-webkit-print-color-adjust: exact !important;
print-color-adjust: exact !important;
text-decoration: none !important;
}
pre {
font-family: "JetBrains Mono", ui-monospace, SFMono-Regular, "SF Mono", Consolas, monospace !important;
background-color: #f8f9fa !important;
border: 1px solid #e1e4e8 !important;
border-radius: 6px !important;
padding: 16px !important;
overflow: hidden !important;
white-space: pre-wrap !important;
word-wrap: break-word !important;
page-break-inside: avoid !important;
-webkit-print-color-adjust: exact !important;
print-color-adjust: exact !important;
font-size: 14px !important;
line-height: 1.4 !important;
display: block !important;
width: 100% !important;
max-width: 100% !important;
box-sizing: border-box !important;
text-decoration: none !important;
-webkit-text-decorations-in-effect: none !important;
font-variant-ligatures: none !important;
}

@media print {
pre {
white-space: pre !important;
font-family: "JetBrains Mono", monospace !important;
display: block !important;
text-decoration: none !important;
-webkit-text-decorations-in-effect: none !important;
font-variant-ligatures: none !important;
}
pre * {
white-space: pre !important;
text-decoration: none !important;
-webkit-text-decorations-in-effect: none !important;
font-variant-ligatures: none !important;
}
code {
text-decoration: none !important;
-webkit-text-decorations-in-effect: none !important;
font-variant-ligatures: none !important;
}
}
pre code {
background-color: transparent !important;
border: none !important;
padding: 0 !important;
color: #24292f !important;
text-decoration: none !important;
}
ul, ol {
padding-left: 1.8em;
margin-bottom: 12px;
}
li {
margin-bottom: 6px;
line-height: 1.4;
}

li:has(:first-child:is(text):contains("‚úÖ")) {
list-style-type: none;
margin-left: -1.8em;
padding-left: 1.8em;
}

li > ul > li:first-child,
li > ol > li:first-child {
margin-top: 8px;
}

li > ul > li > ul > li:first-child,
li > ol > li > ol > li:first-child {
margin-top: 6px;
}

@media print {
ul, ol {
display: block !important;
}
li {
display: list-item !important;
margin-bottom: 8px !important;
}

li > ul > li:first-child,
li > ol > li:first-child {
margin-top: 8px !important;
}
li > ul > li > ul > li:first-child,
li > ol > li > ol > li:first-child {
margin-top: 6px !important;
}

* {
box-sizing: border-box !important;
}
}
p {
margin-bottom: 12px;
}
a {
color: #0969da;
text-decoration: none;
}
strong {
font-weight: 500;
color: #2d3748;
white-space: normal;
word-spacing: normal;
letter-spacing: normal;
}

strong::before,
strong::after {
content: none;
margin: 0;
padding: 0;
}

table {
border-collapse: collapse;
border-spacing: 0;
width: 100%;
max-width: 100%;
margin: 16px 0;
font-size: 16px;
line-height: 1.5;
table-layout: auto;
word-wrap: break-word;
}
th, td {
padding: 12px 16px;
text-align: left;
vertical-align: top;
border: 1px solid #d0d7de;
word-wrap: break-word;
overflow-wrap: break-word;
hyphens: auto;
}
th {
font-weight: 500;
background-color: #f6f8fa;
color: #2d3748;
-webkit-print-color-adjust: exact !important;
print-color-adjust: exact !important;
}
tbody tr:nth-child(even) {
background-color: #f8f9fa;
-webkit-print-color-adjust: exact !important;
print-color-adjust: exact !important;
}

table code {
font-size: 14px !important;
padding: 2px 4px !important;
word-break: break-all;
}

blockquote {
border-left: 4px solid #d1d5db;
padding: 12px 16px;
margin: 20px 0;
background-color: transparent;
border-radius: 0;
-webkit-print-color-adjust: exact !important;
print-color-adjust: exact !important;
}
blockquote p {
margin: 0 0 8px 0;
}
blockquote p:last-child {
margin-bottom: 0;
}

blockquote strong {
margin: 0;
padding: 0;
display: inline;
white-space: normal;
}
blockquote code {
margin: 0;
padding: 1px 3px !important;
display: inline;
}
blockquote em {
margin: 0;
padding: 0;
display: inline;
}
blockquote a {
margin: 0;
padding: 0;
display: inline;
}

blockquote ul {
margin-top: 12px;
margin-bottom: 0;
padding-left: 1.8em;
}

blockquote:has(strong:first-child:contains("üí°")) {
border-left-color: #3b82f6;
}

blockquote:has(strong:first-child:contains("‚ö†Ô∏è")) {
border-left-color: #f59e0b;
}

blockquote:has(strong:first-child:contains("‚úÖ")) {
border-left-color: #10b981;
}

blockquote:has(strong:first-child:contains("‚ùå")) {
border-left-color: #ef4444;
}

blockquote:has(strong:first-child:contains("‚ÑπÔ∏è")) {
border-left-color: #6366f1;
}

blockquote:has(strong:first-child:contains("üéØ")) {
border-left-color: #8b5cf6;
}

@supports not (selector(:has(*))) {
blockquote {
border-left-color: #3b82f6;
}
}

table td:first-child {
width: 200px;
max-width: 250px;
}
table td:nth-child(2) {
width: auto;
}
table td:nth-child(3) {
width: auto;
}

table:not(:has(td:nth-child(3))) td:first-child {
width: auto !important;
max-width: none !important;
white-space: nowrap;
}
table:not(:has(td:nth-child(3))) td:nth-child(2) {
width: 100% !important;
max-width: none !important;
}

table {
page-break-inside: auto !important;
}
th {
page-break-after: avoid !important;
}
tbody tr {
page-break-inside: avoid !important;
page-break-after: auto !important;
}

thead {
display: table-header-group !important;
}

img {
max-width: 100%;
height: auto;
display: block;
margin: 16px auto;
page-break-inside: avoid;
}

em {
display: block;
text-align: center;
font-style: italic;
font-size: 14px;
color: #666;
margin-top: 8px;
margin-bottom: 16px;
}
@media print {
thead {
display: table-row-group !important;
}
table {
page-break-inside: auto !important;
}
tr {
page-break-inside: avoid !important;
}

blockquote {
-webkit-print-color-adjust: exact !important;
print-color-adjust: exact !important;
page-break-inside: avoid !important;
}

* {
overflow: visible !important;
scrollbar-width: none !important;
-ms-overflow-style: none !important;
}
*::-webkit-scrollbar {
display: none !important;
}
html, body {
overflow-x: hidden !important;
}
}
</style>
</head>
<body>
<h1 id="session-5-generating-dynamic-questions">Session 5 ‚Äî Generating Dynamic Questions</h1>
<p>You‚Äôre about to connect your trivia game to the real internet! This guide walks you through fetching live trivia questions from external APIs, transforming API data into game-ready format, and experiencing the power of asynchronous programming. Ready to make your zones come alive with real questions? Let‚Äôs go!</p>
<h2 id="table-of-contents">Table of Contents</h2>
<ul>
<li><a href="#apis-and-external-data">APIs and External Data</a></li>
<li><a href="#exploring-the-opentrivia-database">Exploring the OpenTrivia Database</a></li>
<li><a href="#asynchronous-programming">Asynchronous Programming</a></li>
<li><a href="#building-the-fetch-foundation">Building the Fetch Foundation</a></li>
<li><a href="#transforming-api-data">Transforming API Data</a></li>
<li><a href="#the-complete-data-flow">The Complete Data Flow</a></li>
<li><a href="#essential-terms">Essential Terms</a></li>
<li><a href="#ask-the-ai">Ask the AI</a></li>
</ul>
<p><a id="accessing-your-codespace"></a></p>
<h2 id="accessing-your-codespace">‚òÅÔ∏è Accessing Your Codespace</h2>
<p>Visit <a href="https://github.com/codespaces">github.com/codespaces</a> to relaunch your Codespace from Session 4.</p>
<p><a id="apis-and-external-data"></a></p>
<h2 id="apis-and-external-data">üåê APIs and External Data</h2>
<p><strong>API</strong> stands for <strong>Application Programming Interface</strong>. An <strong>API</strong> is a set of rules that allows one program to request data or services from another program. When your trivia game needs questions, it sends a request to the OpenTrivia Database <strong>API</strong>, which responds with question data in a structured format.</p>
<p>Think of an <strong>API</strong> as a contract between two programs. The <strong>API</strong> documentation specifies what you can request (questions with specific categories and difficulties), how to format your request (<strong>URL</strong> with parameters), and what format the response will be (<strong>JSON</strong> data). Your code doesn‚Äôt need to know how OpenTrivia Database stores or generates questions ‚Äî you just follow the <strong>API</strong> contract to get the data you need.</p>
<p>This separation is fundamental to web development. Your trivia game focuses on user experience while OpenTrivia Database focuses on maintaining a question database. Each program does what it does best, communicating through a well-defined <strong>API</strong>.</p>
<blockquote>
<p>üèÜ <strong>Bonus Challenge</strong></p>
<p>Think of three apps you use daily ‚Äî can you identify what external data they might be fetching through APIs?</p>
</blockquote>
<p><a id="exploring-the-opentrivia-database"></a></p>
<h2 id="exploring-the-opentrivia-database">üîç Exploring the OpenTrivia Database</h2>
<p>Let‚Äôs explore the <strong>API</strong> that will power your trivia questions and see what real API data looks like.</p>
<p>Visit <a href="https://opentdb.com/api.php?amount=3&amp;category=18&amp;type=multiple&amp;difficulty=easy&amp;encode=url3986">https://opentdb.com/api.php?amount=3&amp;category=18&amp;type=multiple&amp;difficulty=easy&amp;encode=url3986</a> in your browser to see a live API response.</p>
<p>Here‚Äôs the <strong>JSON</strong> structure you‚Äôll see:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode json"><code class="sourceCode json"><a class="sourceLine" id="cb1-1" title="1"><span class="fu">{</span></a>
<a class="sourceLine" id="cb1-2" title="2">  <span class="dt">&quot;response_code&quot;</span><span class="fu">:</span> <span class="dv">0</span><span class="fu">,</span>                       <span class="er">//</span> <span class="er">‚Üê</span> <span class="er">Status</span> <span class="er">code</span> <span class="er">(0</span> <span class="er">=</span> <span class="er">success)</span></a>
<a class="sourceLine" id="cb1-3" title="3">  <span class="dt">&quot;results&quot;</span><span class="fu">:</span> <span class="ot">[</span>                              <span class="er">//</span> <span class="er">‚Üê</span> <span class="er">Array</span> <span class="er">of</span> <span class="er">question</span> <span class="er">objects</span></a>
<a class="sourceLine" id="cb1-4" title="4">    <span class="fu">{</span></a>
<a class="sourceLine" id="cb1-5" title="5">      <span class="dt">&quot;type&quot;</span><span class="fu">:</span> <span class="st">&quot;multiple&quot;</span><span class="fu">,</span>                   <span class="er">//</span> <span class="er">‚Üê</span> <span class="er">Question</span> <span class="er">type</span></a>
<a class="sourceLine" id="cb1-6" title="6">      <span class="dt">&quot;difficulty&quot;</span><span class="fu">:</span> <span class="st">&quot;easy&quot;</span><span class="fu">,</span>                 <span class="er">//</span> <span class="er">‚Üê</span> <span class="er">Difficulty</span> <span class="er">level</span></a>
<a class="sourceLine" id="cb1-7" title="7">      <span class="dt">&quot;category&quot;</span><span class="fu">:</span> <span class="st">&quot;Science%3A%20Computers&quot;</span><span class="fu">,</span> <span class="er">//</span> <span class="er">‚Üê</span> <span class="er">URL-encoded</span> <span class="er">category</span></a>
<a class="sourceLine" id="cb1-8" title="8">      <span class="dt">&quot;question&quot;</span><span class="fu">:</span> <span class="st">&quot;What%20is%20RAM%3F&quot;</span><span class="fu">,</span>     <span class="er">//</span> <span class="er">‚Üê</span> <span class="er">URL-encoded</span> <span class="er">question</span></a>
<a class="sourceLine" id="cb1-9" title="9">      <span class="dt">&quot;correct_answer&quot;</span><span class="fu">:</span> <span class="st">&quot;Memory&quot;</span><span class="fu">,</span>           <span class="er">//</span> <span class="er">‚Üê</span> <span class="er">The</span> <span class="er">correct</span> <span class="er">answer</span></a>
<a class="sourceLine" id="cb1-10" title="10">      <span class="dt">&quot;incorrect_answers&quot;</span><span class="fu">:</span> <span class="ot">[</span>                <span class="er">//</span> <span class="er">‚Üê</span> <span class="er">Array</span> <span class="er">of</span> <span class="er">wrong</span> <span class="er">answers</span></a>
<a class="sourceLine" id="cb1-11" title="11">        <span class="st">&quot;Processor&quot;</span><span class="ot">,</span></a>
<a class="sourceLine" id="cb1-12" title="12">        <span class="st">&quot;Storage&quot;</span><span class="ot">,</span> </a>
<a class="sourceLine" id="cb1-13" title="13">        <span class="st">&quot;Graphics&quot;</span></a>
<a class="sourceLine" id="cb1-14" title="14">      <span class="ot">]</span></a>
<a class="sourceLine" id="cb1-15" title="15">    <span class="fu">}</span></a>
<a class="sourceLine" id="cb1-16" title="16">  <span class="ot">]</span></a>
<a class="sourceLine" id="cb1-17" title="17"><span class="fu">}</span></a></code></pre></div>
<h3 id="understanding-the-response">Understanding the Response</h3>
<p>Notice the <code>%20</code> and <code>%3A</code> symbols ‚Äî this is <strong>URL encoding</strong>, a way to safely transmit text over the internet. Each question object has a <code>question</code>, <code>correct_answer</code>, and <code>incorrect_answers</code> array that your game will transform into playable format.</p>
<p><strong>üìö API Documentation:</strong> For complete details about OpenTrivia Database parameters, response codes, and features, visit: <a href="https://opentdb.com/api_config.php">https://opentdb.com/api_config.php</a></p>
<blockquote>
<p>üí° <strong>JSON: The Language of APIs</strong></p>
<p><strong>JSON</strong> (JavaScript Object Notation) is the universal language of <strong>APIs</strong>. It‚Äôs how different applications share structured data over the internet. Your job as a developer is to transform this raw data into the format your game needs. This pattern ‚Äî receive, decode, transform, use ‚Äî appears in every modern web application.</p>
</blockquote>
<p><a id="asynchronous-programming"></a></p>
<h2 id="asynchronous-programming">‚è∞ Asynchronous Programming</h2>
<p><strong>Synchronous</strong> code executes line by line, waiting for each operation to finish before moving to the next. <strong>Asynchronous</strong> code can start a slow operation (like fetching data from the internet) and continue executing other code while waiting for the result.</p>
<p>Network requests take time ‚Äî sometimes milliseconds, sometimes seconds. If your game waited synchronously for each <strong>API</strong> request, the entire interface would freeze. Users couldn‚Äôt click buttons, animations would stop, and the app would appear broken. <strong>Asynchronous programming</strong> solves this by letting your code say ‚Äústart fetching questions, and notify me when they arrive‚Äù then immediately continue responding to user interactions.</p>
<p>JavaScript‚Äôs <strong>async/await</strong> syntax makes <strong>asynchronous</strong> code readable. The <code>async</code> keyword marks a function that performs <strong>asynchronous</strong> operations. The <code>await</code> keyword pauses that function until a <strong>promise</strong> resolves, but crucially, it doesn‚Äôt freeze the entire application ‚Äî other code continues running. You‚Äôll use <code>async/await</code> to fetch <strong>API</strong> data without blocking your game.</p>
<p><a id="building-the-fetch-foundation"></a></p>
<h2 id="building-the-fetch-foundation">üîß Building the Fetch Foundation</h2>
<p>üéØ <strong>Goal:</strong> Implement the core fetch logic to request trivia questions from the OpenTrivia Database API.</p>
<p><strong>File:</strong> <code>src/services/trivia.js</code></p>
<p>To connect your game to real trivia data, we‚Äôll replace the placeholder alert with actual fetch logic that requests data from the API.</p>
<blockquote>
<p>‚ö†Ô∏è <strong>Hot Module Reloading Behavior</strong></p>
<p>When you make changes to <code>trivia.js</code>, you may see these behaviors:</p>
<ul>
<li>Game returns to splash screen (normal)</li>
<li>‚ÄúuseGame must be used within a GameProvider‚Äù error (also normal)</li>
</ul>
<p><strong>To continue:</strong> Refresh the browser (<code>Ctrl+R</code> or <code>Cmd+R</code>), click ‚ÄúStart Game‚Äù, then click a zone to test your code.</p>
</blockquote>
<h3 id="step-1-add-fetch-logic-to-fetchquestions">Step 1: Add fetch logic to fetchQuestions</h3>
<p>Replace the placeholder alert with real code that requests trivia questions from the OpenTrivia Database.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb2-1" title="1"><span class="im">export</span> <span class="kw">async</span> <span class="kw">function</span> <span class="at">fetchQuestions</span>(zoneId<span class="op">,</span> count <span class="op">=</span> <span class="kw">null</span>) <span class="op">{</span></a>
<a class="sourceLine" id="cb2-2" title="2">  <span class="co">// ... existing code ...</span></a>
<a class="sourceLine" id="cb2-3" title="3">  </a>
<a class="sourceLine" id="cb2-4" title="4">  <span class="cf">try</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb2-5" title="5">    <span class="at">alert</span>(<span class="vs">`Loading questions for </span><span class="sc">${</span><span class="va">zone</span>.<span class="at">name</span><span class="sc">}</span><span class="vs">`</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb2-6" title="6">    </a>
<a class="sourceLine" id="cb2-7" title="7">    <span class="co">// Add fetch logic:</span></a>
<a class="sourceLine" id="cb2-8" title="8">    <span class="va">console</span>.<span class="at">log</span>(<span class="st">&quot;Fetching from:&quot;</span><span class="op">,</span> url)<span class="op">;</span>        <span class="co">// [1] Log the URL</span></a>
<a class="sourceLine" id="cb2-9" title="9">    <span class="kw">const</span> response <span class="op">=</span> <span class="cf">await</span> <span class="at">fetch</span>(url)<span class="op">;</span>         <span class="co">// [2] Send HTTP request</span></a>
<a class="sourceLine" id="cb2-10" title="10">    <span class="kw">const</span> data <span class="op">=</span> <span class="cf">await</span> <span class="va">response</span>.<span class="at">json</span>()<span class="op">;</span>        <span class="co">// [3] Parse JSON response</span></a>
<a class="sourceLine" id="cb2-11" title="11">    <span class="va">console</span>.<span class="at">log</span>(<span class="st">&quot;Raw API data:&quot;</span><span class="op">,</span> data)<span class="op">;</span>        <span class="co">// [4] Log the data</span></a>
<a class="sourceLine" id="cb2-12" title="12">  <span class="op">}</span> <span class="cf">catch</span> (error) <span class="op">{</span></a>
<a class="sourceLine" id="cb2-13" title="13">    <span class="va">console</span>.<span class="at">log</span>(<span class="st">&quot;Failed to fetch questions:&quot;</span><span class="op">,</span> error)<span class="op">;</span></a>
<a class="sourceLine" id="cb2-14" title="14">    <span class="cf">return</span> []<span class="op">;</span></a>
<a class="sourceLine" id="cb2-15" title="15">  <span class="op">}</span></a>
<a class="sourceLine" id="cb2-16" title="16"><span class="op">}</span></a></code></pre></div>
<blockquote>
<p>üí° <strong>Understanding the Fetch Process</strong></p>
<p>This code performs four key operations:</p>
<ol type="1">
<li><strong>Log the URL</strong>: Shows what endpoint we‚Äôre calling</li>
<li><strong>Send the request</strong>: <code>await fetch(url)</code> sends HTTP request and waits for response</li>
<li><strong>Parse JSON</strong>: <code>await response.json()</code> converts the response text into a JavaScript object</li>
<li><strong>Log the data</strong>: Shows the raw API response structure</li>
</ol>
<p>The <code>await</code> keyword pauses execution until each async operation completes, making the code read top-to-bottom like synchronous code. However, the rest of your app remains responsive during these pauses, allowing users to interact with the UI while data is being fetched.</p>
</blockquote>
<h3 id="step-2-test-the-fetch-request">Step 2: Test the fetch request</h3>
<p>Press <code>F12</code> or right-click ‚Üí Inspect to open DevTools. Navigate to the Console tab, then click ‚ÄúStart Game‚Äù and click a zone.</p>
<p><strong>‚úì You should see:</strong> Alert appears, then console shows the fetching URL and raw API data. Network tab shows the HTTP request.</p>
<p><a id="transforming-api-data"></a></p>
<h2 id="transforming-api-data">üîÑ Transforming API Data</h2>
<p>üéØ <strong>Goal:</strong> Build a transformation function that converts raw API data into game-ready format through incremental steps.</p>
<p><strong>File:</strong> <code>src/services/trivia.js</code></p>
<p><strong>APIs</strong> rarely return data in exactly the format your application needs. The OpenTrivia Database sends URL-encoded text with separate arrays for correct and incorrect answers. Your game needs decoded text with all answers shuffled together and the correct answer‚Äôs index. This transformation is your responsibility.</p>
<h3 id="the-transformation-journey">The Transformation Journey</h3>
<pre class="text"><code>Raw API Data ‚Üí Your Transform Function ‚Üí Game-Ready Data</code></pre>
<p><strong>Before (API Response):</strong></p>
<div class="sourceCode" id="cb4"><pre class="sourceCode json"><code class="sourceCode json"><a class="sourceLine" id="cb4-1" title="1"><span class="fu">{</span></a>
<a class="sourceLine" id="cb4-2" title="2">  <span class="dt">&quot;question&quot;</span><span class="fu">:</span> <span class="st">&quot;What%20is%20RAM%3F&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb4-3" title="3">  <span class="dt">&quot;correct_answer&quot;</span><span class="fu">:</span> <span class="st">&quot;Memory&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb4-4" title="4">  <span class="dt">&quot;incorrect_answers&quot;</span><span class="fu">:</span> <span class="ot">[</span><span class="st">&quot;Processor&quot;</span><span class="ot">,</span> <span class="st">&quot;Storage&quot;</span><span class="ot">,</span> <span class="st">&quot;Graphics&quot;</span><span class="ot">]</span></a>
<a class="sourceLine" id="cb4-5" title="5"><span class="fu">}</span></a></code></pre></div>
<p><strong>After (Your Game Format):</strong></p>
<div class="sourceCode" id="cb5"><pre class="sourceCode json"><code class="sourceCode json"><a class="sourceLine" id="cb5-1" title="1"><span class="fu">{</span></a>
<a class="sourceLine" id="cb5-2" title="2">  <span class="dt">&quot;question&quot;</span><span class="fu">:</span> <span class="st">&quot;What is RAM?&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb5-3" title="3">  <span class="dt">&quot;answers&quot;</span><span class="fu">:</span> <span class="ot">[</span><span class="st">&quot;Processor&quot;</span><span class="ot">,</span> <span class="st">&quot;Memory&quot;</span><span class="ot">,</span> <span class="st">&quot;Storage&quot;</span><span class="ot">,</span> <span class="st">&quot;Graphics&quot;</span><span class="ot">]</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb5-4" title="4">  <span class="dt">&quot;correct&quot;</span><span class="fu">:</span> <span class="dv">1</span></a>
<a class="sourceLine" id="cb5-5" title="5"><span class="fu">}</span></a></code></pre></div>
<p>Let‚Äôs build the <code>transformQuestion</code> function step by step, testing each transformation stage.</p>
<h3 id="step-1-set-up-transformation-testing-in-fetchquestions">Step 1: Set up transformation testing in fetchQuestions</h3>
<p>Add test code after the fetch logic to verify each transformation step.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb6-1" title="1"><span class="im">export</span> <span class="kw">async</span> <span class="kw">function</span> <span class="at">fetchQuestions</span>(zoneId<span class="op">,</span> count <span class="op">=</span> <span class="kw">null</span>) <span class="op">{</span></a>
<a class="sourceLine" id="cb6-2" title="2">  <span class="co">// ... existing code ...</span></a>
<a class="sourceLine" id="cb6-3" title="3">  </a>
<a class="sourceLine" id="cb6-4" title="4">  <span class="cf">try</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb6-5" title="5">    <span class="at">alert</span>(<span class="vs">`Loading questions for </span><span class="sc">${</span><span class="va">zone</span>.<span class="at">name</span><span class="sc">}</span><span class="vs">`</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb6-6" title="6"></a>
<a class="sourceLine" id="cb6-7" title="7">    <span class="va">console</span>.<span class="at">log</span>(<span class="st">&quot;Fetching from:&quot;</span><span class="op">,</span> url)<span class="op">;</span></a>
<a class="sourceLine" id="cb6-8" title="8">    <span class="kw">const</span> response <span class="op">=</span> <span class="cf">await</span> <span class="at">fetch</span>(url)<span class="op">;</span></a>
<a class="sourceLine" id="cb6-9" title="9">    <span class="kw">const</span> data <span class="op">=</span> <span class="cf">await</span> <span class="va">response</span>.<span class="at">json</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb6-10" title="10">    <span class="va">console</span>.<span class="at">log</span>(<span class="st">&quot;Raw API data:&quot;</span><span class="op">,</span> data)<span class="op">;</span></a>
<a class="sourceLine" id="cb6-11" title="11">    </a>
<a class="sourceLine" id="cb6-12" title="12">    <span class="co">// Add transformation testing:</span></a>
<a class="sourceLine" id="cb6-13" title="13">    <span class="kw">const</span> question <span class="op">=</span> <span class="va">data</span>.<span class="at">results</span>[<span class="dv">0</span>]<span class="op">;</span>                <span class="co">// [1] Get first question</span></a>
<a class="sourceLine" id="cb6-14" title="14">    <span class="va">console</span>.<span class="at">log</span>(<span class="st">&quot;Before transform:&quot;</span><span class="op">,</span> question)<span class="op">;</span>      <span class="co">// [2] Log before</span></a>
<a class="sourceLine" id="cb6-15" title="15">    <span class="kw">const</span> transformed <span class="op">=</span> <span class="at">transformQuestion</span>(question)<span class="op">;</span> <span class="co">// [3] Transform it</span></a>
<a class="sourceLine" id="cb6-16" title="16">    <span class="va">console</span>.<span class="at">log</span>(<span class="st">&quot;After transform:&quot;</span><span class="op">,</span> transformed)<span class="op">;</span>    <span class="co">// [4] Log after</span></a>
<a class="sourceLine" id="cb6-17" title="17">  <span class="op">}</span> <span class="cf">catch</span> (error) <span class="op">{</span></a>
<a class="sourceLine" id="cb6-18" title="18">    <span class="va">console</span>.<span class="at">log</span>(<span class="st">&quot;Failed to fetch questions:&quot;</span><span class="op">,</span> error)<span class="op">;</span></a>
<a class="sourceLine" id="cb6-19" title="19">    <span class="cf">return</span> []<span class="op">;</span></a>
<a class="sourceLine" id="cb6-20" title="20">  <span class="op">}</span></a>
<a class="sourceLine" id="cb6-21" title="21"><span class="op">}</span></a></code></pre></div>
<blockquote>
<p>üí° <strong>Understanding the Testing Process</strong></p>
<p>This code performs four key operations:</p>
<ol type="1">
<li><strong>Get first question</strong>: Extract one question from the API results array for testing</li>
<li><strong>Log before</strong>: Show the raw API question format (with URL encoding)</li>
<li><strong>Transform it</strong>: Call our transformation function to convert the data</li>
<li><strong>Log after</strong>: Show the transformed result to verify our function works</li>
</ol>
<p>This testing pattern lets you see the transformation in action. Once you verify each step works correctly, you‚Äôll replace this single-question test with code that transforms all questions at once.</p>
</blockquote>
<p><strong>‚úì You should see:</strong> Console shows <code>undefined</code> for transformed question ‚Äî we need to implement <code>transformQuestion</code>.</p>
<h3 id="step-2-extract-properties-in-transformquestion">Step 2: Extract properties in transformQuestion</h3>
<p>Update the <code>transformQuestion</code> function to extract the question data.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb7-1" title="1"><span class="co">// Before:</span></a>
<a class="sourceLine" id="cb7-2" title="2"><span class="kw">function</span> <span class="at">transformQuestion</span>(apiQuestion) <span class="op">{}</span></a>
<a class="sourceLine" id="cb7-3" title="3"></a>
<a class="sourceLine" id="cb7-4" title="4"><span class="co">// After:</span></a>
<a class="sourceLine" id="cb7-5" title="5"><span class="kw">function</span> <span class="at">transformQuestion</span>(apiQuestion) <span class="op">{</span></a>
<a class="sourceLine" id="cb7-6" title="6">  <span class="kw">const</span> question <span class="op">=</span> <span class="va">apiQuestion</span>.<span class="at">question</span><span class="op">;</span></a>
<a class="sourceLine" id="cb7-7" title="7">  <span class="kw">const</span> incorrectAnswers <span class="op">=</span> <span class="va">apiQuestion</span>.<span class="at">incorrect_answers</span><span class="op">;</span></a>
<a class="sourceLine" id="cb7-8" title="8">  <span class="kw">const</span> correctAnswer <span class="op">=</span> <span class="va">apiQuestion</span>.<span class="at">correct_answer</span><span class="op">;</span></a>
<a class="sourceLine" id="cb7-9" title="9">  </a>
<a class="sourceLine" id="cb7-10" title="10">  <span class="cf">return</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb7-11" title="11">    <span class="dt">question</span><span class="op">:</span> question<span class="op">,</span></a>
<a class="sourceLine" id="cb7-12" title="12">    <span class="dt">incorrectAnswers</span><span class="op">:</span> incorrectAnswers<span class="op">,</span></a>
<a class="sourceLine" id="cb7-13" title="13">    <span class="dt">correctAnswer</span><span class="op">:</span> correctAnswer<span class="op">,</span></a>
<a class="sourceLine" id="cb7-14" title="14">  <span class="op">};</span></a>
<a class="sourceLine" id="cb7-15" title="15"><span class="op">}</span></a></code></pre></div>
<p><strong>‚úì You should see:</strong> Console shows ‚ÄúAfter transform:‚Äù with extracted properties and URL encoding still present (example):</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode json"><code class="sourceCode json"><a class="sourceLine" id="cb8-1" title="1"><span class="fu">{</span></a>
<a class="sourceLine" id="cb8-2" title="2">  <span class="dt">&quot;question&quot;</span><span class="fu">:</span> <span class="st">&quot;What%20is%20RAM%3F&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb8-3" title="3">  <span class="dt">&quot;incorrectAnswers&quot;</span><span class="fu">:</span> <span class="ot">[</span><span class="st">&quot;Processor&quot;</span><span class="ot">,</span> <span class="st">&quot;Storage&quot;</span><span class="ot">,</span> <span class="st">&quot;Graphics&quot;</span><span class="ot">]</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb8-4" title="4">  <span class="dt">&quot;correctAnswer&quot;</span><span class="fu">:</span> <span class="st">&quot;Memory&quot;</span></a>
<a class="sourceLine" id="cb8-5" title="5"><span class="fu">}</span></a></code></pre></div>
<h3 id="step-3-add-decoding-to-transformquestion">Step 3: Add decoding to transformQuestion</h3>
<p>Update <code>transformQuestion</code> to decode the URL-encoded text using the helper function.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode diff"><code class="sourceCode diff"><a class="sourceLine" id="cb9-1" title="1">function transformQuestion(apiQuestion) {</a>
<a class="sourceLine" id="cb9-2" title="2"><span class="st">- const question = apiQuestion.question;</span></a>
<a class="sourceLine" id="cb9-3" title="3"><span class="va">+ const question = decodeText(apiQuestion.question);</span></a>
<a class="sourceLine" id="cb9-4" title="4"><span class="st">- const incorrectAnswers = apiQuestion.incorrect_answers;</span></a>
<a class="sourceLine" id="cb9-5" title="5"><span class="va">+ const incorrectAnswers = apiQuestion.incorrect_answers.map(</span></a>
<a class="sourceLine" id="cb9-6" title="6"><span class="va">+   (answer) =&gt; decodeText(answer)</span></a>
<a class="sourceLine" id="cb9-7" title="7"><span class="va">+ );</span></a>
<a class="sourceLine" id="cb9-8" title="8"><span class="st">- const correctAnswer = apiQuestion.correct_answer;</span></a>
<a class="sourceLine" id="cb9-9" title="9"><span class="va">+ const correctAnswer = decodeText(apiQuestion.correct_answer);</span></a>
<a class="sourceLine" id="cb9-10" title="10">  </a>
<a class="sourceLine" id="cb9-11" title="11">  return {</a>
<a class="sourceLine" id="cb9-12" title="12">    question: question,</a>
<a class="sourceLine" id="cb9-13" title="13">    incorrectAnswers: incorrectAnswers,</a>
<a class="sourceLine" id="cb9-14" title="14">    correctAnswer: correctAnswer,</a>
<a class="sourceLine" id="cb9-15" title="15">  };</a>
<a class="sourceLine" id="cb9-16" title="16">}</a></code></pre></div>
<p><strong>‚úì You should see:</strong> Console shows ‚ÄúAfter transform:‚Äù with readable text without <code>%20</code> or <code>%3A</code> symbols (example):</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode json"><code class="sourceCode json"><a class="sourceLine" id="cb10-1" title="1"><span class="fu">{</span></a>
<a class="sourceLine" id="cb10-2" title="2">  <span class="dt">&quot;question&quot;</span><span class="fu">:</span> <span class="st">&quot;What is RAM?&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb10-3" title="3">  <span class="dt">&quot;incorrectAnswers&quot;</span><span class="fu">:</span> <span class="ot">[</span><span class="st">&quot;Processor&quot;</span><span class="ot">,</span> <span class="st">&quot;Storage&quot;</span><span class="ot">,</span> <span class="st">&quot;Graphics&quot;</span><span class="ot">]</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb10-4" title="4">  <span class="dt">&quot;correctAnswer&quot;</span><span class="fu">:</span> <span class="st">&quot;Memory&quot;</span></a>
<a class="sourceLine" id="cb10-5" title="5"><span class="fu">}</span></a></code></pre></div>
<h3 id="step-4-shuffle-answers-in-transformquestion">Step 4: Shuffle answers in transformQuestion</h3>
<p>Add logic to randomize answer order and track where the correct answer ends up.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb11-1" title="1"><span class="kw">function</span> <span class="at">transformQuestion</span>(apiQuestion) <span class="op">{</span></a>
<a class="sourceLine" id="cb11-2" title="2">  <span class="kw">const</span> question <span class="op">=</span> <span class="at">decodeText</span>(<span class="va">apiQuestion</span>.<span class="at">question</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb11-3" title="3">  <span class="kw">const</span> incorrectAnswers <span class="op">=</span> <span class="va">apiQuestion</span>.<span class="va">incorrect_answers</span>.<span class="at">map</span>(</a>
<a class="sourceLine" id="cb11-4" title="4">    (answer) <span class="kw">=&gt;</span> <span class="at">decodeText</span>(answer)</a>
<a class="sourceLine" id="cb11-5" title="5">  )<span class="op">;</span></a>
<a class="sourceLine" id="cb11-6" title="6">  <span class="kw">const</span> correctAnswer <span class="op">=</span> <span class="at">decodeText</span>(<span class="va">apiQuestion</span>.<span class="at">correct_answer</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb11-7" title="7">  </a>
<a class="sourceLine" id="cb11-8" title="8">  <span class="co">// [1] Shuffle all answers together:</span></a>
<a class="sourceLine" id="cb11-9" title="9">  <span class="kw">const</span> shuffledAnswers <span class="op">=</span> <span class="at">shuffleAnswers</span>(</a>
<a class="sourceLine" id="cb11-10" title="10">    correctAnswer<span class="op">,</span></a>
<a class="sourceLine" id="cb11-11" title="11">    incorrectAnswers</a>
<a class="sourceLine" id="cb11-12" title="12">  )<span class="op">;</span></a>
<a class="sourceLine" id="cb11-13" title="13"></a>
<a class="sourceLine" id="cb11-14" title="14">  <span class="co">// [2] Find where correct answer ended up:</span></a>
<a class="sourceLine" id="cb11-15" title="15">  <span class="kw">const</span> correctIndex <span class="op">=</span> <span class="va">shuffledAnswers</span>.<span class="at">indexOf</span>(correctAnswer)<span class="op">;</span></a>
<a class="sourceLine" id="cb11-16" title="16">  </a>
<a class="sourceLine" id="cb11-17" title="17">  <span class="cf">return</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb11-18" title="18">    <span class="dt">question</span><span class="op">:</span> question<span class="op">,</span></a>
<a class="sourceLine" id="cb11-19" title="19">    <span class="dt">incorrectAnswers</span><span class="op">:</span> incorrectAnswers<span class="op">,</span></a>
<a class="sourceLine" id="cb11-20" title="20">    <span class="dt">correctAnswer</span><span class="op">:</span> correctAnswer<span class="op">,</span></a>
<a class="sourceLine" id="cb11-21" title="21">  <span class="op">};</span></a>
<a class="sourceLine" id="cb11-22" title="22"><span class="op">}</span></a></code></pre></div>
<blockquote>
<p>üí° <strong>Understanding Answer Shuffling</strong></p>
<p>This code performs two key operations:</p>
<ol type="1">
<li><strong>Shuffle all answers together</strong>: Randomize the order so the correct answer isn‚Äôt always first</li>
<li><strong>Find where correct answer ended up</strong>: Track its position (0-3) after shuffling</li>
</ol>
<p>This transformation prevents players from memorizing answer positions. Each time the game loads, answers appear in a different order, making the quiz more challenging and fair.</p>
</blockquote>
<h3 id="step-5-return-game-format-from-transformquestion">Step 5: Return game format from transformQuestion</h3>
<p>Update the return statement to use the final game format with shuffled answers and correct index.</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode diff"><code class="sourceCode diff"><a class="sourceLine" id="cb12-1" title="1">function transformQuestion(apiQuestion) {</a>
<a class="sourceLine" id="cb12-2" title="2">  // ... existing variable declarations ...</a>
<a class="sourceLine" id="cb12-3" title="3">  </a>
<a class="sourceLine" id="cb12-4" title="4">  return {</a>
<a class="sourceLine" id="cb12-5" title="5">    question: question,</a>
<a class="sourceLine" id="cb12-6" title="6"><span class="st">-   incorrectAnswers: incorrectAnswers,</span></a>
<a class="sourceLine" id="cb12-7" title="7"><span class="st">-   correctAnswer: correctAnswer,</span></a>
<a class="sourceLine" id="cb12-8" title="8"><span class="va">+   answers: shuffledAnswers,</span></a>
<a class="sourceLine" id="cb12-9" title="9"><span class="va">+   correct: correctIndex,</span></a>
<a class="sourceLine" id="cb12-10" title="10">  };</a>
<a class="sourceLine" id="cb12-11" title="11">}</a></code></pre></div>
<p><strong>‚úì You should see:</strong> Console shows ‚ÄúAfter transform:‚Äù with complete game-ready object (example):</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode json"><code class="sourceCode json"><a class="sourceLine" id="cb13-1" title="1"><span class="fu">{</span></a>
<a class="sourceLine" id="cb13-2" title="2">  <span class="dt">&quot;question&quot;</span><span class="fu">:</span> <span class="st">&quot;What is RAM?&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb13-3" title="3">  <span class="dt">&quot;answers&quot;</span><span class="fu">:</span> <span class="ot">[</span></a>
<a class="sourceLine" id="cb13-4" title="4">    <span class="st">&quot;Processor&quot;</span><span class="ot">,</span></a>
<a class="sourceLine" id="cb13-5" title="5">    <span class="st">&quot;Memory&quot;</span><span class="ot">,</span></a>
<a class="sourceLine" id="cb13-6" title="6">    <span class="st">&quot;Storage&quot;</span><span class="ot">,</span></a>
<a class="sourceLine" id="cb13-7" title="7">    <span class="st">&quot;Graphics&quot;</span></a>
<a class="sourceLine" id="cb13-8" title="8">  <span class="ot">]</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb13-9" title="9">  <span class="dt">&quot;correct&quot;</span><span class="fu">:</span> <span class="dv">1</span></a>
<a class="sourceLine" id="cb13-10" title="10"><span class="fu">}</span></a></code></pre></div>
<p>Here‚Äôs the complete <code>transformQuestion</code> function for reference:</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb14-1" title="1"><span class="kw">function</span> <span class="at">transformQuestion</span>(apiQuestion) <span class="op">{</span></a>
<a class="sourceLine" id="cb14-2" title="2">  <span class="kw">const</span> question <span class="op">=</span> <span class="at">decodeText</span>(<span class="va">apiQuestion</span>.<span class="at">question</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb14-3" title="3">  <span class="kw">const</span> incorrectAnswers <span class="op">=</span> <span class="va">apiQuestion</span>.<span class="va">incorrect_answers</span>.<span class="at">map</span>(</a>
<a class="sourceLine" id="cb14-4" title="4">    (answer) <span class="kw">=&gt;</span> <span class="at">decodeText</span>(answer)</a>
<a class="sourceLine" id="cb14-5" title="5">  )<span class="op">;</span></a>
<a class="sourceLine" id="cb14-6" title="6">  <span class="kw">const</span> correctAnswer <span class="op">=</span> <span class="at">decodeText</span>(<span class="va">apiQuestion</span>.<span class="at">correct_answer</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb14-7" title="7">  </a>
<a class="sourceLine" id="cb14-8" title="8">  <span class="kw">const</span> shuffledAnswers <span class="op">=</span> <span class="at">shuffleAnswers</span>(</a>
<a class="sourceLine" id="cb14-9" title="9">    correctAnswer<span class="op">,</span></a>
<a class="sourceLine" id="cb14-10" title="10">    incorrectAnswers</a>
<a class="sourceLine" id="cb14-11" title="11">  )<span class="op">;</span></a>
<a class="sourceLine" id="cb14-12" title="12"></a>
<a class="sourceLine" id="cb14-13" title="13">  <span class="kw">const</span> correctIndex <span class="op">=</span> <span class="va">shuffledAnswers</span>.<span class="at">indexOf</span>(correctAnswer)<span class="op">;</span></a>
<a class="sourceLine" id="cb14-14" title="14">  </a>
<a class="sourceLine" id="cb14-15" title="15">  <span class="cf">return</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb14-16" title="16">    <span class="dt">question</span><span class="op">:</span> question<span class="op">,</span></a>
<a class="sourceLine" id="cb14-17" title="17">    <span class="dt">answers</span><span class="op">:</span> shuffledAnswers<span class="op">,</span></a>
<a class="sourceLine" id="cb14-18" title="18">    <span class="dt">correct</span><span class="op">:</span> correctIndex<span class="op">,</span></a>
<a class="sourceLine" id="cb14-19" title="19">  <span class="op">};</span></a>
<a class="sourceLine" id="cb14-20" title="20"><span class="op">}</span></a></code></pre></div>
<h3 id="step-6-complete-the-integration">Step 6: Complete the integration</h3>
<h4 id="part-a-remove-test-code">Part A: Remove test code</h4>
<p>Remove the temporary transformation testing we added earlier:</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode diff"><code class="sourceCode diff"><a class="sourceLine" id="cb15-1" title="1">export async function fetchQuestions(zoneId, count = null) {</a>
<a class="sourceLine" id="cb15-2" title="2">  // ... existing code ...</a>
<a class="sourceLine" id="cb15-3" title="3">  </a>
<a class="sourceLine" id="cb15-4" title="4">  try {</a>
<a class="sourceLine" id="cb15-5" title="5"><span class="st">-   alert(`Loading questions for ${zone.name}`);</span></a>
<a class="sourceLine" id="cb15-6" title="6"><span class="st">-   </span></a>
<a class="sourceLine" id="cb15-7" title="7"><span class="st">-   console.log(&quot;Fetching from:&quot;, url);</span></a>
<a class="sourceLine" id="cb15-8" title="8">    const response = await fetch(url);</a>
<a class="sourceLine" id="cb15-9" title="9">    const data = await response.json();</a>
<a class="sourceLine" id="cb15-10" title="10"><span class="st">-   console.log(&quot;Raw API data:&quot;, data);</span></a>
<a class="sourceLine" id="cb15-11" title="11"><span class="st">-   </span></a>
<a class="sourceLine" id="cb15-12" title="12"><span class="st">-   const question = data.results[0];</span></a>
<a class="sourceLine" id="cb15-13" title="13"><span class="st">-   console.log(&quot;Before transform:&quot;, question);</span></a>
<a class="sourceLine" id="cb15-14" title="14"><span class="st">-   const transformed = transformQuestion(question);</span></a>
<a class="sourceLine" id="cb15-15" title="15"><span class="st">-   console.log(&quot;After transform:&quot;, transformed);</span></a>
<a class="sourceLine" id="cb15-16" title="16">  } catch (error) {</a>
<a class="sourceLine" id="cb15-17" title="17">    // ... error handling ...</a>
<a class="sourceLine" id="cb15-18" title="18">  }</a>
<a class="sourceLine" id="cb15-19" title="19">}</a></code></pre></div>
<h4 id="part-b-format-all-questions-for-your-game">Part B: Format all questions for your game</h4>
<p>Apply your transformation to every question and return the formatted data:</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb16-1" title="1"><span class="im">export</span> <span class="kw">async</span> <span class="kw">function</span> <span class="at">fetchQuestions</span>(zoneId<span class="op">,</span> count <span class="op">=</span> <span class="kw">null</span>) <span class="op">{</span></a>
<a class="sourceLine" id="cb16-2" title="2">  <span class="co">// ... existing code ...</span></a>
<a class="sourceLine" id="cb16-3" title="3">  </a>
<a class="sourceLine" id="cb16-4" title="4">  <span class="cf">try</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb16-5" title="5">    <span class="kw">const</span> response <span class="op">=</span> <span class="cf">await</span> <span class="at">fetch</span>(url)<span class="op">;</span></a>
<a class="sourceLine" id="cb16-6" title="6">    <span class="kw">const</span> data <span class="op">=</span> <span class="cf">await</span> <span class="va">response</span>.<span class="at">json</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb16-7" title="7"></a>
<a class="sourceLine" id="cb16-8" title="8">    <span class="co">// [1] Format all questions:</span></a>
<a class="sourceLine" id="cb16-9" title="9">    <span class="kw">const</span> questions <span class="op">=</span> <span class="va">data</span>.<span class="va">results</span>.<span class="at">map</span>((apiQuestion) <span class="kw">=&gt;</span></a>
<a class="sourceLine" id="cb16-10" title="10">      <span class="at">transformQuestion</span>(apiQuestion)</a>
<a class="sourceLine" id="cb16-11" title="11">    )<span class="op">;</span></a>
<a class="sourceLine" id="cb16-12" title="12">    </a>
<a class="sourceLine" id="cb16-13" title="13">    <span class="co">// [2] Send questions back to game:</span></a>
<a class="sourceLine" id="cb16-14" title="14">    <span class="cf">return</span> questions<span class="op">;</span></a>
<a class="sourceLine" id="cb16-15" title="15">  <span class="op">}</span> <span class="cf">catch</span> (error) <span class="op">{</span></a>
<a class="sourceLine" id="cb16-16" title="16">    <span class="va">console</span>.<span class="at">log</span>(<span class="st">&quot;Failed to fetch questions:&quot;</span><span class="op">,</span> error)<span class="op">;</span></a>
<a class="sourceLine" id="cb16-17" title="17">    <span class="cf">return</span> []<span class="op">;</span></a>
<a class="sourceLine" id="cb16-18" title="18">  <span class="op">}</span></a>
<a class="sourceLine" id="cb16-19" title="19"><span class="op">}</span></a></code></pre></div>
<blockquote>
<p>üí° <strong>Understanding Question Formatting</strong></p>
<ol type="1">
<li><strong>Format all questions</strong>: <code>data.results.map()</code> loops through each question, transforming the API data into game-ready format</li>
<li><strong>Send questions back to game</strong>: <code>return questions</code> sends the formatted array back to GameContext</li>
</ol>
<p>The <code>map()</code> method transforms arrays by running each item through a function and returning the results.</p>
</blockquote>
<h4 id="part-c-verify-your-integration">Part C: Verify your integration</h4>
<p>Test the complete API integration using React DevTools:</p>
<ul>
<li><strong>Press</strong> <code>F12</code> or right-click ‚Üí Inspect to open DevTools</li>
<li><strong>Navigate</strong> to the Components tab</li>
<li><strong>Click</strong> <code>GameProvider</code> in the component tree</li>
<li><strong>Find</strong> <code>currentQuestions</code> state (enable ‚ÄúParse hook names‚Äù if needed)</li>
<li><strong>Click</strong> ‚ÄúStart Game‚Äù and click different zones</li>
<li><strong>Observe</strong> <code>currentQuestions</code> populates with formatted question objects</li>
</ul>
<p><strong>‚úì You should see:</strong> React DevTools shows <code>currentQuestions</code> array filled with transformed question objects when you click zones.</p>
<p><img src="data:image/svg+xml; charset=utf-8;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI1MDAiIGhlaWdodD0iMzUwIiB2aWV3Qm94PSIwIDAgNTAwIDM1MCI+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0iI0RERERERCIvPjxwYXRoIGZpbGw9IiM5OTk5OTkiIGQ9Ik0xMDIuODUgMTczLjQzNWgxLjY4cS43NiAwIDEuMzMtLjE5LjU2LS4xOS45My0uNTIuMzYtLjM0LjU0LS44dC4xOC0xLjAxcTAtMS4xLS43Mi0xLjY5LS43My0uNTktMi4yMi0uNTloLTEuNzJ6bTQuOTggMi4yNCAzLjYyIDUuMzRoLTIuNDNxLS42OSAwLTEtLjU0bC0zLjA0LTQuNjNxLS4xNy0uMjYtLjM3LS4zNy0uMjEtLjExLS42MS0uMTFoLTEuMTV2NS42NWgtMi42OHYtMTQuNDZoNC40cTEuNDcgMCAyLjUzLjMgMS4wNS4zMSAxLjczLjg2LjY3LjU1Ljk5IDEuMzIuMzIuNzYuMzIgMS42OCAwIC43My0uMjEgMS4zOC0uMjIuNjUtLjYyIDEuMTgtLjQxLjUzLTEgLjkzLS42LjQtMS4zNi42My4yNi4xNS40OC4zNS4yMi4yMS40LjQ5bTYuNzUtLjk3aDQuNjZxMC0uNDgtLjEzLS45LS4xNC0uNDMtLjQxLS43NXQtLjY4LS41cS0uNDItLjE5LS45Ny0uMTktMS4wNyAwLTEuNjguNjEtLjYyLjYxLS43OSAxLjczbTYuMyAxLjQ5aC02LjM1cS4wNi43OS4yOCAxLjM2LjIyLjU4LjU4Ljk2LjM2LjM3Ljg2LjU1LjQ5LjE5IDEuMDkuMTl0MS4wNC0uMTRxLjQzLS4xNC43Ni0uMzEuMzItLjE3LjU3LS4zMS4yNC0uMTQuNDctLjE0LjMxIDAgLjQ2LjIzbC43MS45cS0uNDEuNDgtLjkyLjgxLS41MS4zMi0xLjA2LjUxLS41Ni4yLTEuMTMuMjgtLjU4LjA4LTEuMTIuMDgtMS4wNyAwLTEuOTktLjM2LS45Mi0uMzUtMS42LTEuMDUtLjY4LS42OS0xLjA3LTEuNzItLjM5LTEuMDItLjM5LTIuMzcgMC0xLjA1LjM0LTEuOTguMzQtLjkyLjk4LTEuNjEuNjMtLjY4IDEuNTUtMS4wOC45MS0uNCAyLjA2LS40Ljk3IDAgMS43OS4zMXQxLjQxLjlxLjU5LjYuOTMgMS40Ni4zMy44Ny4zMyAxLjk4IDAgLjU2LS4xMi43Ni0uMTIuMTktLjQ2LjE5bTcuODUgMi4xN3YtMS43M3EtMS4wNy4wNS0xLjguMTgtLjczLjE0LTEuMTcuMzV0LS42My40OS0uMTkuNjFxMCAuNjUuMzkuOTMuMzguMjggMSAuMjguNzYgMCAxLjMyLS4yNy41NS0uMjggMS4wOC0uODRtLTUuMjItNS4zOS0uNDQtLjc5cTEuNzctMS42MiA0LjI2LTEuNjIuOSAwIDEuNjEuMy43MS4yOSAxLjIuODEuNDkuNTMuNzUgMS4yNi4yNS43My4yNSAxLjZ2Ni40OGgtMS4xMnEtLjM1IDAtLjU0LS4xLS4xOS0uMTEtLjMtLjQzbC0uMjItLjc0cS0uMzkuMzUtLjc2LjYxLS4zNy4yNy0uNzcuNDV0LS44NS4yOHEtLjQ2LjA5LTEuMDEuMDktLjY1IDAtMS4yLS4xNy0uNTUtLjE4LS45NS0uNTN0LS42Mi0uODctLjIyLTEuMjFxMC0uMzkuMTMtLjc4LjEzLS4zOC40My0uNzMuMjktLjM1Ljc2LS42NnQxLjE2LS41NHEuNjgtLjIzIDEuNTktLjM4LjkxLS4xNCAyLjA4LS4xN3YtLjZxMC0xLjAzLS40NC0xLjUzLS40NC0uNDktMS4yNy0uNDktLjYgMC0uOTkuMTQtLjQuMTQtLjcuMzItLjMuMTctLjU0LjMxLS4yNS4xNC0uNTUuMTQtLjI2IDAtLjQ0LS4xNC0uMTgtLjEzLS4yOS0uMzFtMTcuOTUtLjk1LS42NS45cS0uMTEuMTQtLjIxLjIyLS4xMS4wOC0uMzEuMDgtLjE5IDAtLjM3LS4xMmwtLjQzLS4yNnEtLjI1LS4xNC0uNTktLjI2LS4zNS0uMTEtLjg2LS4xMS0uNjUgMC0xLjE0LjI0LS40OS4yMy0uODEuNjctLjMzLjQ0LS40OSAxLjA2LS4xNi42My0uMTYgMS40MiAwIC44Mi4xOCAxLjQ2LjE3LjY0LjUgMS4wNy4zMy40NC44LjY2LjQ3LjIzIDEuMDYuMjN0Ljk2LS4xNXEuMzYtLjE0LjYxLS4zMS4yNS0uMTguNDQtLjMzLjE4LS4xNC40MS0uMTQuMyAwIC40NS4yM2wuNzEuOXEtLjQxLjQ4LS44OS44MS0uNDguMzItLjk5LjUxLS41Mi4yLTEuMDYuMjgtLjU1LjA4LTEuMDkuMDgtLjk1IDAtMS43OS0uMzYtLjg0LS4zNS0xLjQ3LTEuMDN0LS45OS0xLjY3cS0uMzctLjk4LS4zNy0yLjI0IDAtMS4xMy4zMy0yLjEuMzItLjk2Ljk1LTEuNjcuNjMtLjcgMS41Ni0xLjF0Mi4xNC0uNHExLjE1IDAgMi4wMi4zNy44Ni4zNyAxLjU1IDEuMDZtNS4wNiA5LjE1cS0xLjM0IDAtMi4wNS0uNzUtLjcyLS43Ni0uNzItMi4wOXYtNS43M2gtMS4wNXEtLjIgMC0uMzQtLjEzdC0uMTQtLjM5di0uOThsMS42NS0uMjcuNTItMi44cS4wNS0uMi4xOS0uMzF0LjM2LS4xMWgxLjI4djMuMjNoMi43NHYxLjc2aC0yLjc0djUuNTZxMCAuNDguMjQuNzUuMjMuMjcuNjQuMjcuMjMgMCAuMzktLjA2LjE1LS4wNS4yNy0uMTEuMTEtLjA2LjItLjEyLjA5LS4wNS4xOC0uMDUuMTEgMCAuMTguMDUuMDcuMDYuMTUuMTdsLjc0IDEuMnEtLjU0LjQ1LTEuMjQuNjh0LTEuNDUuMjNtMjIuMTEtNy4zOXEwIDEuNTktLjUzIDIuOTJ0LTEuNDkgMi4yOS0yLjMxIDEuNDktMyAuNTNoLTUuNTF2LTE0LjQ2aDUuNTFxMS42NSAwIDMgLjUzIDEuMzUuNTQgMi4zMSAxLjQ5Ljk2Ljk2IDEuNDkgMi4yOXQuNTMgMi45Mm0tMi43NiAwcTAtMS4xOS0uMzEtMi4xNC0uMzItLjk0LS45MS0xLjU5LS42LS42Ni0xLjQ0LTEuMDEtLjg1LS4zNS0xLjkxLS4zNWgtMi44MXYxMC4xOGgyLjgxcTEuMDYgMCAxLjkxLS4zNS44NC0uMzUgMS40NC0xLjAxLjU5LS42NS45MS0xLjU5LjMxLS45NS4zMS0yLjE0bTYuNjkuOTJoNC42NnEwLS40OC0uMTMtLjktLjE0LS40My0uNDEtLjc1dC0uNjgtLjVxLS40Mi0uMTktLjk3LS4xOS0xLjA3IDAtMS42OC42MS0uNjIuNjEtLjc5IDEuNzNtNi4zIDEuNDloLTYuMzVxLjA2Ljc5LjI4IDEuMzYuMjIuNTguNTguOTYuMzYuMzcuODYuNTUuNDkuMTkgMS4wOS4xOXQxLjA0LS4xNHEuNDMtLjE0Ljc2LS4zMS4zMi0uMTcuNTctLjMxLjI0LS4xNC40Ny0uMTQuMzEgMCAuNDYuMjNsLjcxLjlxLS40MS40OC0uOTIuODEtLjUxLjMyLTEuMDYuNTEtLjU2LjItMS4xMy4yOC0uNTguMDgtMS4xMi4wOC0xLjA3IDAtMS45OS0uMzYtLjkyLS4zNS0xLjYtMS4wNS0uNjgtLjY5LTEuMDctMS43Mi0uMzktMS4wMi0uMzktMi4zNyAwLTEuMDUuMzQtMS45OC4zNC0uOTIuOTgtMS42MS42My0uNjggMS41NS0xLjA4LjkxLS40IDIuMDYtLjQuOTcgMCAxLjc5LjMxdDEuNDEuOXEuNTkuNi45MyAxLjQ2LjMzLjg3LjMzIDEuOTggMCAuNTYtLjEyLjc2LS4xMi4xOS0uNDYuMTltOS43My01LjQ0aDEuOTVsLTQuMDcgMTAuMjZoLTIuMjRsLTQuMDYtMTAuMjZoMi4wM3EuMjggMCAuNDcuMTMuMTguMTMuMjUuMzNsMS45NyA1LjQ4cS4xNy40OC4yOC45NC4xMi40Ni4yMS45Mi4xLS40Ni4yMi0uOTJ0LjI5LS45NGwyLjAzLTUuNDhxLjA2LS4yLjI1LS4zMy4xNy0uMTMuNDItLjEzbTEzLjc2LTQuMnYyLjIxaC00LjM2djEyLjI1aC0yLjd2LTEyLjI1aC00LjM2di0yLjIxem02LjA0IDQuMDRxMS4xNCAwIDIuMDguMzcuOTMuMzcgMS42IDEuMDV0MS4wMyAxLjY2LjM2IDIuMTlxMCAxLjIyLS4zNiAyLjJ0LTEuMDMgMS42Ny0xLjYgMS4wNnEtLjk0LjM3LTIuMDguMzctMS4xNSAwLTIuMDgtLjM3LS45NS0uMzctMS42MS0xLjA2LS42Ny0uNjktMS4wMy0xLjY3dC0uMzYtMi4ycTAtMS4yMS4zNi0yLjE5dDEuMDMtMS42NnEuNjYtLjY4IDEuNjEtMS4wNS45My0uMzcgMi4wOC0uMzdtMCA4LjY3cTEuMjggMCAxLjktLjg2LjYxLS44Ni42MS0yLjUydC0uNjEtMi41M3EtLjYyLS44Ny0xLjktLjg3LTEuMjkgMC0xLjkyLjg3LS42Mi44OC0uNjIgMi41M3QuNjIgMi41MXEuNjMuODcgMS45Mi44N20xMS40OS04LjY3cTEuMTUgMCAyLjA4LjM3Ljk0LjM3IDEuNiAxLjA1LjY3LjY4IDEuMDMgMS42NnQuMzYgMi4xOXEwIDEuMjItLjM2IDIuMnQtMS4wMyAxLjY3cS0uNjYuNjktMS42IDEuMDYtLjkzLjM3LTIuMDguMzctMS4xNCAwLTIuMDgtLjM3LS45NS0uMzctMS42MS0xLjA2dC0xLjAzLTEuNjdxLS4zNi0uOTgtLjM2LTIuMiAwLTEuMjEuMzYtMi4xOS4zNy0uOTggMS4wMy0xLjY2dDEuNjEtMS4wNXEuOTQtLjM3IDIuMDgtLjM3bTAgOC42N3ExLjI5IDAgMS45LS44Ni42Mi0uODYuNjItMi41MnQtLjYyLTIuNTNxLS42MS0uODctMS45LS44N3QtMS45Mi44N3EtLjYyLjg4LS42MiAyLjUzdC42MiAyLjUxcS42My44NyAxLjkyLjg3bTYuOTktMTMuMTFoMi40N3YxNC44NmgtMi40N3ptMTEuNzYgNS43MS0uNTYuODlxLS4xLjE2LS4yMS4yMi0uMTEuMDctLjI4LjA3LS4xOCAwLS4zOS0uMS0uMi0uMS0uNDctLjIyLS4yNy0uMTMtLjYyLS4yMy0uMzQtLjEtLjgxLS4xLS43MyAwLTEuMTUuMzEtLjQxLjMxLS40MS44MSAwIC4zMy4yMS41NS4yMi4yMy41Ny40LjM2LjE3LjgxLjMuNDUuMTQuOTEuMy40Ny4xNi45Mi4zNy40NS4yLjguNTEuMzYuMzIuNTcuNzYuMjIuNDQuMjIgMS4wNiAwIC43NC0uMjcgMS4zNi0uMjYuNjMtLjc4IDEuMDgtLjUyLjQ2LTEuMjkuNzEtLjc2LjI2LTEuNzYuMjYtLjUzIDAtMS4wNC0uMDktLjUtLjEtLjk3LS4yNy0uNDYtLjE3LS44Ni0uNC0uMzktLjIzLS42OS0uNWwuNTctLjk0cS4xMS0uMTcuMjYtLjI2dC4zOC0uMDkuNDMuMTNxLjIxLjEzLjQ4LjI4dC42My4yOHEuMzcuMTMuOTMuMTMuNDQgMCAuNzUtLjExLjMyLS4xLjUyLS4yNy4yMS0uMTcuMy0uNC4xLS4yMi4xLS40NiAwLS4zNi0uMjItLjU5LS4yMS0uMjMtLjU3LS40LS4zNS0uMTctLjgxLS4zMS0uNDUtLjEzLS45My0uMjktLjQ3LS4xNi0uOTMtLjM4LS40NS0uMjEtLjgxLS41NC0uMzUtLjMzLS41Ny0uODEtLjIxLS40OC0uMjEtMS4xNiAwLS42My4yNS0xLjJ0LjczLS45OXEuNDktLjQzIDEuMjEtLjY5LjczLS4yNSAxLjY4LS4yNSAxLjA2IDAgMS45My4zNXQxLjQ1LjkybTE0LjgzLjE2LS42NS45cS0uMTEuMTQtLjIyLjIyLS4xLjA4LS4zLjA4LS4xOSAwLS4zNy0uMTJsLS40My0uMjZxLS4yNS0uMTQtLjYtLjI2LS4zNC0uMTEtLjg1LS4xMS0uNjUgMC0xLjE0LjI0LS40OS4yMy0uODIuNjctLjMyLjQ0LS40OCAxLjA2LS4xNi42My0uMTYgMS40MiAwIC44Mi4xNyAxLjQ2LjE4LjY0LjUxIDEuMDcuMzMuNDQuOC42Ni40Ny4yMyAxLjA2LjIzdC45NS0uMTVxLjM3LS4xNC42Mi0uMzEuMjUtLjE4LjQzLS4zMy4xOS0uMTQuNDItLjE0LjMgMCAuNDUuMjNsLjcxLjlxLS40MS40OC0uODkuODEtLjQ4LjMyLTEgLjUxLS41MS4yLTEuMDYuMjgtLjU0LjA4LTEuMDguMDgtLjk1IDAtMS43OS0uMzYtLjg0LS4zNS0xLjQ3LTEuMDN0LTEtMS42N3EtLjM2LS45OC0uMzYtMi4yNCAwLTEuMTMuMzItMi4xLjMzLS45Ni45Ni0xLjY3LjYzLS43IDEuNTYtMS4xdDIuMTQtLjRxMS4xNSAwIDIuMDEuMzcuODcuMzcgMS41NiAxLjA2bTguMDEtMS4yN2gyLjQ3djEwLjI2aC0xLjUxcS0uNDkgMC0uNjItLjQ1bC0uMTctLjgycS0uNjMuNjQtMS4zOSAxLjAzLS43Ni40LTEuNzkuNC0uODQgMC0xLjQ5LS4yOS0uNjQtLjI4LTEuMDgtLjh0LS42Ny0xLjI0cS0uMjItLjcxLS4yMi0xLjU3di02LjUyaDIuNDd2Ni41MnEwIC45NC40MyAxLjQ1LjQ0LjUyIDEuMzEuNTIuNjQgMCAxLjItLjI5LjU2LS4yOCAxLjA2LS43OHptNy4wOS42Mi4xNSAxLjE2cS40OC0uOTIgMS4xNC0xLjQ1LjY2LS41MiAxLjU2LS41Mi43MSAwIDEuMTQuMzFsLS4xNiAxLjg1cS0uMDUuMTgtLjE1LjI1LS4wOS4wOC0uMjUuMDgtLjE1IDAtLjQ1LS4wNS0uMjktLjA1LS41Ny0uMDUtLjQxIDAtLjczLjEydC0uNTguMzVxLS4yNS4yMi0uNDUuNTQtLjE5LjMyLS4zNi43M3Y2LjMyaC0yLjQ3di0xMC4yNmgxLjQ1cS4zOCAwIC41My4xMy4xNS4xNC4yLjQ5bTcuNDYgMCAuMTUgMS4xNnEuNDgtLjkyIDEuMTQtMS40NS42Ni0uNTIgMS41Ni0uNTIuNzEgMCAxLjE0LjMxbC0uMTYgMS44NXEtLjA1LjE4LS4xNS4yNS0uMDkuMDgtLjI1LjA4LS4xNSAwLS40NS0uMDUtLjI5LS4wNS0uNTctLjA1LS40MSAwLS43My4xMnQtLjU4LjM1cS0uMjUuMjItLjQ1LjU0LS4xOS4zMi0uMzYuNzN2Ni4zMmgtMi40N3YtMTAuMjZoMS40NXEuMzggMCAuNTMuMTMuMTUuMTQuMi40OW03LjIzIDMuMzNoNC42NnEwLS40OC0uMTQtLjktLjEzLS40My0uNC0uNzV0LS42OS0uNXEtLjQxLS4xOS0uOTYtLjE5LTEuMDcgMC0xLjY5LjYxLS42MS42MS0uNzggMS43M202LjMgMS40OWgtNi4zNXEuMDYuNzkuMjggMS4zNi4yMi41OC41OC45Ni4zNi4zNy44NS41NS41LjE5IDEuMS4xOXQxLjAzLS4xNHEuNDQtLjE0Ljc2LS4zMS4zMy0uMTcuNTctLjMxLjI1LS4xNC40OC0uMTQuMzEgMCAuNDYuMjNsLjcxLjlxLS40MS40OC0uOTIuODEtLjUxLjMyLTEuMDcuNTEtLjU1LjItMS4xMy4yOC0uNTcuMDgtMS4xMS4wOC0xLjA3IDAtMS45OS0uMzYtLjkyLS4zNS0xLjYtMS4wNS0uNjgtLjY5LTEuMDctMS43Mi0uMzktMS4wMi0uMzktMi4zNyAwLTEuMDUuMzQtMS45OC4zNC0uOTIuOTctMS42MS42NC0uNjggMS41NS0xLjA4LjkyLS40IDIuMDctLjQuOTcgMCAxLjc5LjMxdDEuNDEuOXEuNTkuNi45MiAxLjQ2LjM0Ljg3LjM0IDEuOTggMCAuNTYtLjEyLjc2LS4xMi4xOS0uNDYuMTltNC41Ny00Ljk5LjE3LjgxcS4zMS0uMzEuNjUtLjU4LjM1LS4yNi43My0uNDUuMzktLjE4LjgzLS4yOC40NC0uMTEuOTYtLjExLjg0IDAgMS40OS4yOS42NS4yOCAxLjA4Ljc5LjQ0LjUyLjY2IDEuMjMuMjMuNzIuMjMgMS41OHY2LjUzaC0yLjQ3di02LjUzcTAtLjk0LS40My0xLjQ2LS40My0uNTEtMS4zMS0uNTEtLjY0IDAtMS4yLjI5dC0xLjA2Ljc5djcuNDJoLTIuNDd2LTEwLjI2aDEuNTFxLjQ4IDAgLjYzLjQ1bTEyLjU2IDkuOTdxLTEuMzQgMC0yLjA2LS43NS0uNzEtLjc2LS43MS0yLjA5di01LjczaC0xLjA1cS0uMiAwLS4zNC0uMTN0LS4xNC0uMzl2LS45OGwxLjY1LS4yNy41Mi0yLjhxLjA1LS4yLjE5LS4zMXQuMzYtLjExaDEuMjh2My4yM2gyLjc0djEuNzZoLTIuNzR2NS41NnEwIC40OC4yMy43NS4yNC4yNy42NS4yNy4yMyAwIC4zOC0uMDYuMTYtLjA1LjI3LS4xMS4xMi0uMDYuMjEtLjEyLjA5LS4wNS4xOC0uMDUuMTEgMCAuMTguMDUuMDcuMDYuMTUuMTdsLjc0IDEuMnEtLjU0LjQ1LTEuMjQuNjh0LTEuNDUuMjNtNi4zMS03LjM5cTAgMS4xOS4zMiAyLjE0LjMyLjk0LjkxIDEuNTkuNi42NiAxLjQ0IDEuMDEuODUuMzUgMS45MS4zNXQxLjktLjM1cS44NS0uMzUgMS40NC0xLjAxLjU4LS42NS45MS0xLjU5LjMyLS45NS4zMi0yLjE0dC0uMzItMi4xNHEtLjMzLS45NC0uOTEtMS42LS41OS0uNjYtMS40NC0xLjAxLS44NC0uMzUtMS45LS4zNXQtMS45MS4zNXEtLjg0LjM1LTEuNDQgMS4wMS0uNTkuNjYtLjkxIDEuNi0uMzIuOTUtLjMyIDIuMTRtOC45NyA2LjA2IDMuNjggNGgtMi4yMnEtLjQ4IDAtLjg3LS4xMy0uMzgtLjEzLS43LS40OGwtMi4xMi0yLjM0cS0uNTIuMTQtMS4wNS4yMXQtMS4xMS4wN3EtMS42NCAwLTMtLjU2LTEuMzQtLjU1LTIuMzEtMS41NC0uOTYtLjk5LTEuNDktMi4zNS0uNTMtMS4zNS0uNTMtMi45NHQuNTMtMi45NXEuNTMtMS4zNSAxLjQ5LTIuMzQuOTctLjk5IDIuMzEtMS41NCAxLjM2LS41NiAzLS41NiAxLjEgMCAyLjA3LjI1Ljk2LjI2IDEuNzguNzMuODEuNDYgMS40NSAxLjEyLjY1LjY3IDEuMDkgMS40OS40Ni44Mi42OSAxLjc4LjI0Ljk2LjI0IDIuMDIgMCAuOTctLjIgMS44NS0uMi44OS0uNTggMS42Ni0uMzcuNzctLjkxIDEuNDEtLjU0LjY1LTEuMjQgMS4xNG0xMS4yNy05LjA5aDIuNDd2MTAuMjZoLTEuNTJxLS40OCAwLS42MS0uNDVsLS4xNy0uODJxLS42NC42NC0xLjM5IDEuMDMtLjc3LjQtMS44LjQtLjg0IDAtMS40OC0uMjktLjY0LS4yOC0xLjA4LS44LS40NS0uNTItLjY3LTEuMjQtLjIyLS43MS0uMjItMS41N3YtNi41MmgyLjQ3djYuNTJxMCAuOTQuNDMgMS40NS40My41MiAxLjMuNTIuNjQgMCAxLjIxLS4yOS41Ni0uMjggMS4wNi0uNzh6bTYuODYgMy45NWg0LjY1cTAtLjQ4LS4xMy0uOS0uMTMtLjQzLS40LS43NS0uMjgtLjMyLS42OS0uNS0uNDItLjE5LS45Ni0uMTktMS4wOCAwLTEuNjkuNjF0LS43OCAxLjczbTYuMyAxLjQ5aC02LjM1cS4wNi43OS4yOCAxLjM2LjIyLjU4LjU4Ljk2LjM2LjM3Ljg1LjU1LjQ5LjE5IDEuMS4xOS42IDAgMS4wMy0uMTQuNDQtLjE0Ljc2LS4zMXQuNTctLjMxLjQ3LS4xNHEuMzEgMCAuNDcuMjNsLjcuOXEtLjQuNDgtLjkyLjgxLS41LjMyLTEuMDYuNTEtLjU1LjItMS4xMy4yOC0uNTcuMDgtMS4xMi4wOC0xLjA2IDAtMS45OC0uMzYtLjkzLS4zNS0xLjYtMS4wNS0uNjktLjY5LTEuMDgtMS43Mi0uMzktMS4wMi0uMzktMi4zNyAwLTEuMDUuMzUtMS45OC4zNC0uOTIuOTctMS42MS42NC0uNjggMS41NS0xLjA4dDIuMDctLjRxLjk3IDAgMS43OC4zMS44My4zMSAxLjQyLjkuNTguNi45MiAxLjQ2LjMzLjg3LjMzIDEuOTggMCAuNTYtLjExLjc2LS4xMi4xOS0uNDYuMTltOS4yNS00LjMzLS41Ni44OXEtLjEuMTYtLjIxLjIyLS4xMS4wNy0uMjguMDctLjE4IDAtLjM5LS4xLS4yLS4xLS40Ny0uMjItLjI3LS4xMy0uNjItLjIzLS4zNC0uMS0uODEtLjEtLjczIDAtMS4xNS4zMS0uNDEuMzEtLjQxLjgxIDAgLjMzLjIxLjU1LjIyLjIzLjU3LjQuMzYuMTcuODEuMy40NS4xNC45MS4zLjQ3LjE2LjkyLjM3LjQ1LjIuOC41MS4zNi4zMi41Ny43Ni4yMi40NC4yMiAxLjA2IDAgLjc0LS4yNyAxLjM2LS4yNi42My0uNzggMS4wOC0uNTIuNDYtMS4yOS43MS0uNzYuMjYtMS43Ni4yNi0uNTMgMC0xLjA0LS4wOS0uNS0uMS0uOTctLjI3LS40Ni0uMTctLjg2LS40LS4zOS0uMjMtLjY5LS41bC41Ny0uOTRxLjExLS4xNy4yNi0uMjZ0LjM4LS4wOS40My4xM3EuMjEuMTMuNDguMjh0LjYzLjI4cS4zNy4xMy45My4xMy40NCAwIC43NS0uMTEuMzItLjEuNTItLjI3LjIxLS4xNy4zLS40LjEtLjIyLjEtLjQ2IDAtLjM2LS4yMi0uNTktLjIxLS4yMy0uNTctLjQtLjM1LS4xNy0uODEtLjMxLS40NS0uMTMtLjkzLS4yOS0uNDctLjE2LS45My0uMzgtLjQ1LS4yMS0uODEtLjU0LS4zNS0uMzMtLjU3LS44MS0uMjEtLjQ4LS4yMS0xLjE2IDAtLjYzLjI1LTEuMnQuNzMtLjk5cS40OS0uNDMgMS4yMS0uNjkuNzMtLjI1IDEuNjgtLjI1IDEuMDYgMCAxLjkzLjM1dDEuNDUuOTJtNS4zOSA5LjMxcS0xLjM0IDAtMi4wNi0uNzUtLjcxLS43Ni0uNzEtMi4wOXYtNS43M2gtMS4wNXEtLjIgMC0uMzQtLjEzdC0uMTQtLjM5di0uOThsMS42NS0uMjcuNTItMi44cS4wNS0uMi4xOS0uMzF0LjM2LS4xMWgxLjI4djMuMjNoMi43NHYxLjc2aC0yLjc0djUuNTZxMCAuNDguMjMuNzUuMjQuMjcuNjUuMjcuMjMgMCAuMzgtLjA2LjE2LS4wNS4yNy0uMTEuMTItLjA2LjIxLS4xMi4wOS0uMDUuMTgtLjA1LjExIDAgLjE4LjA1LjA3LjA2LjE1LjE3bC43NCAxLjJxLS41NC40NS0xLjI0LjY4dC0xLjQ1LjIzbTQuMS0xMC40MmgyLjQ4djEwLjI2aC0yLjQ4em0yLjgyLTIuOTlxMCAuMzItLjEzLjZ0LS4zNS40OXEtLjIxLjIxLS41LjMzLS4yOS4xMy0uNjIuMTMtLjMyIDAtLjYxLS4xMy0uMjgtLjEyLS40OS0uMzN0LS4zNC0uNDlxLS4xMi0uMjgtLjEyLS42IDAtLjMzLjEyLS42Mi4xMy0uMjkuMzQtLjV0LjQ5LS4zNHEuMjktLjEyLjYxLS4xMi4zMyAwIC42Mi4xMi4yOS4xMy41LjM0LjIyLjIxLjM1LjV0LjEzLjYybTYuNzIgMi44M3ExLjE0IDAgMi4wNy4zNy45NC4zNyAxLjYgMS4wNS42Ny42OCAxLjAzIDEuNjZ0LjM2IDIuMTlxMCAxLjIyLS4zNiAyLjJ0LTEuMDMgMS42N3EtLjY2LjY5LTEuNiAxLjA2LS45My4zNy0yLjA3LjM3LTEuMTUgMC0yLjA5LS4zN3QtMS42MS0xLjA2cS0uNjYtLjY5LTEuMDMtMS42Ny0uMzYtLjk4LS4zNi0yLjIgMC0xLjIxLjM2LTIuMTkuMzctLjk4IDEuMDMtMS42Ni42Ny0uNjggMS42MS0xLjA1dDIuMDktLjM3bTAgOC42N3ExLjI4IDAgMS44OS0uODYuNjItLjg2LjYyLTIuNTJ0LS42Mi0yLjUzcS0uNjEtLjg3LTEuODktLjg3LTEuMyAwLTEuOTMuODctLjYyLjg4LS42MiAyLjUzdC42MiAyLjUxcS42My44NyAxLjkzLjg3bTkuMDktOC4wNi4xNy44MXEuMzEtLjMxLjY1LS41OC4zNS0uMjYuNzMtLjQ1LjM5LS4xOC44My0uMjguNDQtLjExLjk2LS4xMS44NCAwIDEuNDkuMjkuNjUuMjggMS4wOC43OS40NC41Mi42NiAxLjIzLjIzLjcyLjIzIDEuNTh2Ni41M2gtMi40N3YtNi41M3EwLS45NC0uNDMtMS40Ni0uNDMtLjUxLTEuMzEtLjUxLS42NCAwLTEuMi4yOXQtMS4wNi43OXY3LjQyaC0yLjQ3di0xMC4yNmgxLjUxcS40OCAwIC42My40NW0xNS45Ni42Ni0uNTYuODlxLS4xLjE2LS4yMS4yMi0uMTEuMDctLjI4LjA3LS4xOCAwLS4zOS0uMS0uMi0uMS0uNDctLjIyLS4yNy0uMTMtLjYyLS4yMy0uMzQtLjEtLjgxLS4xLS43MyAwLTEuMTUuMzEtLjQxLjMxLS40MS44MSAwIC4zMy4yMS41NS4yMi4yMy41Ny40LjM2LjE3LjgxLjMuNDUuMTQuOTEuMy40Ny4xNi45Mi4zNy40NS4yLjguNTEuMzYuMzIuNTcuNzYuMjIuNDQuMjIgMS4wNiAwIC43NC0uMjcgMS4zNi0uMjYuNjMtLjc4IDEuMDgtLjUyLjQ2LTEuMjkuNzEtLjc2LjI2LTEuNzYuMjYtLjUzIDAtMS4wNC0uMDktLjUtLjEtLjk3LS4yNy0uNDYtLjE3LS44Ni0uNC0uMzktLjIzLS42OS0uNWwuNTctLjk0cS4xMS0uMTcuMjYtLjI2dC4zOC0uMDkuNDMuMTNxLjIxLjEzLjQ4LjI4dC42My4yOHEuMzcuMTMuOTMuMTMuNDQgMCAuNzUtLjExLjMyLS4xLjUyLS4yNy4yMS0uMTcuMy0uNC4xLS4yMi4xLS40NiAwLS4zNi0uMjItLjU5LS4yMS0uMjMtLjU3LS40LS4zNS0uMTctLjgxLS4zMS0uNDUtLjEzLS45My0uMjktLjQ3LS4xNi0uOTMtLjM4LS40NS0uMjEtLjgxLS41NC0uMzUtLjMzLS41Ny0uODEtLjIxLS40OC0uMjEtMS4xNiAwLS42My4yNS0xLjJ0LjczLS45OXEuNDktLjQzIDEuMjEtLjY5LjczLS4yNSAxLjY4LS4yNSAxLjA2IDAgMS45My4zNXQxLjQ1LjkyIi8+PC9zdmc+" alt="React DevTools showing currentQuestions state populated with formatted question objects" style="max-width: 500px; width: 100%;"> <em>Figure: Verify formatted questions appear in currentQuestions state</em></p>
<p>Here‚Äôs the complete <code>fetchQuestions</code> function for reference:</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb17-1" title="1"><span class="im">export</span> <span class="kw">async</span> <span class="kw">function</span> <span class="at">fetchQuestions</span>(zoneId<span class="op">,</span> count <span class="op">=</span> <span class="kw">null</span>) <span class="op">{</span></a>
<a class="sourceLine" id="cb17-2" title="2">  <span class="kw">const</span> zone <span class="op">=</span> <span class="at">getZoneById</span>(zoneId)<span class="op">;</span></a>
<a class="sourceLine" id="cb17-3" title="3">  <span class="cf">if</span> (<span class="op">!</span>zone) <span class="cf">return</span> []<span class="op">;</span></a>
<a class="sourceLine" id="cb17-4" title="4"></a>
<a class="sourceLine" id="cb17-5" title="5">  <span class="kw">const</span> questionCount <span class="op">=</span> count <span class="op">||</span> <span class="va">zone</span>.<span class="at">questionCount</span><span class="op">;</span></a>
<a class="sourceLine" id="cb17-6" title="6">  <span class="kw">const</span> url <span class="op">=</span> <span class="at">buildApiUrl</span>(zone<span class="op">,</span> questionCount)<span class="op">;</span></a>
<a class="sourceLine" id="cb17-7" title="7"></a>
<a class="sourceLine" id="cb17-8" title="8">  <span class="cf">try</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb17-9" title="9">    <span class="kw">const</span> response <span class="op">=</span> <span class="cf">await</span> <span class="at">fetch</span>(url)<span class="op">;</span></a>
<a class="sourceLine" id="cb17-10" title="10">    <span class="kw">const</span> data <span class="op">=</span> <span class="cf">await</span> <span class="va">response</span>.<span class="at">json</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb17-11" title="11"></a>
<a class="sourceLine" id="cb17-12" title="12">    <span class="kw">const</span> questions <span class="op">=</span> <span class="va">data</span>.<span class="va">results</span>.<span class="at">map</span>((apiQuestion) <span class="kw">=&gt;</span></a>
<a class="sourceLine" id="cb17-13" title="13">      <span class="at">transformQuestion</span>(apiQuestion)</a>
<a class="sourceLine" id="cb17-14" title="14">    )<span class="op">;</span></a>
<a class="sourceLine" id="cb17-15" title="15">    <span class="cf">return</span> questions<span class="op">;</span></a>
<a class="sourceLine" id="cb17-16" title="16">  <span class="op">}</span> <span class="cf">catch</span> (error) <span class="op">{</span></a>
<a class="sourceLine" id="cb17-17" title="17">    <span class="va">console</span>.<span class="at">log</span>(<span class="st">&quot;Failed to fetch questions:&quot;</span><span class="op">,</span> error)<span class="op">;</span></a>
<a class="sourceLine" id="cb17-18" title="18">    <span class="cf">return</span> []<span class="op">;</span></a>
<a class="sourceLine" id="cb17-19" title="19">  <span class="op">}</span></a>
<a class="sourceLine" id="cb17-20" title="20"><span class="op">}</span></a></code></pre></div>
<p><a id="the-complete-data-flow"></a></p>
<h2 id="the-complete-data-flow">üîÑ The Complete Data Flow</h2>
<p>Let‚Äôs trace the complete journey from zone click to loaded questions:</p>
<pre class="mermaid"><code>graph TD
    A[User clicks zone] --&gt; B[GameMap handleZoneClick]
    B --&gt; C[GameContext loadQuestionsForZone]
    C --&gt; D[trivia.js fetchQuestions]
    D --&gt; E[buildApiUrl helper]
    E --&gt; F[fetch from OpenTrivia DB]
    F --&gt; G[response.json parsing]
    G --&gt; H[data.results.map transformation]
    H --&gt; I[transformQuestion for each item]
    I --&gt; J[decodeText + shuffleAnswers helpers]
    J --&gt; K[Formatted game objects returned]
    K --&gt; L[GameContext updates currentQuestions state]
    L --&gt; M[React re-renders with new data]</code></pre>
<h3 id="data-transformation-flow">Data Transformation Flow</h3>
<pre class="text"><code>‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                    API Response (Raw)                           ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ {                                                               ‚îÇ
‚îÇ   &quot;question&quot;: &quot;What%20does%20GHz%20stand%20for%3F&quot;,             ‚îÇ
‚îÇ   &quot;correct_answer&quot;: &quot;Gigahertz&quot;,                                ‚îÇ
‚îÇ   &quot;incorrect_answers&quot;: [&quot;Gigahotz&quot;, &quot;Gigahetz&quot;, &quot;Gigahatz&quot;]     ‚îÇ
‚îÇ }                                                               ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                                ‚îÇ
                                ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                 transformQuestion Function                      ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ 1. decodeText() ‚Üí Decode URL encoding                           ‚îÇ
‚îÇ 2. map() ‚Üí Transform incorrect answers array                    ‚îÇ
‚îÇ 3. shuffleAnswers() ‚Üí Randomize answer order                    ‚îÇ
‚îÇ 4. indexOf() ‚Üí Find correct answer position                     ‚îÇ
‚îÇ 5. Return formatted object                                      ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                                ‚îÇ
                                ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                   Game Format (Transformed)                     ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ {                                                               ‚îÇ
‚îÇ   &quot;question&quot;: &quot;What does GHz stand for?&quot;,                       ‚îÇ
‚îÇ   &quot;answers&quot;: [&quot;Gigahotz&quot;, &quot;Gigahertz&quot;, &quot;Gigahetz&quot;, &quot;Gigahatz&quot;], ‚îÇ
‚îÇ   &quot;correct&quot;: 1                                                  ‚îÇ
‚îÇ }                                                               ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò</code></pre>
<blockquote>
<p>üí° <strong>Tracing Data Through Your App</strong></p>
<p>Understanding the complete data flow helps you debug issues and build more complex features. You‚Äôve created a robust pipeline that handles <strong>API</strong> requests, data transformation, and state management ‚Äî the same patterns used in modern web applications. When something breaks, trace the flow: user action ‚Üí context function ‚Üí API call ‚Üí transformation ‚Üí state update ‚Üí UI render.</p>
</blockquote>
<p><a id="essential-terms"></a></p>
<h2 id="essential-terms">üìö Essential Terms</h2>
<p><em>Quick reference for all the API and asynchronous programming concepts you just learned:</em></p>
<table>
<colgroup>
<col style="width: 22%"></col>
<col style="width: 33%"></col>
<col style="width: 44%"></col>
</colgroup>
<thead>
<tr class="header">
<th>Term</th>
<th>Definition</th>
<th>Why it matters</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>üåê Application Programming Interface (API)</td>
<td>A set of rules and protocols that allows different software applications to communicate with each other.</td>
<td>Your trivia game uses the OpenTrivia Database <strong>API</strong> to fetch real questions, transforming static zones into dynamic content.</td>
</tr>
<tr class="even">
<td>üìã JSON</td>
<td>JavaScript Object Notation ‚Äî a text format for exchanging structured data between applications.</td>
<td>OpenTrivia Database returns question data in <strong>JSON</strong> format, which your <code>transformQuestion</code> function converts to game format.</td>
</tr>
<tr class="odd">
<td>üì® HTTP request</td>
<td>A message sent from your application to a server asking for specific data or resources.</td>
<td>Each zone click triggers an <strong>HTTP request</strong> to OpenTrivia Database with your zone‚Äôs specific parameters.</td>
</tr>
<tr class="even">
<td>üì° Fetch API</td>
<td>A modern JavaScript interface for making HTTP requests to servers and APIs.</td>
<td>Your <code>fetchQuestions</code> function uses the <strong>Fetch API</strong> to request trivia data based on each zone‚Äôs category and difficulty settings.</td>
</tr>
<tr class="odd">
<td>üîó Uniform Resource Identifier (URI)</td>
<td>A string that uniquely identifies a resource on the internet, which can be the same as or part of a URL.</td>
<td>Your <code>buildApiUrl</code> function creates <strong>URIs</strong> that uniquely identify the OpenTrivia API endpoint with specific parameters for each zone.</td>
</tr>
<tr class="even">
<td>üîê URL encoding</td>
<td>A method of converting characters into a format safe for transmission over the internet.</td>
<td>Question text comes <strong>URL-encoded</strong> from the API ‚Äî your <code>decodeText</code> function converts it to readable game text.</td>
</tr>
<tr class="odd">
<td>‚è∞ asynchronous programming</td>
<td>Code execution that doesn‚Äôt block while waiting for operations to complete, allowing other code to run.</td>
<td>Your game stays responsive while fetching questions ‚Äî users can still interact with the UI during network requests.</td>
</tr>
<tr class="even">
<td>üîÑ async/await</td>
<td>JavaScript syntax that makes asynchronous code look and behave like synchronous code.</td>
<td>Your <code>fetchQuestions</code> function uses <strong>async/await</strong> to handle API requests in a readable, step-by-step manner.</td>
</tr>
<tr class="odd">
<td>ü§ù promise</td>
<td>A JavaScript object representing the eventual completion or failure of an asynchronous operation.</td>
<td>Every <code>fetch</code> call returns a <strong>promise</strong> ‚Äî your game will eventually get questions or handle the error gracefully.</td>
</tr>
</tbody>
</table>
<p><a id="ask-the-ai"></a></p>
<h2 id="ask-the-ai-generating-dynamic-questions">ü§ñ Ask the AI ‚Äî Generating Dynamic Questions</h2>
<p>You just built a complete API integration with data fetching, transformation, and error handling ‚Äî excellent work!</p>
<p>Now let‚Äôs deepen your understanding of APIs, asynchronous programming, and data transformation patterns. Here are the most impactful questions to ask your AI assistant about today‚Äôs session:</p>
<ul>
<li><strong>What makes APIs so important in modern web development?</strong></li>
<li><strong>Why do APIs often return data in formats that need transformation?</strong></li>
<li><strong>What are the benefits of separating data fetching from data transformation?</strong></li>
<li><strong>How does the Fetch API handle network errors and what should developers do about them?</strong></li>
<li><strong>How do helper functions like decodeText and shuffleAnswers improve code quality?</strong></li>
<li><strong>How does the return keyword work in JavaScript functions, and can you explain it with a non-tech example?</strong></li>
<li><strong>What is functional programming?</strong></li>
</ul>
</body>
</html>
