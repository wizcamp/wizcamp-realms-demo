<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang xml:lang>
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>SESSION-05-instruction - Wizcamp Session Guide</title>
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
  <style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>
  <style type="text/css">

@page {
margin: 0.6in 0.75in 0.6in 0.75in;
size: letter;
}
body {
font-family: "Inter", -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif;
font-size: 16px;
line-height: 1.4;
color: #1f2328;
margin: 0;
padding: 0;
max-width: none;
overflow-x: hidden !important;
}

* {
scrollbar-width: none !important;
-ms-overflow-style: none !important;
}
*::-webkit-scrollbar {
display: none !important;
}

html, body {
overflow-x: hidden !important;
width: 100% !important;
max-width: 100% !important;
}
h1, h2, h3, h4, h5, h6 {
font-family: "Inter", -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif;
font-weight: 600;
line-height: 1.25;
margin-bottom: 16px;
margin-top: 24px;
}
h1 {
font-size: 1.75em;
border-bottom: 1px solid #d0d7de;
padding-bottom: 0.3em;
margin-top: 0;
}
h2 {
font-size: 1.5em;
border-bottom: 1px solid #d0d7de;
padding-bottom: 0.3em;
margin-top: 24px;
margin-bottom: 16px;
}

h1 + * h2:first-of-type,
h2:first-of-type {
margin-top: 24px;
}

a[id] {
scroll-margin-top: 20px;
}
h3 {
font-size: 1.25em;
margin-top: 24px;
margin-bottom: 12px;
page-break-after: avoid;
break-after: avoid;
}

h2, h3 {
page-break-after: avoid;
}

ol, ul, li, p {
page-break-inside: auto;
}
code {
font-family: "JetBrains Mono", ui-monospace, SFMono-Regular, "SF Mono", Consolas, monospace !important;
font-size: 13px !important;
font-weight: 500 !important;
background-color: #f6f8fa !important;
color: #24292f !important;
padding: 1px 3px !important;
border-radius: 3px !important;
white-space: nowrap;
word-break: break-word;
-webkit-print-color-adjust: exact !important;
print-color-adjust: exact !important;
text-decoration: none !important;
}
pre {
font-family: "JetBrains Mono", ui-monospace, SFMono-Regular, "SF Mono", Consolas, monospace !important;
background-color: #f8f9fa !important;
border: 1px solid #e1e4e8 !important;
border-radius: 6px !important;
padding: 16px !important;
overflow: hidden !important;
white-space: pre-wrap !important;
word-wrap: break-word !important;
page-break-inside: avoid !important;
-webkit-print-color-adjust: exact !important;
print-color-adjust: exact !important;
font-size: 14px !important;
line-height: 1.4 !important;
display: block !important;
width: 100% !important;
max-width: 100% !important;
box-sizing: border-box !important;
text-decoration: none !important;
-webkit-text-decorations-in-effect: none !important;
font-variant-ligatures: none !important;
}

@media print {
pre {
white-space: pre !important;
font-family: "JetBrains Mono", monospace !important;
display: block !important;
text-decoration: none !important;
-webkit-text-decorations-in-effect: none !important;
font-variant-ligatures: none !important;
}
pre * {
white-space: pre !important;
text-decoration: none !important;
-webkit-text-decorations-in-effect: none !important;
font-variant-ligatures: none !important;
}
code {
text-decoration: none !important;
-webkit-text-decorations-in-effect: none !important;
font-variant-ligatures: none !important;
}
}
pre code {
background-color: transparent !important;
border: none !important;
padding: 0 !important;
color: #24292f !important;
text-decoration: none !important;
}
ul, ol {
padding-left: 1.8em;
margin-bottom: 12px;
}
li {
margin-bottom: 6px;
line-height: 1.4;
}

li > ul > li:first-child,
li > ol > li:first-child {
margin-top: 8px;
}

li > ul > li > ul > li:first-child,
li > ol > li > ol > li:first-child {
margin-top: 6px;
}

@media print {
ul, ol {
display: block !important;
}
li {
display: list-item !important;
margin-bottom: 8px !important;
}

li > ul > li:first-child,
li > ol > li:first-child {
margin-top: 8px !important;
}
li > ul > li > ul > li:first-child,
li > ol > li > ol > li:first-child {
margin-top: 6px !important;
}

* {
box-sizing: border-box !important;
}
}
p {
margin-bottom: 12px;
}
a {
color: #0969da;
text-decoration: none;
}
strong {
font-weight: 600;
}

table {
border-collapse: collapse;
border-spacing: 0;
width: 100%;
max-width: 100%;
margin: 16px 0;
font-size: 16px;
line-height: 1.5;
table-layout: auto;
word-wrap: break-word;
}
th, td {
padding: 12px 16px;
text-align: left;
vertical-align: top;
border: 1px solid #d0d7de;
word-wrap: break-word;
overflow-wrap: break-word;
hyphens: auto;
}
th {
font-weight: 600;
background-color: #f6f8fa;
color: #24292f;
-webkit-print-color-adjust: exact !important;
print-color-adjust: exact !important;
}
tbody tr:nth-child(even) {
background-color: #f8f9fa;
-webkit-print-color-adjust: exact !important;
print-color-adjust: exact !important;
}

table code {
font-size: 14px !important;
padding: 2px 4px !important;
word-break: break-all;
}

table td:first-child {
width: 200px;
max-width: 250px;
}
table td:nth-child(2) {
width: auto;
}
table td:nth-child(3) {
width: auto;
}

table:not(:has(td:nth-child(3))) td:first-child,
table:not(:has(td:nth-child(3))) td:nth-child(2) {
width: 50% !important;
max-width: none !important;
}

table {
page-break-inside: auto !important;
}
th {
page-break-after: avoid !important;
}
tbody tr {
page-break-inside: avoid !important;
page-break-after: auto !important;
}

thead {
display: table-header-group !important;
}
@media print {
thead {
display: table-row-group !important;
}
table {
page-break-inside: auto !important;
}
tr {
page-break-inside: avoid !important;
}

* {
overflow: visible !important;
scrollbar-width: none !important;
-ms-overflow-style: none !important;
}
*::-webkit-scrollbar {
display: none !important;
}
html, body {
overflow-x: hidden !important;
}
}
</style>
</head>
<body>
<h1 id="session-5-instructor-guide-connecting-to-external-apis">Session 5 Instructor Guide: Connecting to External APIs</h1>
<h2 id="learning-outcomes">Learning Outcomes</h2>
<p><strong>By the end of Session 5, students will be able to:</strong></p>
<ol type="1">
<li><strong>Define APIs</strong> as communication interfaces between applications and explain their role in modern web development</li>
<li><strong>Read API documentation</strong> to understand request parameters and response formats</li>
<li><strong>Explain asynchronous programming</strong> and distinguish it from synchronous code execution</li>
<li><strong>Use async/await and promises</strong> to write readable, maintainable asynchronous JavaScript</li>
<li><strong>Make HTTP requests</strong> using the Fetch API to retrieve data from external sources</li>
<li><strong>Parse JSON responses</strong> and convert them into JavaScript objects and arrays</li>
<li><strong>Build dynamic URLs</strong> using template literals and zone configuration data</li>
<li><strong>Transform API data</strong> into game-ready format using array methods and helper functions</li>
<li><strong>Handle network errors</strong> gracefully with try/catch blocks</li>
<li><strong>Decode URL-encoded text</strong> to convert API responses into readable format</li>
<li><strong>Apply data validation</strong> to ensure API responses are complete and correctly formatted</li>
</ol>
<h2 id="instruction">Instruction</h2>
<p><strong>Instructor introduces key concepts students need to succeed:</strong></p>
<ol type="1">
<li><strong>APIs: The Internet’s Communication System</strong> - Define APIs as interfaces that let applications talk to each other, using restaurant menu analogy</li>
<li><strong>OpenTrivia Database Exploration</strong> - Live demo of API endpoint showing raw JSON data and URL encoding</li>
<li><strong>Asynchronous Programming Fundamentals</strong> - Compare synchronous vs asynchronous execution using coffee shop analogy</li>
<li><strong>Fetch API and HTTP Requests</strong> - Introduce fetch as the modern way to request data from servers</li>
<li><strong>JSON: The Universal Data Format</strong> - Explain JSON as the standard format for API communication</li>
<li><strong>Async/Await Syntax</strong> - Show how async/await makes asynchronous code readable and maintainable</li>
<li><strong>Data Transformation Patterns</strong> - Demonstrate the ability to transform API data into the format your application needs</li>
<li><strong>Error Handling and Validation</strong> - Emphasize robust code that handles network failures gracefully</li>
<li><strong>Helper Functions and Managing Complexity</strong> - Show how breaking complex problems into focused functions makes code maintainable and easier to understand</li>
<li><strong>Development Workflow</strong> - Incremental implementation with testing at each step</li>
<li><strong>Let’s Connect!</strong> - Launch the hands-on mission: complete the API integration to add dynamic questions to the game</li>
</ol>
<hr />
<h2 id="slide-deck-outline">Slide Deck Outline</h2>
<h3 id="slide-1-connecting-to-external-apis"><strong>Slide 1: Connecting to External APIs 🌐</strong></h3>
<ul>
<li><strong>Title:</strong> “Session 5: Connecting to External APIs — Generating Dynamic Questions”</li>
<li><strong>Session 4 Recap:</strong> “Last time: You configured game zones using metadata and JavaScript data structures”</li>
<li><strong>Hook:</strong> “Your zones have themes — now let’s fill them with real questions from the internet!”</li>
<li><strong>Today’s Mission:</strong>
<ul>
<li><strong>Connect</strong> to external APIs for live data</li>
<li><strong>Master</strong> asynchronous programming with async/await</li>
<li><strong>Transform</strong> API responses into game-ready data</li>
<li><strong>Handle</strong> network errors like a skilled developer</li>
<li><strong>Experience</strong> the power of real-time data integration</li>
</ul></li>
<li><strong>Visual:</strong> Data flow diagram showing API → Transform → Game</li>
<li><strong>Connection:</strong> “From static configuration to dynamic, internet-powered content!”</li>
</ul>
<h3 id="slide-2-apis---the-internets-communication-system"><strong>Slide 2: APIs - The Internet’s Communication System 📡</strong></h3>
<ul>
<li><strong>Title:</strong> “What Are APIs and Why Do They Matter?”</li>
<li><strong>Restaurant Menu Analogy:</strong>
<ul>
<li><strong>Menu</strong> = API documentation (tells you what’s available)</li>
<li><strong>Order</strong> = HTTP request (asking for specific data)</li>
<li><strong>Food</strong> = JSON response (the actual data you receive)</li>
<li><strong>Waiter</strong> = API endpoint (handles the communication)</li>
</ul></li>
<li><strong>Real-World Examples:</strong>
<ul>
<li><strong>Social media apps</strong> - Photo API, user API, messaging API</li>
<li><strong>Music streaming apps</strong> - Music API, playlist API, search API</li>
<li><strong>Weather apps</strong> - Forecast API, location API, alerts API</li>
</ul></li>
<li><strong>Your Game:</strong> OpenTrivia Database API provides thousands of trivia questions</li>
<li><strong>Real-World Context:</strong> “Modern apps are built by connecting multiple APIs together”</li>
<li><strong>Student Preview:</strong> “You’ll request real trivia questions and transform them for your game”</li>
</ul>
<h3 id="slide-3-opentrivia-database---your-question-source"><strong>Slide 3: OpenTrivia Database - Your Question Source 🎯</strong></h3>
<ul>
<li><strong>What is OpenTrivia DB:</strong> Free, open-source trivia question database with thousands of questions across multiple categories</li>
<li><strong>API Documentation:</strong> https://opentdb.com/api_config.php - Essential resource for understanding available parameters</li>
<li><strong>Key Features:</strong>
<ul>
<li><strong>Multiple categories</strong> - Science, history, entertainment, sports, and more</li>
<li><strong>Difficulty levels</strong> - Easy, medium, hard</li>
<li><strong>Question types</strong> - Multiple choice, true/false</li>
<li><strong>No API key required</strong> - Free to use for educational projects</li>
</ul></li>
<li><strong>Live Demo:</strong> Visit API endpoint in browser</li>
<li><strong>URL Breakdown:</strong> <code>https://opentdb.com/api.php?amount=3&amp;category=18&amp;type=multiple&amp;difficulty=easy&amp;encode=url3986</code>
<ul>
<li><strong>amount=3</strong> - Request 3 questions</li>
<li><strong>category=18</strong> - Computer Science category</li>
<li><strong>difficulty=easy</strong> - Easy difficulty level</li>
<li><strong>encode=url3986</strong> - URL encode special characters</li>
</ul></li>
<li><strong>Raw JSON Response Analysis:</strong>
<ul>
<li><strong>response_code: 0</strong> - Success indicator</li>
<li><strong>results array</strong> - Contains the actual questions</li>
<li><strong>URL encoding</strong> - <code>%20</code> = space, <code>%3A</code> = colon</li>
</ul></li>
<li><strong>Documentation Skills:</strong> “Reading API docs is essential - they tell you what parameters are available and what responses to expect”</li>
<li><strong>The Challenge:</strong> “This API data needs to be transformed into game questions”</li>
<li><strong>Student Mission:</strong> “Your job is to fetch this data and transform it”</li>
</ul>
<h3 id="slide-4-synchronous-vs-asynchronous---the-coffee-shop-analogy"><strong>Slide 4: Synchronous vs Asynchronous - The Coffee Shop Analogy ☕</strong></h3>
<ul>
<li><strong>Title:</strong> “Understanding How Code Handles Waiting”</li>
<li><strong>Visual:</strong> Split-screen comparison with coffee shop scenarios</li>
</ul>
<p><strong>Synchronous (Blocking):</strong> - <strong>Fast food counter</strong> - One order at a time, everyone waits - <strong>Code behavior</strong> - Each line waits for the previous to complete - <strong>Problem</strong> - App freezes while waiting for network requests</p>
<p><strong>Asynchronous (Non-blocking):</strong> - <strong>Coffee shop</strong> - Order, get number, sit down while they prepare - <strong>Code behavior</strong> - Start request, continue other work, handle result when ready - <strong>Benefit</strong> - App stays responsive during network operations</p>
<ul>
<li><strong>Key Insight:</strong> “Network requests take time — asynchronous code keeps your app responsive”</li>
<li><strong>Student Connection:</strong> “Your fetch requests will be asynchronous so the game doesn’t freeze”</li>
</ul>
<h3 id="slide-5-fetch-api---modern-data-requests"><strong>Slide 5: Fetch API - Modern Data Requests 🚀</strong></h3>
<ul>
<li><strong>Title:</strong> “The Modern Way to Request Data”</li>
<li><p><strong>Basic Fetch Syntax:</strong></p>
<div class="sourceCode" id="cb1"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb1-1" title="1"><span class="kw">const</span> response <span class="op">=</span> <span class="cf">await</span> <span class="at">fetch</span>(url)<span class="op">;</span></a>
<a class="sourceLine" id="cb1-2" title="2"><span class="kw">const</span> data <span class="op">=</span> <span class="cf">await</span> <span class="va">response</span>.<span class="at">json</span>()<span class="op">;</span></a></code></pre></div></li>
<li><strong>What Happens:</strong>
<ol type="1">
<li><strong>fetch(url)</strong> - Send HTTP request to server</li>
<li><strong>await</strong> - Wait for response without blocking</li>
<li><strong>response.json()</strong> - Parse JSON data from response</li>
<li><strong>data</strong> - JavaScript object ready to use</li>
</ol></li>
<li><p><strong>Error Handling:</strong></p>
<div class="sourceCode" id="cb2"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb2-1" title="1"><span class="cf">try</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb2-2" title="2">  <span class="kw">const</span> response <span class="op">=</span> <span class="cf">await</span> <span class="at">fetch</span>(url)<span class="op">;</span></a>
<a class="sourceLine" id="cb2-3" title="3">  <span class="kw">const</span> data <span class="op">=</span> <span class="cf">await</span> <span class="va">response</span>.<span class="at">json</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb2-4" title="4"><span class="op">}</span> <span class="cf">catch</span> (error) <span class="op">{</span></a>
<a class="sourceLine" id="cb2-5" title="5">  <span class="va">console</span>.<span class="at">log</span>(<span class="st">&quot;Request failed:&quot;</span><span class="op">,</span> error)<span class="op">;</span></a>
<a class="sourceLine" id="cb2-6" title="6"><span class="op">}</span></a></code></pre></div></li>
<li><p><strong>Best Practice:</strong> “Always wrap fetch in try/catch for robust error handling”</p></li>
</ul>
<h3 id="slide-6-json-processing---from-text-to-objects"><strong>Slide 6: JSON Processing - From Text to Objects 📋</strong></h3>
<ul>
<li><strong>Title:</strong> “JavaScript Object Notation - How APIs Communicate”</li>
<li><strong>What is JSON?</strong>
<ul>
<li><strong>Text format</strong> that looks like JavaScript objects</li>
<li><strong>Universal standard</strong> for data exchange</li>
<li><strong>Human readable</strong> but structured for machines</li>
</ul></li>
<li><p><strong>JSON vs JavaScript Object:</strong></p>
<div class="sourceCode" id="cb3"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb3-1" title="1"><span class="co">// JSON (text format)</span></a>
<a class="sourceLine" id="cb3-2" title="2"><span class="st">&#39;{&quot;name&quot;: &quot;Alice&quot;, &quot;age&quot;: 25}&#39;</span></a>
<a class="sourceLine" id="cb3-3" title="3"></a>
<a class="sourceLine" id="cb3-4" title="4"><span class="co">// JavaScript Object (in memory)</span></a>
<a class="sourceLine" id="cb3-5" title="5"><span class="op">{</span><span class="dt">name</span><span class="op">:</span> <span class="st">&quot;Alice&quot;</span><span class="op">,</span> <span class="dt">age</span><span class="op">:</span> <span class="dv">25</span><span class="op">}</span></a></code></pre></div></li>
<li><strong>The Parsing Process:</strong>
<ul>
<li><strong>fetch()</strong> returns a Response object</li>
<li><strong>response.json()</strong> reads the response body and parses JSON automatically</li>
<li><strong>Result:</strong> JavaScript objects ready to use in your code</li>
</ul></li>
<li><strong>Why APIs Use JSON:</strong> Language-independent, lightweight, widely supported</li>
<li><p><strong>Student Connection:</strong> “OpenTrivia DB sends JSON — your code converts it to JavaScript objects”</p></li>
</ul>
<h3 id="slide-7-data-transformation-philosophy---making-apis-work-for-you"><strong>Slide 7: Data Transformation Philosophy - Making APIs Work for You 🔄</strong></h3>
<ul>
<li><strong>Title:</strong> “Why APIs Rarely Return Data in the Format You Need”</li>
<li><strong>The Reality:</strong> APIs serve many different applications with different needs</li>
<li><strong>Your Challenge:</strong> Transform API data into your game’s specific format</li>
<li><strong>Transformation Benefits:</strong>
<ul>
<li><strong>Consistency</strong> - Same data structure throughout your app</li>
<li><strong>Simplicity</strong> - Easier to work with in your components</li>
<li><strong>Flexibility</strong> - Change API without changing your entire app</li>
</ul></li>
<li><strong>Helper Functions Philosophy:</strong>
<ul>
<li><strong>Single responsibility</strong> - Each function does one thing well</li>
<li><strong>Reusability</strong> - Write once, use multiple times</li>
<li><strong>Testability</strong> - Easy to verify each transformation step</li>
</ul></li>
<li><strong>Today’s Helpers:</strong>
<ul>
<li><strong>decodeText()</strong> - Converts URL encoding to readable text</li>
<li><strong>shuffleAnswers()</strong> - Randomizes answer order for fairness</li>
<li><strong>transformQuestion()</strong> - Orchestrates the complete transformation</li>
</ul></li>
<li><strong>Best Practice:</strong> “Break complex transformations into simple, composable functions”</li>
</ul>
<h3 id="slide-8-array-methods---processing-collections-of-data-️"><strong>Slide 8: Array Methods - Processing Collections of Data 🗺️</strong></h3>
<ul>
<li><strong>Title:</strong> “Transforming Arrays with map() and Finding Items with indexOf()”</li>
<li><strong>The map() Method:</strong>
<ul>
<li><strong>Purpose:</strong> Transform each item in an array into something new</li>
<li><strong>Pattern:</strong> <code>array.map(item =&gt; transformedItem)</code></li>
<li><strong>Returns:</strong> New array with same length, transformed items</li>
</ul></li>
<li><p><strong>API Use Case:</strong></p>
<div class="sourceCode" id="cb4"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb4-1" title="1"><span class="co">// Transform each API question into game format</span></a>
<a class="sourceLine" id="cb4-2" title="2"><span class="kw">const</span> questions <span class="op">=</span> <span class="va">data</span>.<span class="va">results</span>.<span class="at">map</span>(apiQuestion <span class="kw">=&gt;</span> <span class="at">transformQuestion</span>(apiQuestion))<span class="op">;</span></a></code></pre></div></li>
<li><strong>The indexOf() Method:</strong>
<ul>
<li><strong>Purpose:</strong> Find the position of an item in an array</li>
<li><strong>Pattern:</strong> <code>array.indexOf(searchItem)</code></li>
<li><strong>Returns:</strong> Index number (or -1 if not found)</li>
</ul></li>
<li><p><strong>Game Use Case:</strong></p>
<div class="sourceCode" id="cb5"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb5-1" title="1"><span class="co">// Find where the correct answer ended up after shuffling</span></a>
<a class="sourceLine" id="cb5-2" title="2"><span class="kw">const</span> correctIndex <span class="op">=</span> <span class="va">shuffledAnswers</span>.<span class="at">indexOf</span>(correctAnswer)<span class="op">;</span></a></code></pre></div></li>
<li><strong>Why These Matter:</strong> Essential for processing API responses and organizing game data</li>
<li><p><strong>Student Application:</strong> “You’ll use map() to transform all questions and indexOf() to track correct answers”</p></li>
</ul>
<h3 id="slide-9-url-encoding-and-decoding---handling-special-characters"><strong>Slide 9: URL Encoding and Decoding - Handling Special Characters 🔐</strong></h3>
<ul>
<li><strong>Title:</strong> “Why API Text Looks Weird and How to Fix It”</li>
<li><strong>The Problem:</strong> URLs can’t contain spaces, colons, or special characters safely</li>
<li><strong>URL Encoding Examples:</strong>
<ul>
<li>Space becomes <code>%20</code></li>
<li>Colon becomes <code>%3A</code></li>
<li>Question mark becomes <code>%3F</code></li>
</ul></li>
<li><strong>Why APIs Use Encoding:</strong> Ensures text transmits safely over the internet</li>
<li><strong>The Solution:</strong> <code>decodeURIComponent()</code> converts encoded text back to readable format</li>
<li><p><strong>Before/After Example:</strong></p>
<div class="sourceCode" id="cb6"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb6-1" title="1"><span class="co">// Encoded (from API)</span></a>
<a class="sourceLine" id="cb6-2" title="2"><span class="st">&quot;What%20does%20GHz%20stand%20for%3F&quot;</span></a>
<a class="sourceLine" id="cb6-3" title="3"></a>
<a class="sourceLine" id="cb6-4" title="4"><span class="co">// Decoded (for your game)</span></a>
<a class="sourceLine" id="cb6-5" title="5"><span class="st">&quot;What does GHz stand for?&quot;</span></a></code></pre></div></li>
<li><p><strong>Student Implementation:</strong> “Your decodeText helper function handles this conversion automatically”</p></li>
</ul>
<h3 id="slide-10-asyncawait---making-asynchronous-code-readable"><strong>Slide 10: Async/Await - Making Asynchronous Code Readable 🎭</strong></h3>
<ul>
<li><strong>Title:</strong> “Async/Await: Asynchronous Code That Looks Synchronous”</li>
<li><p><strong>The Problem with Callbacks:</strong></p>
<div class="sourceCode" id="cb7"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb7-1" title="1"><span class="co">// Hard to read and debug</span></a>
<a class="sourceLine" id="cb7-2" title="2"><span class="at">fetch</span>(url).<span class="at">then</span>(response <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb7-3" title="3">  <span class="cf">return</span> <span class="va">response</span>.<span class="at">json</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb7-4" title="4"><span class="op">}</span>).<span class="at">then</span>(data <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb7-5" title="5">  <span class="va">console</span>.<span class="at">log</span>(data)<span class="op">;</span></a>
<a class="sourceLine" id="cb7-6" title="6"><span class="op">}</span>).<span class="at">catch</span>(error <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb7-7" title="7">  <span class="va">console</span>.<span class="at">log</span>(error)<span class="op">;</span></a>
<a class="sourceLine" id="cb7-8" title="8"><span class="op">}</span>)<span class="op">;</span></a></code></pre></div></li>
<li><p><strong>The Async/Await Solution:</strong></p>
<div class="sourceCode" id="cb8"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb8-1" title="1"><span class="co">// Easy to read and debug</span></a>
<a class="sourceLine" id="cb8-2" title="2"><span class="kw">async</span> <span class="kw">function</span> <span class="at">fetchData</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb8-3" title="3">  <span class="cf">try</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb8-4" title="4">    <span class="kw">const</span> response <span class="op">=</span> <span class="cf">await</span> <span class="at">fetch</span>(url)<span class="op">;</span></a>
<a class="sourceLine" id="cb8-5" title="5">    <span class="kw">const</span> data <span class="op">=</span> <span class="cf">await</span> <span class="va">response</span>.<span class="at">json</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb8-6" title="6">    <span class="va">console</span>.<span class="at">log</span>(data)<span class="op">;</span></a>
<a class="sourceLine" id="cb8-7" title="7">  <span class="op">}</span> <span class="cf">catch</span> (error) <span class="op">{</span></a>
<a class="sourceLine" id="cb8-8" title="8">    <span class="va">console</span>.<span class="at">log</span>(error)<span class="op">;</span></a>
<a class="sourceLine" id="cb8-9" title="9">  <span class="op">}</span></a>
<a class="sourceLine" id="cb8-10" title="10"><span class="op">}</span></a></code></pre></div></li>
<li><strong>Key Rules:</strong>
<ul>
<li><strong>async</strong> keyword before function declaration</li>
<li><strong>await</strong> keyword before asynchronous operations</li>
<li><strong>try/catch</strong> for error handling</li>
</ul></li>
<li><p><strong>Student Benefit:</strong> “Your API code will be clean and easy to understand”</p></li>
</ul>
<h3 id="slide-11-data-transformation---api-to-game-format"><strong>Slide 11: Data Transformation - API to Game Format 🔄</strong></h3>
<ul>
<li><strong>Title:</strong> “Transforming API Data for Your Game”</li>
<li><strong>Visual:</strong> Before/After comparison showing data transformation</li>
</ul>
<p><strong>API Response (Raw Format):</strong></p>
<div class="sourceCode" id="cb9"><pre class="sourceCode json"><code class="sourceCode json"><a class="sourceLine" id="cb9-1" title="1"><span class="fu">{</span></a>
<a class="sourceLine" id="cb9-2" title="2">  <span class="dt">&quot;question&quot;</span><span class="fu">:</span> <span class="st">&quot;What%20does%20GHz%20stand%20for%3F&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb9-3" title="3">  <span class="dt">&quot;correct_answer&quot;</span><span class="fu">:</span> <span class="st">&quot;Gigahertz&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb9-4" title="4">  <span class="dt">&quot;incorrect_answers&quot;</span><span class="fu">:</span> <span class="ot">[</span><span class="st">&quot;Gigahotz&quot;</span><span class="ot">,</span> <span class="st">&quot;Gigahetz&quot;</span><span class="ot">,</span> <span class="st">&quot;Gigahatz&quot;</span><span class="ot">]</span></a>
<a class="sourceLine" id="cb9-5" title="5"><span class="fu">}</span></a></code></pre></div>
<p><strong>Game Format (Transformed):</strong></p>
<div class="sourceCode" id="cb10"><pre class="sourceCode json"><code class="sourceCode json"><a class="sourceLine" id="cb10-1" title="1"><span class="fu">{</span></a>
<a class="sourceLine" id="cb10-2" title="2">  <span class="dt">&quot;question&quot;</span><span class="fu">:</span> <span class="st">&quot;What does GHz stand for?&quot;</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb10-3" title="3">  <span class="dt">&quot;answers&quot;</span><span class="fu">:</span> <span class="ot">[</span><span class="st">&quot;Gigahotz&quot;</span><span class="ot">,</span> <span class="st">&quot;Gigahertz&quot;</span><span class="ot">,</span> <span class="st">&quot;Gigahetz&quot;</span><span class="ot">,</span> <span class="st">&quot;Gigahatz&quot;</span><span class="ot">]</span><span class="fu">,</span></a>
<a class="sourceLine" id="cb10-4" title="4">  <span class="dt">&quot;correct&quot;</span><span class="fu">:</span> <span class="dv">1</span></a>
<a class="sourceLine" id="cb10-5" title="5"><span class="fu">}</span></a></code></pre></div>
<ul>
<li><strong>Transformation Steps:</strong>
<ol type="1">
<li><strong>Decode</strong> URL-encoded text (<code>%20</code> → space)</li>
<li><strong>Combine</strong> correct and incorrect answers</li>
<li><strong>Shuffle</strong> answer order randomly</li>
<li><strong>Find</strong> correct answer index in shuffled array</li>
</ol></li>
<li><strong>Common Reality:</strong> “APIs rarely return data in exactly the format you need”</li>
</ul>
<h3 id="slide-12-helper-functions---managing-complexity"><strong>Slide 12: Helper Functions - Managing Complexity 🧩</strong></h3>
<ul>
<li><strong>Title:</strong> “Breaking Complex Problems into Manageable Pieces”</li>
<li><strong>Core Concept:</strong> “Decompose complex tasks into smaller, focused functions that can be combined”</li>
<li><strong>Helper Function Benefits:</strong>
<ul>
<li><strong>Reusability</strong> - Write once, use multiple times</li>
<li><strong>Maintainability</strong> - Changes in one place update everywhere</li>
<li><strong>Testability</strong> - Easy to test small, focused functions</li>
<li><strong>Readability</strong> - Clear function names explain what code does</li>
<li><strong>Complexity Management</strong> - Tackle big problems by solving smaller ones</li>
</ul></li>
<li><strong>Today’s Helpers:</strong>
<ul>
<li><strong>buildApiUrl()</strong> - Constructs request URL from zone data</li>
<li><strong>decodeText()</strong> - Converts URL encoding to readable text</li>
<li><strong>shuffleAnswers()</strong> - Randomizes answer order</li>
<li><strong>transformQuestion()</strong> - Converts API format to game format</li>
</ul></li>
<li><strong>Key Approach:</strong> “Good developers break complex problems into simple, composable pieces”</li>
</ul>
<h3 id="slide-13-error-handling---building-robust-applications-️"><strong>Slide 13: Error Handling - Building Robust Applications 🛡️</strong></h3>
<ul>
<li><strong>Title:</strong> “Planning for When Things Go Wrong”</li>
<li><strong>Common API Failures:</strong>
<ul>
<li><strong>Network errors</strong> - Internet connection issues</li>
<li><strong>Server errors</strong> - API temporarily down</li>
<li><strong>Invalid responses</strong> - Empty or malformed data</li>
<li><strong>Rate limiting</strong> - Too many requests too quickly</li>
</ul></li>
<li><p><strong>Error Handling Strategy:</strong></p>
<div class="sourceCode" id="cb11"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb11-1" title="1"><span class="cf">try</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb11-2" title="2">  <span class="kw">const</span> response <span class="op">=</span> <span class="cf">await</span> <span class="at">fetch</span>(url)<span class="op">;</span></a>
<a class="sourceLine" id="cb11-3" title="3">  <span class="kw">const</span> data <span class="op">=</span> <span class="cf">await</span> <span class="va">response</span>.<span class="at">json</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb11-4" title="4"></a>
<a class="sourceLine" id="cb11-5" title="5">  <span class="cf">if</span> (<span class="op">!</span><span class="va">data</span>.<span class="at">results</span> <span class="op">||</span> <span class="va">data</span>.<span class="va">results</span>.<span class="at">length</span> <span class="op">===</span> <span class="dv">0</span>) <span class="op">{</span></a>
<a class="sourceLine" id="cb11-6" title="6">    <span class="cf">return</span> []<span class="op">;</span> <span class="co">// Handle empty response</span></a>
<a class="sourceLine" id="cb11-7" title="7">  <span class="op">}</span></a>
<a class="sourceLine" id="cb11-8" title="8"></a>
<a class="sourceLine" id="cb11-9" title="9">  <span class="cf">return</span> <span class="at">processData</span>(data)<span class="op">;</span></a>
<a class="sourceLine" id="cb11-10" title="10"><span class="op">}</span> <span class="cf">catch</span> (error) <span class="op">{</span></a>
<a class="sourceLine" id="cb11-11" title="11">  <span class="va">console</span>.<span class="at">log</span>(<span class="st">&quot;Failed to fetch questions:&quot;</span><span class="op">,</span> error)<span class="op">;</span></a>
<a class="sourceLine" id="cb11-12" title="12">  <span class="cf">return</span> []<span class="op">;</span> <span class="co">// Return safe fallback</span></a>
<a class="sourceLine" id="cb11-13" title="13"><span class="op">}</span></a></code></pre></div></li>
<li><strong>Key Mindset:</strong> “Always assume external services might fail”</li>
<li><p><strong>Student Application:</strong> “Your game will gracefully handle network issues”</p></li>
</ul>
<h3 id="slide-14-fetch-dynamic-trivia-questions"><strong>Slide 14: Fetch Dynamic Trivia Questions! 🚀</strong></h3>
<ul>
<li><strong>Today’s Mission: Connect your game to the internet</strong>
<ol type="1">
<li><strong>Replace alert</strong> with basic fetch request and response logging</li>
<li><strong>Add data validation</strong> to handle empty API responses</li>
<li><strong>Implement transformQuestion</strong> step-by-step with console logging</li>
<li><strong>Complete fetchQuestions</strong> integration with full data transformation</li>
<li><strong>Test API integration</strong> using React DevTools state inspection</li>
<li><strong>Clean up debugging code</strong> for a polished implementation</li>
</ol></li>
<li><strong>Success Criteria:</strong>
<ul>
<li>Zones load real trivia questions from OpenTrivia DB</li>
<li>Questions are properly decoded and formatted</li>
<li>Answers are shuffled with correct index tracking</li>
<li>Error handling prevents crashes on network failures</li>
</ul></li>
<li><strong>Development Workflow:</strong> “Build incrementally, test frequently, handle errors gracefully”</li>
</ul>
<h3 id="hands-on-work-happens-here"><strong>[HANDS-ON WORK HAPPENS HERE]</strong></h3>
<h3 id="slide-15-data-flow-architecture---the-complete-picture"><strong>Slide 15: Data Flow Architecture - The Complete Picture 🔄</strong></h3>
<ul>
<li><strong>Title:</strong> “Tracing Data from Click to Questions”</li>
<li><strong>Visual:</strong> Complete data flow diagram</li>
</ul>
<pre><code>User clicks zone → GameMap handleZoneClick → GameContext loadQuestionsForZone
                                                        ↓
React state updates ← Clean game objects ← transformQuestion ← API response
                                                        ↓
                                              trivia.js fetchQuestions
                                                        ↓
                                              OpenTrivia Database API</code></pre>
<ul>
<li><strong>Key Components:</strong>
<ul>
<li><strong>GameMap</strong> - Handles user interaction</li>
<li><strong>GameContext</strong> - Manages application state</li>
<li><strong>trivia.js</strong> - Handles API communication and data transformation</li>
<li><strong>OpenTrivia DB</strong> - External data source</li>
</ul></li>
<li><strong>Clean Architecture:</strong> “Separation of concerns — each component has a specific responsibility”</li>
<li><strong>Student Achievement:</strong> “You built a complete data pipeline from user interaction to external API”</li>
</ul>
<h3 id="slide-16-whats-next---browser-storage-caching"><strong>Slide 16: What’s Next - Browser Storage &amp; Caching ⚡</strong></h3>
<ul>
<li><strong>Title:</strong> “Preview of Session 6”</li>
<li><strong>Today’s Achievement:</strong> “You connected your game to real internet data with complete API integration”</li>
<li><strong>Next Challenge:</strong> “Add caching to make your game faster and more efficient”</li>
<li><strong>Concepts Coming:</strong>
<ul>
<li><strong>Browser storage</strong> - Save API responses locally</li>
<li><strong>Cache strategies</strong> - When to use cached vs fresh data</li>
<li><strong>Performance optimization</strong> - Reduce unnecessary network requests</li>
<li><strong>Cache management</strong> - Clear old data when needed</li>
</ul></li>
<li><strong>Motivation:</strong> “Your questions will load instantly after the first request!”</li>
<li><strong>Visual:</strong> Performance comparison showing cached vs uncached request times</li>
</ul>
</body>
</html>
