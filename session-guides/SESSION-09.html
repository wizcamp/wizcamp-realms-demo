<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang xml:lang>
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>SESSION-09 - Wizcamp Session Guide</title>
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
  <style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>
  <style type="text/css">

@page {
margin: 0.6in 0.75in 0.6in 0.75in;
size: letter;
}
body {
font-family: "Amulya Variable", -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif;
font-size: 16px;
line-height: 1.4;
color: #2d3748;
margin: 0;
padding: 0;
max-width: none;
overflow-x: hidden !important;
}

* {
scrollbar-width: none !important;
-ms-overflow-style: none !important;
}
*::-webkit-scrollbar {
display: none !important;
}

html, body {
overflow-x: hidden !important;
width: 100% !important;
max-width: 100% !important;
}
h1, h2, h3, h4, h5, h6 {
font-family: "Plein Variable", -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif;
font-weight: 500;
line-height: 1.25;
margin-bottom: 16px;
margin-top: 24px;
color: #1a202c;
}
h1 {
font-size: 1.75em;
border-bottom: 1px solid #d0d7de;
padding-bottom: 0.3em;
margin-top: 0;
}
h2 {
font-size: 1.5em;
border-bottom: 1px solid #d0d7de;
padding-bottom: 0.3em;
margin-top: 48px;
margin-bottom: 16px;
}

hr {
border: none;
border-bottom: 1px solid #d0d7de;
margin: 24px 0;
}

h1 + * h2:first-of-type,
h2:first-of-type {
margin-top: 24px;
}

a[id] {
scroll-margin-top: 48px;
}
h3 {
font-size: 1.25em;
margin-top: 24px;
margin-bottom: 12px;
page-break-after: avoid;
break-after: avoid;
}

h2, h3 {
page-break-after: avoid;
}

ol, ul, li, p {
page-break-inside: auto;
}
code {
font-family: "JetBrains Mono", ui-monospace, SFMono-Regular, "SF Mono", Consolas, monospace !important;
font-size: 13px !important;
font-weight: 500 !important;
background-color: #f6f8fa !important;
color: #24292f !important;
padding: 1px 3px !important;
border-radius: 3px !important;
white-space: nowrap;
word-break: break-word;
-webkit-print-color-adjust: exact !important;
print-color-adjust: exact !important;
text-decoration: none !important;
}
pre {
font-family: "JetBrains Mono", ui-monospace, SFMono-Regular, "SF Mono", Consolas, monospace !important;
background-color: #f8f9fa !important;
border: 1px solid #e1e4e8 !important;
border-radius: 6px !important;
padding: 16px !important;
overflow: hidden !important;
white-space: pre-wrap !important;
word-wrap: break-word !important;
page-break-inside: avoid !important;
-webkit-print-color-adjust: exact !important;
print-color-adjust: exact !important;
font-size: 14px !important;
line-height: 1.4 !important;
display: block !important;
width: 100% !important;
max-width: 100% !important;
box-sizing: border-box !important;
text-decoration: none !important;
-webkit-text-decorations-in-effect: none !important;
font-variant-ligatures: none !important;
}

@media print {
pre {
white-space: pre !important;
font-family: "JetBrains Mono", monospace !important;
display: block !important;
text-decoration: none !important;
-webkit-text-decorations-in-effect: none !important;
font-variant-ligatures: none !important;
}
pre * {
white-space: pre !important;
text-decoration: none !important;
-webkit-text-decorations-in-effect: none !important;
font-variant-ligatures: none !important;
}
code {
text-decoration: none !important;
-webkit-text-decorations-in-effect: none !important;
font-variant-ligatures: none !important;
}
}
pre code {
background-color: transparent !important;
border: none !important;
padding: 0 !important;
color: #24292f !important;
text-decoration: none !important;
}
ul, ol {
padding-left: 1.8em;
margin-bottom: 12px;
}
li {
margin-bottom: 6px;
line-height: 1.4;
}

li:has(:first-child:is(text):contains("‚úÖ")) {
list-style-type: none;
margin-left: -1.8em;
padding-left: 1.8em;
}

li > ul > li:first-child,
li > ol > li:first-child {
margin-top: 8px;
}

li > ul > li > ul > li:first-child,
li > ol > li > ol > li:first-child {
margin-top: 6px;
}

@media print {
ul, ol {
display: block !important;
}
li {
display: list-item !important;
margin-bottom: 8px !important;
}

li > ul > li:first-child,
li > ol > li:first-child {
margin-top: 8px !important;
}
li > ul > li > ul > li:first-child,
li > ol > li > ol > li:first-child {
margin-top: 6px !important;
}

* {
box-sizing: border-box !important;
}
}
p {
margin-bottom: 12px;
}
a {
color: #0969da;
text-decoration: none;
}
strong {
font-weight: 500;
color: #2d3748;
white-space: normal;
word-spacing: normal;
letter-spacing: normal;
}

strong::before,
strong::after {
content: none;
margin: 0;
padding: 0;
}

table {
border-collapse: collapse;
border-spacing: 0;
width: 100%;
max-width: 100%;
margin: 16px 0;
font-size: 16px;
line-height: 1.5;
table-layout: auto;
word-wrap: break-word;
}
th, td {
padding: 12px 16px;
text-align: left;
vertical-align: top;
border: 1px solid #d0d7de;
word-wrap: break-word;
overflow-wrap: break-word;
hyphens: auto;
}
th {
font-weight: 500;
background-color: #f6f8fa;
color: #2d3748;
-webkit-print-color-adjust: exact !important;
print-color-adjust: exact !important;
}
tbody tr:nth-child(even) {
background-color: #f8f9fa;
-webkit-print-color-adjust: exact !important;
print-color-adjust: exact !important;
}

table code {
font-size: 14px !important;
padding: 2px 4px !important;
word-break: break-all;
}

blockquote {
border-left: 4px solid #d1d5db;
padding: 12px 16px;
margin: 20px 0;
background-color: transparent;
border-radius: 0;
-webkit-print-color-adjust: exact !important;
print-color-adjust: exact !important;
}
blockquote p {
margin: 0 0 8px 0;
}
blockquote p:last-child {
margin-bottom: 0;
}

blockquote strong {
margin: 0;
padding: 0;
display: inline;
white-space: normal;
}
blockquote code {
margin: 0;
padding: 1px 3px !important;
display: inline;
}
blockquote em {
margin: 0;
padding: 0;
display: inline;
}
blockquote a {
margin: 0;
padding: 0;
display: inline;
}

blockquote ul {
margin-top: 12px;
margin-bottom: 0;
padding-left: 1.8em;
}

blockquote:has(strong:first-child:contains("üí°")) {
border-left-color: #3b82f6;
}

blockquote:has(strong:first-child:contains("‚ö†Ô∏è")) {
border-left-color: #f59e0b;
}

blockquote:has(strong:first-child:contains("‚úÖ")) {
border-left-color: #10b981;
}

blockquote:has(strong:first-child:contains("‚ùå")) {
border-left-color: #ef4444;
}

blockquote:has(strong:first-child:contains("‚ÑπÔ∏è")) {
border-left-color: #6366f1;
}

blockquote:has(strong:first-child:contains("üéØ")) {
border-left-color: #8b5cf6;
}

@supports not (selector(:has(*))) {
blockquote {
border-left-color: #3b82f6;
}
}

table td:first-child {
width: 200px;
max-width: 250px;
}
table td:nth-child(2) {
width: auto;
}
table td:nth-child(3) {
width: auto;
}

table:not(:has(td:nth-child(3))) td:first-child {
width: auto !important;
max-width: none !important;
white-space: nowrap;
}
table:not(:has(td:nth-child(3))) td:nth-child(2) {
width: 100% !important;
max-width: none !important;
}

table {
page-break-inside: auto !important;
}
th {
page-break-after: avoid !important;
}
tbody tr {
page-break-inside: avoid !important;
page-break-after: auto !important;
}

thead {
display: table-header-group !important;
}

img {
max-width: 100%;
height: auto;
display: block;
margin: 16px auto;
page-break-inside: avoid;
}

em {
display: block;
text-align: center;
font-style: italic;
font-size: 14px;
color: #666;
margin-top: 8px;
margin-bottom: 16px;
}
@media print {
thead {
display: table-row-group !important;
}
table {
page-break-inside: auto !important;
}
tr {
page-break-inside: avoid !important;
}

blockquote {
-webkit-print-color-adjust: exact !important;
print-color-adjust: exact !important;
page-break-inside: avoid !important;
}

* {
overflow: visible !important;
scrollbar-width: none !important;
-ms-overflow-style: none !important;
}
*::-webkit-scrollbar {
display: none !important;
}
html, body {
overflow-x: hidden !important;
}
}
</style>
</head>
<body>
<h1 id="session-9-adding-theme-music">Session 9 ‚Äî Adding Theme Music</h1>
<p>You‚Äôre about to add another dimension to your trivia game ‚Äî theme music! This guide walks you through creating custom React hooks, working with browser audio APIs, and building reusable audio controls. Ready to bring your game to life with sound? Let‚Äôs go!</p>
<h2 id="table-of-contents">Table of Contents</h2>
<ul>
<li><a href="#custom-hooks-in-react">Custom Hooks in React</a></li>
<li><a href="#browser-audio-apis">Browser Audio APIs</a></li>
<li><a href="#refs-and-useref">Refs and useRef</a></li>
<li><a href="#building-the-musictoggle-component">Building the MusicToggle Component</a></li>
<li><a href="#adding-audio-reference-to-useaudio">Adding Audio Reference to useAudio</a></li>
<li><a href="#implementing-audio-playback">Implementing Audio Playback</a></li>
<li><a href="#github-copilot-workflow">GitHub Copilot Workflow</a></li>
<li><a href="#solo-mission-complete-useaudio-hook">Solo Mission: Complete useAudio Hook</a></li>
<li><a href="#essential-terms">Essential Terms</a></li>
<li><a href="#ask-the-ai">Ask the AI</a></li>
</ul>
<p><a id="accessing-your-codespace"></a></p>
<h2 id="accessing-your-codespace">‚òÅÔ∏è Accessing Your Codespace</h2>
<p>Visit <a href="https://github.com/codespaces">github.com/codespaces</a> to relaunch your Codespace from Session 8.</p>
<p><a id="custom-hooks-in-react"></a></p>
<h2 id="custom-hooks-in-react">ü™ù Custom Hooks in React</h2>
<p>Hooks help you organize React code and avoid duplication. React gives you built-in hooks like <code>useState</code> and <code>useRef</code> for common tasks. You can also write your own custom hooks ‚Äî functions that start with ‚Äúuse‚Äù and combine built-in hooks to package logic you‚Äôll reuse across components.</p>
<p>You‚Äôve already been using one ‚Äî <code>useGame()</code> is a custom hook! Here‚Äôs how it works:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb1-1" title="1"><span class="co">// Custom hook definition (in src/hooks/useGame.js)</span></a>
<a class="sourceLine" id="cb1-2" title="2"><span class="im">export</span> <span class="kw">function</span> <span class="at">useGame</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb1-3" title="3">  <span class="kw">const</span> context <span class="op">=</span> <span class="at">useContext</span>(GameContext)<span class="op">;</span></a>
<a class="sourceLine" id="cb1-4" title="4">  <span class="cf">return</span> context<span class="op">;</span></a>
<a class="sourceLine" id="cb1-5" title="5"><span class="op">}</span></a>
<a class="sourceLine" id="cb1-6" title="6"></a>
<a class="sourceLine" id="cb1-7" title="7"><span class="co">// Using the custom hook (in any component)</span></a>
<a class="sourceLine" id="cb1-8" title="8"><span class="kw">function</span> <span class="at">MyComponent</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb1-9" title="9">  <span class="kw">const</span> <span class="op">{</span> score <span class="op">}</span> <span class="op">=</span> <span class="at">useGame</span>()<span class="op">;</span>  <span class="co">// Access shared state</span></a>
<a class="sourceLine" id="cb1-10" title="10"><span class="op">}</span></a></code></pre></div>
<p>Hooks follow <strong>‚ÄúDon‚Äôt Repeat Yourself‚Äù (DRY)</strong> ‚Äî instead of copying audio logic into every component that needs music, you write it once in a hook and reuse it. Your <code>useAudio</code> hook will follow this pattern:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb2-1" title="1"><span class="kw">const</span> music <span class="op">=</span> <span class="at">useAudio</span>(<span class="st">&#39;/music.mp3&#39;</span>)<span class="op">;</span></a></code></pre></div>
<p>Now any component can add background music with a single line of code.</p>
<blockquote>
<p>üèÜ <strong>Bonus Challenge</strong></p>
<p>Visit <a href="https://usehooks.com/">useHooks ‚Äì The React Hooks Library</a> and find three interesting custom hooks that might be great for use in a web-based video game.</p>
</blockquote>
<p><a id="browser-audio-apis"></a></p>
<h2 id="browser-audio-apis">üîä Browser Audio APIs</h2>
<p>Let‚Äôs understand the <strong>HTMLAudioElement</strong> ‚Äî the browser‚Äôs built-in interface for controlling audio playback.</p>
<p>You might be familiar with HTML audio elements like <code>&lt;audio src=&quot;music.mp3&quot;&gt;&lt;/audio&gt;</code> that you write in HTML files. HTMLAudioElement is the JavaScript version ‚Äî it‚Äôs a music player you create and control with code. Instead of writing HTML tags, you use <code>new Audio()</code> to create the player, then control it with methods like <code>play()</code> and <code>pause()</code>.</p>
<p>Think of it like the play/pause buttons on a music player ‚Äî but instead of clicking buttons, your code sends commands. You can tell it to play, pause, adjust volume, loop tracks ‚Äî all through JavaScript.</p>
<h3 id="creating-audio-elements">Creating Audio Elements</h3>
<div class="sourceCode" id="cb3"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb3-1" title="1"><span class="co">// Create new audio element</span></a>
<a class="sourceLine" id="cb3-2" title="2"><span class="kw">const</span> audio <span class="op">=</span> <span class="kw">new</span> <span class="at">Audio</span>(<span class="at">getAssetPath</span>(<span class="st">&#39;audio/theme-music.mp3&#39;</span>))<span class="op">;</span></a>
<a class="sourceLine" id="cb3-3" title="3"></a>
<a class="sourceLine" id="cb3-4" title="4"><span class="co">// Configure audio properties</span></a>
<a class="sourceLine" id="cb3-5" title="5"><span class="va">audio</span>.<span class="at">loop</span> <span class="op">=</span> <span class="kw">true</span><span class="op">;</span>        <span class="co">// Repeat when finished</span></a>
<a class="sourceLine" id="cb3-6" title="6"><span class="va">audio</span>.<span class="at">volume</span> <span class="op">=</span> <span class="fl">0.5</span><span class="op">;</span>       <span class="co">// 50% volume</span></a></code></pre></div>
<h3 id="audio-control-methods">Audio Control Methods</h3>
<div class="sourceCode" id="cb4"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb4-1" title="1"><span class="co">// Playback control</span></a>
<a class="sourceLine" id="cb4-2" title="2"><span class="va">audio</span>.<span class="at">play</span>()<span class="op">;</span>             <span class="co">// Start playing</span></a>
<a class="sourceLine" id="cb4-3" title="3"><span class="va">audio</span>.<span class="at">pause</span>()<span class="op">;</span>            <span class="co">// Stop playing</span></a>
<a class="sourceLine" id="cb4-4" title="4"></a>
<a class="sourceLine" id="cb4-5" title="5"><span class="co">// Properties</span></a>
<a class="sourceLine" id="cb4-6" title="6"><span class="va">audio</span>.<span class="at">currentTime</span> <span class="op">=</span> <span class="dv">0</span><span class="op">;</span>    <span class="co">// Reset to beginning</span></a>
<a class="sourceLine" id="cb4-7" title="7"><span class="va">audio</span>.<span class="at">muted</span> <span class="op">=</span> <span class="kw">true</span><span class="op">;</span>       <span class="co">// Mute audio</span></a></code></pre></div>
<p>In the upcoming sections, you‚Äôll wrap these audio controls in a custom hook, making it easy to add music to any component in your game.</p>
<p><a id="refs-and-useref"></a></p>
<h2 id="refs-and-useref">üîó Refs and useRef</h2>
<p>You need a place to store your audio player so you can control it‚Äîplay, pause, adjust volume. If you use state, every interaction with the audio would trigger a re-render, even though nothing on screen needs to change.</p>
<p>The <strong><code>useRef</code></strong> hook creates a <strong>ref</strong>‚Äîa place to store something that stays put between renders. When you update what‚Äôs in a ref, your component doesn‚Äôt re-render.</p>
<h3 id="creating-a-ref">Creating a Ref</h3>
<p>The <code>useRef</code> hook creates a ref that starts empty (or whatever starting value you give it):</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb5-1" title="1"><span class="kw">const</span> audioRef <span class="op">=</span> <span class="at">useRef</span>(<span class="kw">null</span>)<span class="op">;</span>  <span class="co">// Create an empty ref</span></a></code></pre></div>
<p>The ref has a <code>current</code> property where you store things:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb6-1" title="1"><span class="va">audioRef</span>.<span class="at">current</span> <span class="op">=</span> <span class="kw">new</span> <span class="at">Audio</span>(<span class="st">&#39;music.mp3&#39;</span>)<span class="op">;</span>   <span class="co">// Store the audio player</span></a>
<a class="sourceLine" id="cb6-2" title="2"><span class="va">audioRef</span>.<span class="va">current</span>.<span class="at">play</span>()<span class="op">;</span>                     <span class="co">// Use it later</span></a></code></pre></div>
<h3 id="why-refs-for-audio">Why Refs for Audio?</h3>
<p>You need to keep the same audio player around so you can control it‚Äîplay it, pause it, change the volume. If you created a new audio player on every render, the music would restart constantly. A ref solves this by holding onto the same value‚Äîin this case, your audio player‚Äîacross re-renders.</p>
<h3 id="the-pattern-youll-use">The Pattern You‚Äôll Use</h3>
<div class="sourceCode" id="cb7"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb7-1" title="1"><span class="kw">function</span> <span class="at">useAudio</span>(src) <span class="op">{</span></a>
<a class="sourceLine" id="cb7-2" title="2">  <span class="kw">const</span> audioRef <span class="op">=</span> <span class="at">useRef</span>(<span class="kw">null</span>)<span class="op">;</span>          <span class="co">// Create a place to store audio player</span></a>
<a class="sourceLine" id="cb7-3" title="3">  </a>
<a class="sourceLine" id="cb7-4" title="4">  <span class="kw">const</span> play <span class="op">=</span> () <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb7-5" title="5">    <span class="cf">if</span> (<span class="op">!</span><span class="va">audioRef</span>.<span class="at">current</span>) <span class="op">{</span>              <span class="co">// If we haven&#39;t created the player yet</span></a>
<a class="sourceLine" id="cb7-6" title="6">      <span class="va">audioRef</span>.<span class="at">current</span> <span class="op">=</span> <span class="kw">new</span> <span class="at">Audio</span>(src)<span class="op">;</span>  <span class="co">// Create it and store it</span></a>
<a class="sourceLine" id="cb7-7" title="7">    <span class="op">}</span></a>
<a class="sourceLine" id="cb7-8" title="8">    <span class="va">audioRef</span>.<span class="va">current</span>.<span class="at">play</span>()<span class="op">;</span>              <span class="co">// Use the stored player</span></a>
<a class="sourceLine" id="cb7-9" title="9">  <span class="op">};</span></a>
<a class="sourceLine" id="cb7-10" title="10"><span class="op">}</span></a></code></pre></div>
<p>The first time <code>play()</code> runs, <code>audioRef.current</code> is <code>null</code>, so it creates the audio player and stores it. Every time after that, it reuses the same player. This means your music doesn‚Äôt restart every time the component re-renders‚Äîthe player persists in memory.</p>
<p><a id="building-the-musictoggle-component"></a></p>
<h2 id="building-the-musictoggle-component">üéõÔ∏è Building the MusicToggle Component</h2>
<p>üéØ <strong>Goal:</strong> Add the UI controls you‚Äôll need to test the audio functionality as you build it.</p>
<p>This music toggle will provide the interface for testing the <code>useAudio</code> hook as you implement it in the next sections.</p>
<h3 id="step-1-add-asset-utility-import">Step 1: Add asset utility import</h3>
<p><strong>File:</strong> <code>src/components/HUD.jsx</code></p>
<p>Add the asset utility import at the top of the file.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb8-1" title="1"><span class="im">import</span> <span class="op">{</span> getAssetPath <span class="op">}</span> <span class="im">from</span> <span class="st">&quot;../utils/assets&quot;</span><span class="op">;</span></a></code></pre></div>
<h3 id="step-2-create-musictoggle-component">Step 2: Create MusicToggle component</h3>
<p><strong>File:</strong> <code>src/components/HUD.jsx</code></p>
<p>Add the MusicToggle component after the CurrentZone function.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb9-1" title="1"><span class="kw">function</span> <span class="at">MusicToggle</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb9-2" title="2">  <span class="kw">const</span> <span class="op">{</span> music <span class="op">}</span> <span class="op">=</span> <span class="at">useGame</span>()<span class="op">;</span>  <span class="co">// Access music controls from shared state</span></a>
<a class="sourceLine" id="cb9-3" title="3">  <span class="cf">return</span> (</a>
<a class="sourceLine" id="cb9-4" title="4">    <span class="op">&lt;</span>button </a>
<a class="sourceLine" id="cb9-5" title="5">      onClick<span class="op">={</span><span class="va">music</span>.<span class="at">toggle</span><span class="op">}</span></a>
<a class="sourceLine" id="cb9-6" title="6">      className<span class="op">=</span><span class="st">&quot;music-toggle&quot;</span></a>
<a class="sourceLine" id="cb9-7" title="7">      title<span class="op">={</span><span class="va">music</span>.<span class="at">isPlaying</span> <span class="op">?</span> <span class="st">&quot;Pause Music&quot;</span> : <span class="st">&quot;Play Music&quot;</span><span class="op">}</span></a>
<a class="sourceLine" id="cb9-8" title="8">    <span class="op">&gt;</span></a>
<a class="sourceLine" id="cb9-9" title="9">      <span class="op">&lt;</span>img </a>
<a class="sourceLine" id="cb9-10" title="10">        src<span class="op">={</span><span class="at">getAssetPath</span>(</a>
<a class="sourceLine" id="cb9-11" title="11">          <span class="va">music</span>.<span class="at">isPlaying</span> <span class="op">?</span> <span class="st">&quot;images/playing.svg&quot;</span> : <span class="st">&quot;images/paused.svg&quot;</span></a>
<a class="sourceLine" id="cb9-12" title="12">        )<span class="op">}</span></a>
<a class="sourceLine" id="cb9-13" title="13">        alt<span class="op">={</span><span class="va">music</span>.<span class="at">isPlaying</span> <span class="op">?</span> <span class="st">&quot;Pause&quot;</span> : <span class="st">&quot;Play&quot;</span><span class="op">}</span></a>
<a class="sourceLine" id="cb9-14" title="14">        className<span class="op">=</span><span class="st">&quot;music-icon&quot;</span></a>
<a class="sourceLine" id="cb9-15" title="15">        width<span class="op">={</span><span class="dv">24</span><span class="op">}</span></a>
<a class="sourceLine" id="cb9-16" title="16">        height<span class="op">={</span><span class="dv">24</span><span class="op">}</span></a>
<a class="sourceLine" id="cb9-17" title="17">      /&gt;</a>
<a class="sourceLine" id="cb9-18" title="18">    &lt;/button<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb9-19" title="19">  )<span class="op">;</span></a>
<a class="sourceLine" id="cb9-20" title="20"><span class="op">}</span></a></code></pre></div>
<h3 id="step-3-add-musictoggle-to-hud">Step 3: Add MusicToggle to HUD</h3>
<p><strong>File:</strong> <code>src/components/HUD.jsx</code></p>
<p>Update the HUD JSX return to include the MusicToggle component.</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb10-1" title="1"><span class="im">export</span> <span class="im">default</span> <span class="kw">function</span> <span class="at">HUD</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb10-2" title="2">  <span class="cf">return</span> (</a>
<a class="sourceLine" id="cb10-3" title="3">    <span class="op">&lt;&gt;</span></a>
<a class="sourceLine" id="cb10-4" title="4">      <span class="op">&lt;</span>Scoreboard /<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb10-5" title="5">      <span class="op">&lt;</span>CurrentZone /<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb10-6" title="6">      <span class="op">&lt;</span>MusicToggle /<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb10-7" title="7">    &lt;/<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb10-8" title="8">  )<span class="op">;</span></a>
<a class="sourceLine" id="cb10-9" title="9"><span class="op">}</span></a></code></pre></div>
<h3 id="step-4-test-music-toggle-visibility">Step 4: Test music toggle visibility</h3>
<p>Start the game and navigate to the playing screen.</p>
<p><strong>‚úì You should see:</strong> Music toggle button is visible but inoperable when clicked (audio functionality not yet implemented).</p>
<blockquote>
<p>üí° <strong>Conditional Rendering with Dynamic Content</strong></p>
<p>The MusicToggle component demonstrates conditional rendering with dynamic images and tooltips. The <code>music.isPlaying</code> state controls both the icon and the tooltip text, providing clear visual feedback to users. This pattern ‚Äî using state to drive multiple UI elements ‚Äî creates cohesive, responsive interfaces.</p>
</blockquote>
<p><a id="adding-audio-reference-to-useaudio"></a></p>
<h2 id="adding-audio-reference-to-useaudio">üìª Adding Audio Reference to useAudio</h2>
<p>üéØ <strong>Goal:</strong> Add the audio reference to your <code>useAudio</code> hook so it can store the HTMLAudioElement.</p>
<p>You‚Äôll add a ref to store the audio element and import the necessary React hooks.</p>
<h3 id="step-1-add-useref-import">Step 1: Add useRef import</h3>
<p><strong>File:</strong> <code>src/hooks/useAudio.js</code></p>
<p>Add the useRef import at the top of the file.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb11-1" title="1"><span class="im">import</span> <span class="op">{</span> useRef<span class="op">,</span> useState <span class="op">}</span> <span class="im">from</span> <span class="st">&quot;react&quot;</span><span class="op">;</span></a></code></pre></div>
<h3 id="step-2-add-audio-reference-to-hook">Step 2: Add audio reference to hook</h3>
<p><strong>File:</strong> <code>src/hooks/useAudio.js</code></p>
<p>Add the audio reference inside the <code>useAudio</code> function.</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb12-1" title="1"><span class="im">export</span> <span class="kw">function</span> <span class="at">useAudio</span>(src) <span class="op">{</span></a>
<a class="sourceLine" id="cb12-2" title="2">  <span class="kw">const</span> audioRef <span class="op">=</span> <span class="at">useRef</span>(<span class="kw">null</span>)<span class="op">;</span> <span class="co">// Add audio reference</span></a>
<a class="sourceLine" id="cb12-3" title="3">  <span class="kw">const</span> [isPlaying<span class="op">,</span> setIsPlaying] <span class="op">=</span> <span class="at">useState</span>(<span class="kw">false</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb12-4" title="4">  </a>
<a class="sourceLine" id="cb12-5" title="5">  <span class="co">// ... rest of hook</span></a>
<a class="sourceLine" id="cb12-6" title="6"><span class="op">}</span></a></code></pre></div>
<p>Your hook now has a ref that can store and remember the audio element you‚Äôll create in the <code>play</code> function. The ref starts as <code>null</code> and will hold your audio element once it‚Äôs created.</p>
<h3 id="audio-reference-flow">Audio Reference Flow</h3>
<pre class="text"><code>useAudio hook called ‚Üí audioRef.current is null ‚Üí play() creates new Audio() ‚Üí 
audioRef.current stores Audio element ‚Üí future calls reuse same element</code></pre>
<blockquote>
<p>üí° <strong>Persistent Storage Across Re-renders</strong></p>
<p>The <code>audioRef</code> you just created provides persistent storage for the audio element across component re-renders. Without refs, you‚Äôd create a new audio element every time the component updates, causing audio to restart unexpectedly. Refs solve this by maintaining the same reference to the audio object throughout the component‚Äôs lifecycle.</p>
</blockquote>
<p><a id="implementing-audio-playback"></a></p>
<h2 id="implementing-audio-playback">üéµ Implementing Audio Playback</h2>
<p>üéØ <strong>Goal:</strong> Implement the core audio functionality by updating the <code>play</code> function to create and control audio elements.</p>
<p>You‚Äôll add lazy initialization to create the audio element only when needed, then configure and play it.</p>
<h3 id="step-1-update-play-function">Step 1: Update play function</h3>
<p><strong>File:</strong> <code>src/hooks/useAudio.js</code></p>
<p>Update the play function to create and control the audio element.</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb14-1" title="1"><span class="kw">const</span> play <span class="op">=</span> () <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb14-2" title="2">  <span class="co">// [1] Lazy initialization</span></a>
<a class="sourceLine" id="cb14-3" title="3">  <span class="cf">if</span> (<span class="op">!</span><span class="va">audioRef</span>.<span class="at">current</span>) <span class="op">{</span></a>
<a class="sourceLine" id="cb14-4" title="4">    <span class="va">audioRef</span>.<span class="at">current</span> <span class="op">=</span> <span class="kw">new</span> <span class="at">Audio</span>(src)<span class="op">;</span></a>
<a class="sourceLine" id="cb14-5" title="5">    <span class="va">audioRef</span>.<span class="va">current</span>.<span class="at">loop</span> <span class="op">=</span> <span class="kw">true</span><span class="op">;</span></a>
<a class="sourceLine" id="cb14-6" title="6">    <span class="va">audioRef</span>.<span class="va">current</span>.<span class="at">volume</span> <span class="op">=</span> <span class="fl">0.5</span><span class="op">;</span></a>
<a class="sourceLine" id="cb14-7" title="7">  <span class="op">}</span></a>
<a class="sourceLine" id="cb14-8" title="8">  <span class="va">audioRef</span>.<span class="va">current</span>.<span class="at">play</span>()<span class="op">;</span>  <span class="co">// [2] Play audio</span></a>
<a class="sourceLine" id="cb14-9" title="9">  <span class="at">setIsPlaying</span>(<span class="kw">true</span>)<span class="op">;</span>       <span class="co">// [3] Update state</span></a>
<a class="sourceLine" id="cb14-10" title="10"><span class="op">};</span></a></code></pre></div>
<blockquote>
<p>üí° <strong>Understanding Lazy Initialization</strong></p>
<ol type="1">
<li><strong>Lazy initialization</strong>: Create audio element only when first needed ‚Äî the <code>if (!audioRef.current)</code> check ensures the audio element is created once and reused</li>
<li><strong>Play audio</strong>: Call the browser‚Äôs play method to start playback</li>
<li><strong>Update state</strong>: Set <code>isPlaying</code> to true so UI reflects the playing state</li>
</ol>
<p>The <code>if (!audioRef.current)</code> check is an example of <strong>lazy initialization</strong> ‚Äî creating a resource only when it‚Äôs first needed. Since <code>audioRef.current</code> starts as <code>null</code>, the first time <code>play()</code> runs it creates the audio element. Every time after that, <code>audioRef.current</code> contains the audio element, so the <code>if</code> condition is false and it skips creating a new one.</p>
</blockquote>
<h3 id="step-2-test-audio-playback">Step 2: Test audio playback</h3>
<p>Click the music toggle button.</p>
<p><strong>‚úì You should see:</strong> Game theme plays and button shows playing state (icon changes).</p>
<blockquote>
<p>üí° <strong>Preventing Audio Chaos</strong></p>
<p>Creating audio elements only once and reusing them prevents overlapping sounds, memory leaks, and performance issues. Without this pattern, clicking the music toggle rapidly would create multiple audio elements playing simultaneously, causing audio chaos and slowing down your browser. The lazy initialization pattern ensures clean, efficient audio management.</p>
</blockquote>
<p><a id="github-copilot-workflow"></a></p>
<h2 id="github-copilot-workflow">‚ö° GitHub Copilot Workflow</h2>
<p>You‚Äôre now working with production-quality code. GitHub Copilot can help you write, fix, and understand code faster ‚Äî but only if you know how to guide it.</p>
<h3 id="how-to-use-copilot-chat-effectively">How to Use Copilot Chat Effectively</h3>
<ol type="1">
<li><strong>Use</strong> a Copilot chat command like <code>/fix</code>, <code>/explain</code>, or <code>/test</code></li>
<li><strong>Write</strong> a clear, focused prompt describing what you want</li>
<li><strong>Review</strong> the suggestion Copilot generates</li>
<li><strong>Apply</strong> the change if it meets your needs</li>
<li><strong>Test</strong> the update to confirm it works</li>
</ol>
<h3 id="example-prompt">Example Prompt</h3>
<blockquote>
<p>ü§ñ <strong>AI Prompt:</strong></p>
<p><code>/fix Add error handling to the play function in the useAudio hook so that if the audio fails to play, it catches the error, logs a warning, and updates isPlaying to false</code></p>
</blockquote>
<p>Use this workflow during your Solo Mission and anytime you‚Äôre stuck or want to improve your code.</p>
<p><a id="solo-mission-complete-useaudio-hook"></a></p>
<h2 id="solo-mission-complete-useaudio-hook">üéñÔ∏è Solo Mission: Complete useAudio Hook</h2>
<p>You‚Äôve built audio playback with guidance ‚Äî now it‚Äôs your turn to complete the hook with pause controls, error handling, and cleanup using AI assistance.</p>
<h3 id="what-youre-building">What You‚Äôre Building</h3>
<p>A complete audio hook with pause functionality, error handling for failed playback, and cleanup that prevents memory leaks when components unmount.</p>
<hr />
<h3 id="phase-1-pause-functionality">Phase 1: Pause Functionality</h3>
<p>üéØ <strong>Goal:</strong> Stop audio playback and update state</p>
<p><strong>Your Task:</strong></p>
<p>Update the <code>pause</code> function in <code>src/hooks/useAudio.js</code> to:</p>
<ul>
<li>Call <code>audioRef.current.pause()</code></li>
<li>Set <code>isPlaying</code> to <code>false</code></li>
</ul>
<p><strong>Test:</strong> Click music toggle while audio is playing ‚Üí music stops, icon changes to paused state</p>
<hr />
<h3 id="phase-2-error-handling">Phase 2: Error Handling</h3>
<p>üéØ <strong>Goal:</strong> Prevent audio failures from crashing the app</p>
<p><strong>Your Tasks:</strong></p>
<ol type="1">
<li><p>Open <code>src/hooks/useAudio.js</code> and use GitHub Copilot:</p>
<blockquote>
<p>ü§ñ <strong>AI Prompt:</strong></p>
<p><code>/fix Add error handling to the play function in the useAudio hook so that if the audio fails to play, it catches the error, logs a warning, and updates isPlaying to false</code></p>
</blockquote></li>
<li><p>Review and apply the generated code</p></li>
</ol>
<p><strong>Test error handling:</strong></p>
<ol type="1">
<li>Open <code>src/context/GameContext.jsx</code></li>
<li><p>Locate</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb15-1" title="1"><span class="kw">const</span> music <span class="op">=</span> <span class="at">useAudio</span>(<span class="at">getAssetPath</span>(<span class="st">&quot;audio/dramatic-action.mp3&quot;</span>))<span class="op">;</span></a></code></pre></div></li>
<li>Change path to <code>&quot;audio/nonexistent.mp3&quot;</code> (keep the <code>getAssetPath()</code> wrapper)</li>
<li>Click music toggle ‚Üí check browser console for error message</li>
<li><p>Revert path to <code>&quot;audio/dramatic-action.mp3&quot;</code> after testing</p></li>
</ol>
<p><strong>‚úì You should see:</strong> Console shows error, app doesn‚Äôt crash, and <code>isPlaying</code> stays false</p>
<p><img src="data:image/svg+xml; charset=utf-8;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI1MDAiIGhlaWdodD0iMTAwIiB2aWV3Qm94PSIwIDAgNTAwIDEwMCI+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0iI0RERERERCIvPjxwYXRoIGZpbGw9IiM5OTk5OTkiIGQ9Ik0xMTMuMDI1IDUzLjMxNXEuMzMgMCAuNTkuMjZsMS41OSAxLjczcS0xLjMyIDEuNjMtMy4yNSAyLjV0LTQuNjMuODdxLTIuNDEgMC00LjM0LS44Mi0xLjkzLS44My0zLjI5LTIuMy0xLjM3LTEuNDctMi4wOS0zLjUxLS43My0yLjA0LS43My00LjQ1IDAtMi40NS43OC00LjQ4Ljc4LTIuMDQgMi4yLTMuNSAxLjQxLTEuNDcgMy4zOC0yLjI5IDEuOTYtLjgyIDQuMzUtLjgyIDIuMzcgMCA0LjIxLjc4IDEuODMuNzggMy4xMiAyLjA0bC0xLjM1IDEuODhxLS4xMi4xOC0uMy4zMS0uMTkuMTMtLjUyLjEzLS4yMyAwLS40Ny0uMTItLjI0LS4xMy0uNTItLjMybC0uNjYtLjQxcS0uMzgtLjIyLS44Ny0uNDEtLjUtLjE5LTEuMTUtLjMydC0xLjUxLS4xM3EtMS40NSAwLTIuNjYuNTJ0LTIuMDggMS41cS0uODcuOTktMS4zNSAyLjQtLjQ4IDEuNDItLjQ4IDMuMjQgMCAxLjgzLjUyIDMuMjV0MS40IDIuNHEuODkuOTggMi4wOSAxLjQ5IDEuMi41MiAyLjU4LjUyLjgyIDAgMS40OS0uMDl0MS4yMy0uMjhxLjU2LS4yIDEuMDctLjUxLjUtLjMxLjk5LS43NS4xNS0uMTQuMzItLjIyLjE2LS4wOS4zNC0uMDltMTEuMTgtMTAuNTFxMS43MSAwIDMuMTEuNTYgMS40LjU1IDIuNCAxLjU3dDEuNTQgMi40OS41NCAzLjI5cTAgMS44My0uNTQgMy4zLS41NCAxLjQ2LTEuNTQgMi41LTEgMS4wMy0yLjQgMS41OS0xLjQuNTUtMy4xMS41NS0xLjczIDAtMy4xNC0uNTUtMS40MS0uNTYtMi40LTEuNTktMS0xLjA0LTEuNTUtMi41LS41NS0xLjQ3LS41NS0zLjMgMC0xLjgyLjU1LTMuMjl0MS41NS0yLjQ5cS45OS0xLjAyIDIuNC0xLjU3IDEuNDEtLjU2IDMuMTQtLjU2bTAgMTNxMS45MiAwIDIuODQtMS4yOXQuOTItMy43N3EwLTIuNS0uOTItMy44dC0yLjg0LTEuM3EtMS45NSAwLTIuODkgMS4zMXQtLjk0IDMuNzlxMCAyLjQ3Ljk0IDMuNzcuOTQgMS4yOSAyLjg5IDEuMjltMTMuNjMtMTIuMDguMjYgMS4yMXEuNDYtLjQ2Ljk4LS44NnQxLjEtLjY4cS41Ny0uMjcgMS4yMy0uNDN0MS40NC0uMTZxMS4yNiAwIDIuMjQuNDMuOTcuNDMgMS42MyAxLjIuNjUuNzcuOTkgMS44NC4zMyAxLjA4LjMzIDIuMzd2OS43OWgtMy43di05Ljc5cTAtMS40Mi0uNjUtMi4xOS0uNjQtLjc3LTEuOTYtLjc3LS45NiAwLTEuOC40NC0uODQuNDMtMS41OSAxLjE4djExLjEzaC0zLjcxdi0xNS4zOWgyLjI3cS43MiAwIC45NC42OG0yMy45NC45OS0uODQgMS4zM3EtLjE1LjI0LS4zMS4zNC0uMTcuMDktLjQyLjA5LS4yNyAwLS41OC0uMTUtLjMxLS4xNC0uNzEtLjMzLS40MS0uMTktLjkyLS4zNC0uNTItLjE1LTEuMjMtLjE1LTEuMDkgMC0xLjcxLjQ3LS42My40Ni0uNjMgMS4yMSAwIC41LjMzLjgzLjMyLjM0Ljg1LjYuNTMuMjUgMS4yMS40NS42Ny4yMSAxLjM3LjQ1LjcuMjMgMS4zNy41NC42OC4zMSAxLjIxLjc4dC44NiAxLjE0cS4zMi42Ni4zMiAxLjU4IDAgMS4xMi0uNCAyLjA1LS40Ljk0LTEuMTggMS42MnQtMS45MiAxLjA3cS0xLjE1LjM4LTIuNjUuMzgtLjggMC0xLjU1LS4xNC0uNzYtLjE0LTEuNDYtLjQtLjctLjI1LTEuMjktLjYtLjU5LS4zNC0xLjA0LS43NWwuODUtMS40MXEuMTctLjI1LjM5LS4zOS4yMy0uMTMuNTctLjEzLjM1IDAgLjY2LjE5LjMuMi43MS40Mi40LjIyLjk1LjQydDEuMzkuMnEuNjYgMCAxLjEzLS4xNnQuNzgtLjQxcS4zMS0uMjYuNDUtLjYuMTQtLjMzLjE0LS42OSAwLS41NC0uMzItLjg5LS4zMi0uMzQtLjg1LS42LS41NC0uMjYtMS4yMi0uNDZ0LTEuMzktLjQ0cS0uNzItLjI0LTEuNC0uNTZ0LTEuMjEtLjgycS0uNTQtLjQ5LS44Ni0xLjIyLS4zMi0uNzEtLjMyLTEuNzMgMC0uOTUuMzctMS44LjM4LS44NiAxLjExLTEuNS43Mi0uNjQgMS44MS0xLjAydDIuNTEtLjM4cTEuNTkgMCAyLjkuNTMgMS4zLjUyIDIuMTcgMS4zOG05Ljc3LTEuOTFxMS43MSAwIDMuMTEuNTYgMS40LjU1IDIuNCAxLjU3dDEuNTQgMi40OS41NCAzLjI5cTAgMS44My0uNTQgMy4zLS41NCAxLjQ2LTEuNTQgMi41LTEgMS4wMy0yLjQgMS41OS0xLjQuNTUtMy4xMS41NS0xLjczIDAtMy4xNC0uNTUtMS40MS0uNTYtMi40LTEuNTktMS0xLjA0LTEuNTUtMi41LS41NS0xLjQ3LS41NS0zLjMgMC0xLjgyLjU1LTMuMjl0MS41NS0yLjQ5cS45OS0xLjAyIDIuNC0xLjU3IDEuNDEtLjU2IDMuMTQtLjU2bTAgMTNxMS45MiAwIDIuODQtMS4yOXQuOTItMy43N3EwLTIuNS0uOTItMy44dC0yLjg0LTEuM3EtMS45NSAwLTIuODkgMS4zMXQtLjk0IDMuNzlxMCAyLjQ3Ljk0IDMuNzcuOTQgMS4yOSAyLjg5IDEuMjltMTAuNDctMTkuNjZoMy43djIyLjI5aC0zLjd6bTEwLjMzIDEyLjgzaDYuOTlxMC0uNzMtLjItMS4zNi0uMi0uNjQtLjYxLTEuMTItLjQtLjQ4LTEuMDItLjc2LS42My0uMjctMS40NS0uMjctMS42MSAwLTIuNTMuOTEtLjkyLjkyLTEuMTggMi42bTkuNDUgMi4yM2gtOS41MnEuMDkgMS4xOS40MiAyLjA1dC44NyAxLjQycS41NC41NyAxLjI4Ljg0Ljc0LjI4IDEuNjQuMjh0MS41Ni0uMjFxLjY1LS4yMSAxLjE0LS40Ni40OC0uMjYuODUtLjQ3dC43MS0uMjFxLjQ3IDAgLjY5LjM0bDEuMDcgMS4zNnEtLjYyLjcyLTEuMzggMS4yLS43Ny40OS0xLjYuNzgtLjgzLjMtMS42OS40MS0uODcuMTItMS42OC4xMi0xLjYgMC0yLjk4LS41M3QtMi40LTEuNTctMS42MS0yLjU4cS0uNTgtMS41NC0uNTgtMy41NyAwLTEuNTcuNTEtMi45NnQxLjQ2LTIuNDFxLjk1LTEuMDMgMi4zMy0xLjYzIDEuMzctLjYgMy4wOS0uNiAxLjQ2IDAgMi42OS40NyAxLjIzLjQ2IDIuMTEgMS4zNS44OS45IDEuMzkgMi4xOS41IDEuMy41IDIuOTcgMCAuODQtLjE4IDEuMTN0LS42OS4yOW0yNS4yLTExLjI1aC05LjYzdjYuMDJoNy41OXYzLjFoLTcuNTl2Ni4xM2g5LjYzdjMuMjNoLTEzLjY4di0yMS42OWgxMy42OHptNi4yNiA0LjAyLjIyIDEuNzRxLjcyLTEuMzggMS43MS0yLjE3Ljk5LS43OCAyLjM0LS43OCAxLjA3IDAgMS43MS40NmwtLjI0IDIuNzhxLS4wNy4yNy0uMjEuMzgtLjE1LjExLS4zOS4xMS0uMjIgMC0uNjYtLjA3LS40NS0uMDgtLjg3LS4wOC0uNjEgMC0xLjA5LjE4dC0uODYuNTJxLS4zOS4zNC0uNjguODJ0LS41NSAxLjA5djkuNDhoLTMuN3YtMTUuMzloMi4xN3EuNTcgMCAuOC4yLjIyLjIxLjMuNzNtMTEuMTkgMCAuMjIgMS43NHEuNzItMS4zOCAxLjcxLTIuMTcuOTktLjc4IDIuMzQtLjc4IDEuMDcgMCAxLjcxLjQ2bC0uMjQgMi43OHEtLjA3LjI3LS4yMS4zOC0uMTUuMTEtLjM5LjExLS4yMiAwLS42Ni0uMDctLjQ1LS4wOC0uODctLjA4LS42MSAwLTEuMDkuMTh0LS44Ni41MnEtLjM5LjM0LS42OC44MnQtLjU1IDEuMDl2OS40OGgtMy43di0xNS4zOWgyLjE3cS41NyAwIC44LjIuMjIuMjEuMy43M20xNC43My0xLjE3cTEuNzEgMCAzLjExLjU2IDEuNC41NSAyLjQgMS41N3QxLjU0IDIuNDkuNTQgMy4yOXEwIDEuODMtLjU0IDMuMy0uNTQgMS40Ni0xLjU0IDIuNS0xIDEuMDMtMi40IDEuNTktMS40LjU1LTMuMTEuNTUtMS43MyAwLTMuMTQtLjU1LTEuNDEtLjU2LTIuNC0xLjU5LTEtMS4wNC0xLjU1LTIuNS0uNTUtMS40Ny0uNTUtMy4zIDAtMS44Mi41NS0zLjI5dDEuNTUtMi40OXEuOTktMS4wMiAyLjQtMS41NyAxLjQxLS41NiAzLjE0LS41Nm0wIDEzcTEuOTIgMCAyLjg0LTEuMjl0LjkyLTMuNzdxMC0yLjUtLjkyLTMuOHQtMi44NC0xLjNxLTEuOTUgMC0yLjg5IDEuMzF0LS45NCAzLjc5cTAgMi40Ny45NCAzLjc3Ljk0IDEuMjkgMi44OSAxLjI5bTEzLjY5LTExLjgzLjIzIDEuNzRxLjcyLTEuMzggMS43MS0yLjE3Ljk5LS43OCAyLjM0LS43OCAxLjA2IDAgMS43MS40NmwtLjI0IDIuNzhxLS4wOC4yNy0uMjIuMzh0LS4zOC4xMXEtLjIzIDAtLjY3LS4wNy0uNDQtLjA4LS44Ni0uMDgtLjYyIDAtMS4xLjE4dC0uODYuNTItLjY3LjgycS0uMy40OC0uNTUgMS4wOXY5LjQ4aC0zLjcxdi0xNS4zOWgyLjE4cS41NyAwIC43OS4yLjIzLjIxLjMuNzNtMzYuMjctNy4yM2gzLjA1djIxLjY5aC0zLjU2di0xNC4wMXEwLS44NC4wOS0xLjgxbC02LjU1IDEyLjMxcS0uNDcuODgtMS40My44OGgtLjU3cS0uOTYgMC0xLjQyLS44OGwtNi42My0xMi4zNnEuMDQuNDkuMDcuOTguMDMuNDguMDMuODh2MTQuMDFoLTMuNTV2LTIxLjY5aDMuMDRxLjI3IDAgLjQ3LjAxLjE5LjAyLjM1LjA4dC4yOS4ycS4xMi4xMy4yNC4zNmw2LjUgMTIuMDRxLjI1LjQ4LjQ3Ljk5dC40MyAxLjA1cS4yMS0uNTUuNDMtMS4wNy4yMy0uNTIuNDgtMWw2LjQxLTEyLjAxcS4xMi0uMjMuMjUtLjM2LjE0LS4xNC4zLS4yLjE1LS4wNi4zNS0uMDguMTktLjAxLjQ2LS4wMW0xMC4yMiAxMi4yM2g2Ljk5cTAtLjczLS4yLTEuMzYtLjIxLS42NC0uNjEtMS4xMi0uNDEtLjQ4LTEuMDMtLjc2LS42Mi0uMjctMS40NS0uMjctMS42IDAtMi41Mi45MS0uOTMuOTItMS4xOCAyLjZtOS40NSAyLjIzaC05LjUzcS4wOSAxLjE5LjQyIDIuMDV0Ljg3IDEuNDJxLjU0LjU3IDEuMjkuODQuNzQuMjggMS42NC4yOHQxLjU1LS4yMSAxLjE0LS40NnEuNDktLjI2Ljg2LS40Ny4zNi0uMjEuNzEtLjIxLjQ2IDAgLjY5LjM0bDEuMDYgMS4zNnEtLjYxLjcyLTEuMzggMS4yLS43Ni40OS0xLjU5Ljc4LS44NC4zLTEuNy40MS0uODYuMTItMS42Ny4xMi0xLjYxIDAtMi45OS0uNTN0LTIuNC0xLjU3LTEuNi0yLjU4cS0uNTktMS41NC0uNTktMy41NyAwLTEuNTcuNTEtMi45NnQxLjQ3LTIuNDFxLjk1LTEuMDMgMi4zMi0xLjYzdDMuMS0uNnExLjQ1IDAgMi42OC40NyAxLjIzLjQ2IDIuMTIgMS4zNS44OC45IDEuMzkgMi4xOS41IDEuMy41IDIuOTcgMCAuODQtLjE4IDEuMTN0LS42OS4yOW0xMy44Ny02LjQ5LS44NCAxLjMzcS0uMTUuMjQtLjMxLjM0LS4xNy4wOS0uNDIuMDktLjI3IDAtLjU4LS4xNS0uMzEtLjE0LS43MS0uMzMtLjQxLS4xOS0uOTItLjM0LS41Mi0uMTUtMS4yMy0uMTUtMS4wOSAwLTEuNzEuNDctLjYzLjQ2LS42MyAxLjIxIDAgLjUuMzMuODMuMzIuMzQuODUuNi41My4yNSAxLjIxLjQ1LjY3LjIxIDEuMzcuNDUuNy4yMyAxLjM3LjU0LjY4LjMxIDEuMjEuNzh0Ljg2IDEuMTRxLjMyLjY2LjMyIDEuNTggMCAxLjEyLS40IDIuMDUtLjQuOTQtMS4xOCAxLjYydC0xLjkyIDEuMDdxLTEuMTUuMzgtMi42NS4zOC0uOCAwLTEuNTUtLjE0LS43Ni0uMTQtMS40Ni0uNC0uNy0uMjUtMS4yOS0uNi0uNTktLjM0LTEuMDQtLjc1bC44NS0xLjQxcS4xNy0uMjUuMzktLjM5LjIzLS4xMy41Ny0uMTMuMzUgMCAuNjYuMTkuMy4yLjcxLjQyLjQuMjIuOTUuNDJ0MS4zOS4ycS42NiAwIDEuMTMtLjE2dC43OC0uNDFxLjMxLS4yNi40NS0uNi4xNC0uMzMuMTQtLjY5IDAtLjU0LS4zMi0uODktLjMyLS4zNC0uODUtLjYtLjU0LS4yNi0xLjIyLS40NnQtMS4zOS0uNDRxLS43Mi0uMjQtMS40LS41NnQtMS4yMS0uODJxLS41NC0uNDktLjg2LTEuMjItLjMyLS43MS0uMzItMS43MyAwLS45NS4zNy0xLjguMzgtLjg2IDEuMTEtMS41LjcyLS42NCAxLjgxLTEuMDJ0Mi41MS0uMzhxMS41OSAwIDIuOS41MyAxLjMuNTIgMi4xNyAxLjM4bTEzLjE5IDAtLjg0IDEuMzNxLS4xNS4yNC0uMzIuMzQtLjE2LjA5LS40Mi4wOS0uMjcgMC0uNTctLjE1LS4zMS0uMTQtLjcyLS4zMy0uNC0uMTktLjkyLS4zNHQtMS4yMi0uMTVxLTEuMSAwLTEuNzIuNDctLjYyLjQ2LS42MiAxLjIxIDAgLjUuMzIuODMuMzIuMzQuODYuNi41My4yNSAxLjIuNDUuNjguMjEgMS4zOC40NS42OS4yMyAxLjM3LjU0LjY3LjMxIDEuMjEuNzguNTMuNDcuODUgMS4xNC4zMi42Ni4zMiAxLjU4IDAgMS4xMi0uMzkgMi4wNS0uNC45NC0xLjE4IDEuNjJ0LTEuOTMgMS4wN3EtMS4xNS4zOC0yLjY1LjM4LS43OSAwLTEuNTUtLjE0dC0xLjQ1LS40cS0uNy0uMjUtMS4yOS0uNi0uNi0uMzQtMS4wNS0uNzVsLjg2LTEuNDFxLjE2LS4yNS4zOS0uMzkuMjItLjEzLjU3LS4xMy4zNCAwIC42NS4xOS4zMS4yLjcxLjQyLjQxLjIyLjk2LjQyLjU0LjIgMS4zOC4yLjY2IDAgMS4xNC0uMTYuNDctLjE2Ljc4LS40MS4zLS4yNi40NS0uNi4xNC0uMzMuMTQtLjY5IDAtLjU0LS4zMi0uODktLjMzLS4zNC0uODYtLjZ0LTEuMjEtLjQ2cS0uNjktLjItMS40LS40NHQtMS4zOS0uNTZxLS42OS0uMzItMS4yMi0uODItLjUzLS40OS0uODUtMS4yMi0uMzMtLjcxLS4zMy0xLjczIDAtLjk1LjM4LTEuOC4zNy0uODYgMS4xLTEuNXQxLjgyLTEuMDJxMS4wOC0uMzggMi41MS0uMzggMS41OSAwIDIuODkuNTMgMS4zMS41MiAyLjE4IDEuMzhtMTEuMDggOS43NXYtMi42cS0xLjYuMDctMi43LjI4LTEuMDkuMi0xLjc1LjUyLS42Ni4zMS0uOTUuNzMtLjI4LjQyLS4yOC45MSAwIC45OC41OCAxLjQuNTcuNDIgMS41LjQyIDEuMTQgMCAxLjk4LS40MS44My0uNDEgMS42Mi0xLjI1bS03LjgzLTguMDktLjY2LTEuMThxMi42Ni0yLjQzIDYuMzktMi40MyAxLjM1IDAgMi40Mi40NCAxLjA2LjQ0IDEuOCAxLjIzLjczLjc5IDEuMTIgMS44OC4zOCAxLjA5LjM4IDIuNHY5LjcyaC0xLjY4cS0uNTMgMC0uODEtLjE2LS4yOS0uMTYtLjQ1LS42M2wtLjMzLTEuMTJxLS41OS41My0xLjE0LjkzLS41Ni40LTEuMTYuNjYtLjYuMjgtMS4yOC40MnQtMS41MS4xNHEtLjk3IDAtMS44LS4yNi0uODItLjI2LTEuNDItLjc5LS42LS41Mi0uOTMtMS4zLS4zMy0uNzktLjMzLTEuODIgMC0uNTguMTktMS4xNi4yLS41OC42NC0xLjEuNDQtLjUzIDEuMTUtLjk5LjctLjQ3IDEuNzMtLjgyIDEuMDMtLjM0IDIuMzktLjU2IDEuMzctLjIyIDMuMTItLjI2di0uOXEwLTEuNTQtLjY2LTIuMjktLjY2LS43NC0xLjktLjc0LS45IDAtMS40OS4yMS0uNi4yMS0xLjA1LjQ3LS40NS4yNy0uODEuNDgtLjM3LjIxLS44Mi4yMS0uMzkgMC0uNjYtLjIxLS4yNy0uMi0uNDQtLjQ3bTIwLjU1IDMuOTlxLjY5IDAgMS4yLS4xOXQuODUtLjUyLjUxLS43OXEuMTctLjQ3LjE3LTEuMDIgMC0xLjE0LS42OC0xLjgxLS42OC0uNjYtMi4wNS0uNjYtMS4zNiAwLTIuMDQuNjYtLjY5LjY3LS42OSAxLjgxIDAgLjU0LjE4IDEuMDEuMTcuNDYuNTEuOC4zMy4zMy44NS41MnQxLjE5LjE5bTQuMTkgOC43NnEwLS40NS0uMjctLjczLS4yNy0uMjktLjc0LS40NS0uNDYtLjE2LTEuMDgtLjIzLS42My0uMDctMS4zMi0uMTEtLjctLjA0LTEuNDQtLjA3LS43NS0uMDMtMS40NS0uMTItLjYyLjM1LTEgLjgxLS4zOC40Ny0uMzggMS4wOCAwIC40LjIuNzYuMi4zNS42NS42LjQ0LjI2IDEuMTQuNC43MS4xNCAxLjczLjE0IDEuMDMgMCAxLjc4LS4xNS43NS0uMTYgMS4yNC0uNDQuNDktLjI3LjcxLS42Ni4yMy0uMzguMjMtLjgzbS0uNzQtMTUuNTZoNC40M3YxLjM5cTAgLjY2LS44LjgxbC0xLjM4LjI1cS4zMi43OS4zMiAxLjc0IDAgMS4xNC0uNDYgMi4wNi0uNDYuOTMtMS4yNyAxLjU3LS44MS42NS0xLjkxIDF0LTIuMzguMzVxLS40NSAwLS44Ny0uMDUtLjQyLS4wNC0uODItLjEyLS43Mi40NC0uNzIuOTggMCAuNDcuNDMuNjguNDIuMjIgMS4xMy4zMS43LjA5IDEuNi4xMS45LjAzIDEuODUuMS45NC4wOCAxLjg0LjI2LjkuMTkgMS42MS42LjcuNCAxLjEzIDEuMXQuNDMgMS43OXEwIDEuMDItLjUgMS45OC0uNTEuOTYtMS40NiAxLjcxdC0yLjM0IDEuMjEtMy4xNi40NnEtMS43NCAwLTMuMDMtLjM0dC0yLjE0LS45cS0uODYtLjU3LTEuMjgtMS4zdC0uNDItMS41M3EwLTEuMDguNjYtMS44MS42NS0uNzMgMS43OS0xLjE2LS42Mi0uMzEtLjk4LS44NC0uMzYtLjUyLS4zNi0xLjM4IDAtLjM0LjEzLS43MXQuMzgtLjczcS4yNC0uMzYuNjItLjY4LjM3LS4zMy44OC0uNTgtMS4xNy0uNjMtMS44My0xLjY4LS42Ny0xLjA1LS42Ny0yLjQ2IDAtMS4xNC40Ni0yLjA2LjQ1LS45MiAxLjI3LTEuNTguODItLjY1IDEuOTQtLjk5IDEuMTEtLjM1IDIuNDMtLjM1Ljk5IDAgMS44Ni4yLjg3LjIxIDEuNTkuNTltOS42OSA1LjQxaDYuOTlxMC0uNzMtLjItMS4zNi0uMi0uNjQtLjYxLTEuMTItLjQtLjQ4LTEuMDMtLjc2LS42Mi0uMjctMS40NC0uMjctMS42MSAwLTIuNTMuOTEtLjkyLjkyLTEuMTggMi42bTkuNDUgMi4yM2gtOS41MnEuMDkgMS4xOS40MiAyLjA1dC44NyAxLjQycS41NC41NyAxLjI4Ljg0Ljc0LjI4IDEuNjQuMjh0MS41NS0uMjFxLjY2LS4yMSAxLjE1LS40Ni40OC0uMjYuODUtLjQ3dC43MS0uMjFxLjQ3IDAgLjY5LjM0bDEuMDcgMS4zNnEtLjYyLjcyLTEuMzggMS4yLS43Ny40OS0xLjYuNzgtLjgzLjMtMS42OS40MS0uODcuMTItMS42OC4xMi0xLjYgMC0yLjk4LS41M3QtMi40LTEuNTctMS42MS0yLjU4cS0uNTgtMS41NC0uNTgtMy41NyAwLTEuNTcuNTEtMi45NnQxLjQ2LTIuNDFxLjk1LTEuMDMgMi4zMi0xLjYzIDEuMzgtLjYgMy4xLS42IDEuNDYgMCAyLjY5LjQ3IDEuMjMuNDYgMi4xMSAxLjM1Ljg5LjkgMS4zOSAyLjE5LjUgMS4zLjUgMi45NyAwIC44NC0uMTggMS4xM3QtLjY5LjI5Ii8+PC9zdmc+" alt="Browser console showing error: useAudio.js:28 Audio failed to play: NotSupportedError" style="max-width: 500px; width: 100%;"> <em>Figure: Error handling prevents crashes and logs helpful debugging information</em></p>
<hr />
<h3 id="phase-3-cleanup-function">Phase 3: Cleanup Function</h3>
<p>üéØ <strong>Goal:</strong> Prevent memory leaks by cleaning up when the hook unmounts</p>
<p><strong>Your Tasks:</strong></p>
<ol type="1">
<li><p>Open <code>src/hooks/useAudio.js</code> and use GitHub Copilot:</p>
<blockquote>
<p>ü§ñ <strong>AI Prompt:</strong></p>
<p><code>/fix Add a useEffect cleanup function to the useAudio hook that stops the audio and clears the reference when the component unmounts</code></p>
</blockquote></li>
<li><p>Review and apply the generated code</p></li>
</ol>
<p><strong>Verify:</strong> Check that your hook includes a <code>useEffect</code> with cleanup that pauses audio and clears the ref</p>
<hr />
<h3 id="success-review">‚úÖ Success Review</h3>
<p>Your completed <code>useAudio</code> hook should:</p>
<ul>
<li>Export <code>play</code>, <code>pause</code>, <code>toggle</code>, and <code>isPlaying</code></li>
<li>Successfully toggle audio playback on/off</li>
<li>Handle errors when attempting to play audio</li>
<li>Set <code>isPlaying</code> to false if an error occurs</li>
<li>Include a <code>useEffect</code> cleanup function for component unmounting</li>
<li>Prevent memory leaks when navigating between screens</li>
</ul>
<h3 id="reference-guide">üîç Reference Guide</h3>
<ul>
<li><strong>src/hooks/useGame.js</strong> ‚Äì Custom hook structure, exporting functions and state</li>
<li><strong>src/components/QuizModal.jsx</strong> ‚Äì useEffect cleanup pattern</li>
<li><strong>src/context/GameContext.jsx</strong> ‚Äì Error handling with try/catch blocks</li>
</ul>
<p><a id="essential-terms"></a></p>
<h2 id="essential-terms">üìö Essential Terms</h2>
<p><em>Quick reference for all the custom hooks and browser API concepts you just learned:</em></p>
<table>
<colgroup>
<col style="width: 22%"></col>
<col style="width: 33%"></col>
<col style="width: 44%"></col>
</colgroup>
<thead>
<tr class="header">
<th>Term</th>
<th>Definition</th>
<th>Why it matters</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>üîÑ DRY (Don‚Äôt Repeat Yourself)</td>
<td>A fundamental programming principle that emphasizes eliminating code duplication through reusable solutions.</td>
<td>Custom hooks embody DRY by packaging complex logic into reusable functions.</td>
</tr>
<tr class="even">
<td>üîä HTMLAudioElement</td>
<td>Part of the Web API that provides an interface for controlling audio playback, with methods like play(), pause(), and properties like volume and loop.</td>
<td>Gives you programmatic control over audio files in web applications.</td>
</tr>
<tr class="odd">
<td>üîó ref</td>
<td>A way to access DOM elements or store values that don‚Äôt cause re-renders when changed.</td>
<td>Perfect for storing audio elements that need to persist but don‚Äôt affect UI rendering.</td>
</tr>
<tr class="even">
<td>üéØ useRef</td>
<td>A React hook that creates a persistent reference to a DOM element or value that doesn‚Äôt cause re-renders when it changes.</td>
<td>Essential for storing audio elements and other browser API objects across component updates.</td>
</tr>
<tr class="odd">
<td>üîÑ mutable</td>
<td>Data that can be changed or modified after it‚Äôs created, as opposed to immutable data that cannot be changed.</td>
<td>Refs store mutable values that can be updated without triggering re-renders, perfect for audio objects that change state.</td>
</tr>
<tr class="even">
<td>‚è≥ lazy initialization</td>
<td>A pattern where resources are created only when first needed, rather than upfront.</td>
<td>Avoids unnecessary setup and ensures efficient resource reuse, like creating audio elements only when play() is first called.</td>
</tr>
</tbody>
</table>
<p><a id="ask-the-ai"></a></p>
<h2 id="ask-the-ai-adding-theme-music">ü§ñ Ask the AI ‚Äî Adding Theme Music</h2>
<p>You just created a custom React hook with browser API integration and AI-assisted development ‚Äî excellent work!</p>
<p>Now let‚Äôs deepen your understanding of custom hooks, browser APIs, and development practices. Here are the most impactful questions to ask your AI assistant about today‚Äôs session:</p>
<ul>
<li><strong>What makes custom hooks different from regular functions, and why do they need to start with ‚Äúuse‚Äù?</strong></li>
<li><strong>How do refs differ from state, and when should I use each one?</strong></li>
<li><strong>Why do I need to use ref.current instead of just ref?</strong></li>
<li><strong>What are the benefits of wrapping browser APIs in custom hooks?</strong></li>
<li><strong>How does HTMLAudioElement work, and what other Web APIs are commonly used in web development?</strong></li>
<li><strong>How can AI assistants help with coding, and what should I watch out for?</strong></li>
</ul>
</body>
</html>
