<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang xml:lang>
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>SESSION-06-orig - Wizcamp Session Guide</title>
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
  <style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>
  <style type="text/css">

@page {
margin: 0.6in 0.75in 0.6in 0.75in;
size: letter;
}
body {
font-family: "Amulya Variable", -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif;
font-size: 16px;
line-height: 1.4;
color: #2d3748;
margin: 0;
padding: 0;
max-width: none;
overflow-x: hidden !important;
}

* {
scrollbar-width: none !important;
-ms-overflow-style: none !important;
}
*::-webkit-scrollbar {
display: none !important;
}

html, body {
overflow-x: hidden !important;
width: 100% !important;
max-width: 100% !important;
}
h1, h2, h3, h4, h5, h6 {
font-family: "Plein Variable", -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif;
font-weight: 500;
line-height: 1.25;
margin-bottom: 16px;
margin-top: 24px;
color: #1a202c;
}
h1 {
font-size: 1.75em;
border-bottom: 1px solid #d0d7de;
padding-bottom: 0.3em;
margin-top: 0;
}
h2 {
font-size: 1.5em;
border-bottom: 1px solid #d0d7de;
padding-bottom: 0.3em;
margin-top: 48px;
margin-bottom: 16px;
}

h1 + * h2:first-of-type,
h2:first-of-type {
margin-top: 24px;
}

a[id] {
scroll-margin-top: 48px;
}
h3 {
font-size: 1.25em;
margin-top: 24px;
margin-bottom: 12px;
page-break-after: avoid;
break-after: avoid;
}

h2, h3 {
page-break-after: avoid;
}

ol, ul, li, p {
page-break-inside: auto;
}
code {
font-family: "JetBrains Mono", ui-monospace, SFMono-Regular, "SF Mono", Consolas, monospace !important;
font-size: 13px !important;
font-weight: 500 !important;
background-color: #f6f8fa !important;
color: #24292f !important;
padding: 1px 3px !important;
border-radius: 3px !important;
white-space: nowrap;
word-break: break-word;
-webkit-print-color-adjust: exact !important;
print-color-adjust: exact !important;
text-decoration: none !important;
}
pre {
font-family: "JetBrains Mono", ui-monospace, SFMono-Regular, "SF Mono", Consolas, monospace !important;
background-color: #f8f9fa !important;
border: 1px solid #e1e4e8 !important;
border-radius: 6px !important;
padding: 16px !important;
overflow: hidden !important;
white-space: pre-wrap !important;
word-wrap: break-word !important;
page-break-inside: avoid !important;
-webkit-print-color-adjust: exact !important;
print-color-adjust: exact !important;
font-size: 14px !important;
line-height: 1.4 !important;
display: block !important;
width: 100% !important;
max-width: 100% !important;
box-sizing: border-box !important;
text-decoration: none !important;
-webkit-text-decorations-in-effect: none !important;
font-variant-ligatures: none !important;
}

@media print {
pre {
white-space: pre !important;
font-family: "JetBrains Mono", monospace !important;
display: block !important;
text-decoration: none !important;
-webkit-text-decorations-in-effect: none !important;
font-variant-ligatures: none !important;
}
pre * {
white-space: pre !important;
text-decoration: none !important;
-webkit-text-decorations-in-effect: none !important;
font-variant-ligatures: none !important;
}
code {
text-decoration: none !important;
-webkit-text-decorations-in-effect: none !important;
font-variant-ligatures: none !important;
}
}
pre code {
background-color: transparent !important;
border: none !important;
padding: 0 !important;
color: #24292f !important;
text-decoration: none !important;
}
ul, ol {
padding-left: 1.8em;
margin-bottom: 12px;
}
li {
margin-bottom: 6px;
line-height: 1.4;
}

li:has(:first-child:is(text):contains("âœ…")) {
list-style-type: none;
margin-left: -1.8em;
padding-left: 1.8em;
}

li > ul > li:first-child,
li > ol > li:first-child {
margin-top: 8px;
}

li > ul > li > ul > li:first-child,
li > ol > li > ol > li:first-child {
margin-top: 6px;
}

@media print {
ul, ol {
display: block !important;
}
li {
display: list-item !important;
margin-bottom: 8px !important;
}

li > ul > li:first-child,
li > ol > li:first-child {
margin-top: 8px !important;
}
li > ul > li > ul > li:first-child,
li > ol > li > ol > li:first-child {
margin-top: 6px !important;
}

* {
box-sizing: border-box !important;
}
}
p {
margin-bottom: 12px;
}
a {
color: #0969da;
text-decoration: none;
}
strong {
font-weight: 500;
color: #2d3748;
white-space: normal;
word-spacing: normal;
letter-spacing: normal;
}

strong::before,
strong::after {
content: none;
margin: 0;
padding: 0;
}

table {
border-collapse: collapse;
border-spacing: 0;
width: 100%;
max-width: 100%;
margin: 16px 0;
font-size: 16px;
line-height: 1.5;
table-layout: auto;
word-wrap: break-word;
}
th, td {
padding: 12px 16px;
text-align: left;
vertical-align: top;
border: 1px solid #d0d7de;
word-wrap: break-word;
overflow-wrap: break-word;
hyphens: auto;
}
th {
font-weight: 500;
background-color: #f6f8fa;
color: #2d3748;
-webkit-print-color-adjust: exact !important;
print-color-adjust: exact !important;
}
tbody tr:nth-child(even) {
background-color: #f8f9fa;
-webkit-print-color-adjust: exact !important;
print-color-adjust: exact !important;
}

table code {
font-size: 14px !important;
padding: 2px 4px !important;
word-break: break-all;
}

blockquote {
border-left: 4px solid #d1d5db;
padding: 12px 16px;
margin: 20px 0;
background-color: transparent;
border-radius: 0;
-webkit-print-color-adjust: exact !important;
print-color-adjust: exact !important;
}
blockquote p {
margin: 0 0 8px 0;
}
blockquote p:last-child {
margin-bottom: 0;
}

blockquote strong {
margin: 0;
padding: 0;
display: inline;
white-space: normal;
}
blockquote code {
margin: 0;
padding: 1px 3px !important;
display: inline;
}
blockquote em {
margin: 0;
padding: 0;
display: inline;
}
blockquote a {
margin: 0;
padding: 0;
display: inline;
}

blockquote ul {
margin-top: 12px;
margin-bottom: 0;
padding-left: 1.8em;
}

blockquote:has(strong:first-child:contains("ğŸ’¡")) {
border-left-color: #3b82f6;
}

blockquote:has(strong:first-child:contains("âš ï¸")) {
border-left-color: #f59e0b;
}

blockquote:has(strong:first-child:contains("âœ…")) {
border-left-color: #10b981;
}

blockquote:has(strong:first-child:contains("âŒ")) {
border-left-color: #ef4444;
}

blockquote:has(strong:first-child:contains("â„¹ï¸")) {
border-left-color: #6366f1;
}

blockquote:has(strong:first-child:contains("ğŸ¯")) {
border-left-color: #8b5cf6;
}

@supports not (selector(:has(*))) {
blockquote {
border-left-color: #3b82f6;
}
}

table td:first-child {
width: 200px;
max-width: 250px;
}
table td:nth-child(2) {
width: auto;
}
table td:nth-child(3) {
width: auto;
}

table:not(:has(td:nth-child(3))) td:first-child,
table:not(:has(td:nth-child(3))) td:nth-child(2) {
width: 50% !important;
max-width: none !important;
}

table {
page-break-inside: auto !important;
}
th {
page-break-after: avoid !important;
}
tbody tr {
page-break-inside: avoid !important;
page-break-after: auto !important;
}

thead {
display: table-header-group !important;
}

img {
max-width: 100%;
height: auto;
display: block;
margin: 16px auto;
page-break-inside: avoid;
}

em {
display: block;
text-align: center;
font-style: italic;
font-size: 14px;
color: #666;
margin-top: 8px;
margin-bottom: 16px;
}
@media print {
thead {
display: table-row-group !important;
}
table {
page-break-inside: auto !important;
}
tr {
page-break-inside: avoid !important;
}

blockquote {
-webkit-print-color-adjust: exact !important;
print-color-adjust: exact !important;
page-break-inside: avoid !important;
}

* {
overflow: visible !important;
scrollbar-width: none !important;
-ms-overflow-style: none !important;
}
*::-webkit-scrollbar {
display: none !important;
}
html, body {
overflow-x: hidden !important;
}
}
</style>
</head>
<body>
<h1 id="session-6-adding-question-caching">Session 6 â€” Adding Question Caching</h1>
<p>Browser Storage &amp; Caching ğŸ’¾</p>
<p>Youâ€™re about to supercharge your trivia game with browser storage and caching! This guide walks you through implementing localStorage to store API responses, understanding performance optimization techniques, and building a robust caching system that makes your game lightning-fast. Ready to experience the magic of instant loading? Letâ€™s go!</p>
<h2 id="table-of-contents">Table of Contents</h2>
<ul>
<li><a href="#why-caching-matters">Why Caching Matters</a></li>
<li><a href="#exploring-browser-storage">Exploring Browser Storage</a></li>
<li><a href="#building-cache-helper-functions">Building Cache Helper Functions</a></li>
<li><a href="#updating-fetchquestions-with-caching">Updating fetchQuestions with Caching</a></li>
<li><a href="#testing-your-cache">Testing Your Cache</a></li>
<li><a href="#essential-terms">Essential Terms</a></li>
<li><a href="#ask-the-ai">Ask the AI</a></li>
</ul>
<p><a id="accessing-your-codespace"></a></p>
<h2 id="accessing-your-codespace">â˜ï¸ Accessing Your Codespace</h2>
<p>Visit <a href="https://github.com/codespaces">github.com/codespaces</a> to relaunch your Codespace from Session 5.</p>
<p><a id="why-caching-matters"></a></p>
<h2 id="why-caching-matters">âš¡ Why Caching Matters</h2>
<p>Before we dive into code, letâ€™s understand why <strong>caching</strong> is crucial for modern web applications.</p>
<p><strong>The Problem:</strong> Every time you click a zone, your game makes a network request to the OpenTrivia Database. This means:</p>
<ul>
<li><strong>Slow loading</strong> - Network requests take time</li>
<li><strong>Wasted bandwidth</strong> - Downloading the same questions repeatedly</li>
<li><strong>Rate limiting</strong> - APIs limit how often you can request data (OpenTrivia allows one request per 5 seconds)</li>
<li><strong>Poor user experience</strong> - Users wait for content theyâ€™ve already seen</li>
</ul>
<p><strong>The Solution:</strong> Store API responses locally in the browser so subsequent requests are instant.</p>
<p><strong>Caching</strong> is a fundamental performance optimization technique used in some form by every major website and app. When you visit YouTube, Netflix, or Instagram, they cache images, videos, and data locally so your experience is fast and smooth.</p>
<p><a id="exploring-browser-storage"></a></p>
<h2 id="exploring-browser-storage">ğŸ—„ï¸ Exploring Browser Storage</h2>
<p>Letâ€™s understand <strong>localStorage</strong> â€” your browserâ€™s built-in storage system for saving data locally.</p>
<p><strong>localStorage</strong> is like a digital filing cabinet in your browser where you can store <strong>key-value pairs</strong> of information. Unlike temporary data that vanishes when pages refresh, localStorage data survives browser restarts and persists until explicitly removed.</p>
<h3 id="common-localstorage-use-cases">Common localStorage Use Cases:</h3>
<ul>
<li><strong>User preferences</strong> - Theme, language, font size</li>
<li><strong>Game progress</strong> - Completed levels, high scores, settings</li>
<li><strong>Form data</strong> - Draft messages, shopping cart contents</li>
<li><strong>API responses</strong> - Cached data for faster loading</li>
</ul>
<h3 id="localstorage-lifecycle-crud-operations">localStorage Lifecycle (CRUD Operations):</h3>
<pre class="text"><code>â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    localStorage Lifecycle                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ CREATE/UPDATE: localStorage.setItem(&#39;key&#39;, &#39;value&#39;)             â”‚
â”‚ READ:          const value = localStorage.getItem(&#39;key&#39;)        â”‚
â”‚ DELETE:        localStorage.removeItem(&#39;key&#39;)                   â”‚
â”‚ CHECK:         if (localStorage.getItem(&#39;key&#39;)) { ... }         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</code></pre>
<p>localStorage provides persistent storage that survives browser refreshes and even computer restarts. Itâ€™s <strong>synchronous</strong> (blocking), and ideally with small to medium amounts of data. For your trivia game, itâ€™s perfect for caching question sets that are relatively small but expensive to fetch over the network.</p>
<p><a id="building-cache-helper-functions"></a></p>
<h2 id="building-cache-helper-functions">ğŸ”§ Building Cache Helper Functions</h2>
<p>Time to build the foundation of your caching system! Helper functions abstract the complexity of localStorage operations into clean, reusable pieces. Each function has a specific role:</p>
<table>
<thead>
<tr class="header">
<th>Function</th>
<th>Purpose</th>
<th>Key Operation</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>getCacheKey</code></td>
<td>Creates unique identifiers</td>
<td>Generates consistent cache keys</td>
</tr>
<tr class="even">
<td><code>getCachedQuestions</code></td>
<td>Retrieves stored data</td>
<td><strong>Deserialization</strong> with <code>JSON.parse()</code></td>
</tr>
<tr class="odd">
<td><code>setCachedQuestions</code></td>
<td>Stores new data</td>
<td><strong>Serialization</strong> with <code>JSON.stringify()</code></td>
</tr>
</tbody>
</table>
<ol type="1">
<li><strong>Open <code>src/services/trivia.js</code></strong></li>
<li><p><strong>Add all three cache helper functions</strong> after the existing helper functions</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb2-1" title="1"><span class="kw">function</span> <span class="at">getCacheKey</span>(zoneId) <span class="op">{</span></a>
<a class="sourceLine" id="cb2-2" title="2">  <span class="cf">return</span> <span class="vs">`trivia_questions_zone_</span><span class="sc">${</span>zoneId<span class="sc">}</span><span class="vs">`</span><span class="op">;</span></a>
<a class="sourceLine" id="cb2-3" title="3"><span class="op">}</span></a>
<a class="sourceLine" id="cb2-4" title="4"></a>
<a class="sourceLine" id="cb2-5" title="5"><span class="kw">function</span> <span class="at">getCachedQuestions</span>(zoneId) <span class="op">{</span></a>
<a class="sourceLine" id="cb2-6" title="6">  <span class="kw">const</span> cacheKey <span class="op">=</span> <span class="at">getCacheKey</span>(zoneId)<span class="op">;</span></a>
<a class="sourceLine" id="cb2-7" title="7">  <span class="kw">const</span> cached <span class="op">=</span> <span class="va">localStorage</span>.<span class="at">getItem</span>(cacheKey)<span class="op">;</span></a>
<a class="sourceLine" id="cb2-8" title="8">  <span class="cf">return</span> cached <span class="op">?</span> <span class="va">JSON</span>.<span class="at">parse</span>(cached) : <span class="kw">null</span><span class="op">;</span></a>
<a class="sourceLine" id="cb2-9" title="9"><span class="op">}</span></a>
<a class="sourceLine" id="cb2-10" title="10"></a>
<a class="sourceLine" id="cb2-11" title="11"><span class="kw">function</span> <span class="at">setCachedQuestions</span>(zoneId<span class="op">,</span> questions) <span class="op">{</span></a>
<a class="sourceLine" id="cb2-12" title="12">  <span class="kw">const</span> cacheKey <span class="op">=</span> <span class="at">getCacheKey</span>(zoneId)<span class="op">;</span></a>
<a class="sourceLine" id="cb2-13" title="13">  <span class="va">localStorage</span>.<span class="at">setItem</span>(cacheKey<span class="op">,</span> <span class="va">JSON</span>.<span class="at">stringify</span>(questions))<span class="op">;</span></a>
<a class="sourceLine" id="cb2-14" title="14"><span class="op">}</span></a></code></pre></div></li>
</ol>
<h3 id="example-usage">Example Usage:</h3>
<div class="sourceCode" id="cb3"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb3-1" title="1"><span class="co">// This is what your functions do:</span></a>
<a class="sourceLine" id="cb3-2" title="2"><span class="at">setCachedQuestions</span>(<span class="dv">0</span><span class="op">,</span> questions)<span class="op">;</span>  <span class="co">// Store questions for zone 0</span></a>
<a class="sourceLine" id="cb3-3" title="3"><span class="kw">const</span> cached <span class="op">=</span> <span class="at">getCachedQuestions</span>(<span class="dv">0</span>)<span class="op">;</span>  <span class="co">// Get questions for zone 0 (or null if none)</span></a></code></pre></div>
<p>Notice the <strong>ternary operator</strong> <code>cached ? JSON.parse(cached) : null</code> in <code>getCachedQuestions</code> â€” this concise syntax means â€œIf cached data exists, parse it; otherwise return null.â€</p>
<p>These helper functions represent a fundamental software engineering principle: <strong>abstraction</strong>. By wrapping localStorage complexity in simple functions, youâ€™re building the same kind of modular, maintainable code architecture used in modern applications. This pattern makes your caching system easy to test, debug, and extend.</p>
<p><a id="updating-fetchquestions-with-caching"></a></p>
<h2 id="updating-fetchquestions-with-caching">ğŸ”„ Updating fetchQuestions with Caching</h2>
<p>Now letâ€™s integrate your cache functions into the main <code>fetchQuestions</code> function to implement the complete caching flow.</p>
<ol type="1">
<li><p><strong>Add cache checking</strong> at the beginning of <code>fetchQuestions</code> (before the zone lookup):</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb4-1" title="1"><span class="im">export</span> <span class="kw">async</span> <span class="kw">function</span> <span class="at">fetchQuestions</span>(zoneId<span class="op">,</span> count <span class="op">=</span> <span class="kw">null</span>) <span class="op">{</span></a>
<a class="sourceLine" id="cb4-2" title="2">  <span class="co">// Cache check pattern: try cache first, fetch on miss</span></a>
<a class="sourceLine" id="cb4-3" title="3">  <span class="kw">const</span> cachedQuestions <span class="op">=</span> <span class="at">getCachedQuestions</span>(zoneId)<span class="op">;</span></a>
<a class="sourceLine" id="cb4-4" title="4">  <span class="cf">if</span> (cachedQuestions) <span class="op">{</span></a>
<a class="sourceLine" id="cb4-5" title="5">    <span class="va">console</span>.<span class="at">log</span>(<span class="vs">`Cache hit for zone </span><span class="sc">${</span>zoneId<span class="sc">}</span><span class="vs">`</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb4-6" title="6">    <span class="cf">return</span> cachedQuestions<span class="op">;</span></a>
<a class="sourceLine" id="cb4-7" title="7">  <span class="op">}</span></a>
<a class="sourceLine" id="cb4-8" title="8"></a>
<a class="sourceLine" id="cb4-9" title="9">  <span class="va">console</span>.<span class="at">log</span>(<span class="vs">`Cache miss for zone </span><span class="sc">${</span>zoneId<span class="sc">}</span><span class="vs"> - fetching from API`</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb4-10" title="10"></a>
<a class="sourceLine" id="cb4-11" title="11">  <span class="kw">const</span> zone <span class="op">=</span> <span class="at">getZoneById</span>(zoneId)<span class="op">;</span></a>
<a class="sourceLine" id="cb4-12" title="12">  <span class="co">// ... rest of existing code</span></a></code></pre></div></li>
<li><p><strong>Add cache storage</strong> after successful data transformation (before the return statement):</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb5-1" title="1"><span class="kw">const</span> questions <span class="op">=</span> <span class="va">data</span>.<span class="va">results</span>.<span class="at">map</span>(apiQuestion <span class="kw">=&gt;</span> <span class="at">transformQuestion</span>(apiQuestion))<span class="op">;</span></a>
<a class="sourceLine" id="cb5-2" title="2"></a>
<a class="sourceLine" id="cb5-3" title="3"><span class="at">setCachedQuestions</span>(zoneId<span class="op">,</span> questions)<span class="op">;</span></a>
<a class="sourceLine" id="cb5-4" title="4"></a>
<a class="sourceLine" id="cb5-5" title="5"><span class="cf">return</span> questions<span class="op">;</span></a></code></pre></div></li>
</ol>
<p>This implements the classic <strong>cache-aside pattern</strong> used in modern applications: check cache first, fetch from source on miss, store result in cache. The console logging helps you understand when cache hits and misses occur, which is valuable for debugging and performance monitoring.</p>
<p><a id="testing-your-cache"></a></p>
<h2 id="testing-your-cache">ğŸ§ª Testing Your Cache</h2>
<p>Letâ€™s see your caching system in action! Youâ€™ll observe cache <strong>misses</strong>, <strong>hits</strong>, and <strong>persistence</strong> using DevTools and localStorage. Understanding this flow is crucial:</p>
<pre class="text"><code>User clicks zone â†’ Check cache â†’ Cache hit? â†’ Return cached data
                                     â”‚
                                     â–¼ (Cache miss)
                              Fetch from API â†’ Store in cache â†’ Return data</code></pre>
<h3 id="setup-open-devtools-and-locate-local-storage">ğŸ” Setup: Open DevTools and Locate Local Storage</h3>
<ul>
<li><strong>Press</strong> F12 or right-click â†’ Inspect</li>
<li><strong>Navigate</strong> to
<ul>
<li><strong>Chrome/Edge</strong>: Application tab</li>
<li><strong>Firefox</strong>: Storage tab</li>
</ul></li>
<li>In the sidebar, <strong>expand</strong> Local Storage and select your siteâ€™s domain (e.g., <code>http://localhost:5173</code>)</li>
<li><strong>Keep</strong> DevTools open as youâ€™ll watch cache entries appear in real-time</li>
</ul>
<hr />
<h3 id="first-time-load-observe-a-cache-miss">ğŸ§Š First-Time Load: Observe a Cache Miss</h3>
<ul>
<li><strong>Click</strong> the active zone for the first time</li>
<li>In the console, <strong>look</strong> for <code>Cache miss for zone X - fetching from API</code></li>
<li>In localStorage, <strong>confirm</strong>
<ul>
<li>A new entry appears: <code>trivia_questions_zone_0</code></li>
<li>It contains serialized JSON data</li>
</ul></li>
<li><strong>Click</strong> the entry to inspect the cached questions</li>
</ul>
<hr />
<h3 id="repeat-load-confirm-a-cache-hit">ğŸ” Repeat Load: Confirm a Cache Hit</h3>
<ul>
<li><strong>Click</strong> the same zone again</li>
<li>In the console, <strong>look</strong> for <code>Cache hit for zone X</code></li>
<li>In localStorage, <strong>verify</strong>
<ul>
<li>The entry remains unchanged</li>
<li>No new data was fetched</li>
</ul></li>
</ul>
<hr />
<h3 id="page-reload-test-cache-persistence">ğŸ”„ Page Reload: Test Cache Persistence</h3>
<ul>
<li><strong>Refresh</strong> the browser</li>
<li><strong>Click</strong> the same zone again</li>
<li><strong>Confirm</strong>
<ul>
<li>Console still shows <code>Cache hit</code></li>
<li>Cached entry is still present in localStorage</li>
</ul></li>
</ul>
<hr />
<h3 id="manual-clear-test-cache-reset">ğŸ§¹ Manual Clear: Test Cache Reset</h3>
<ul>
<li>In localStorage, <strong>right-click</strong> the cache entry â†’ Delete</li>
<li><strong>Click</strong> the zone again</li>
<li><strong>Confirm</strong>
<ul>
<li>Console shows <code>Cache miss</code></li>
<li>Entry repopulates with fresh data</li>
</ul></li>
</ul>
<p>Youâ€™re basically becoming a detective! By watching console logs, peeking into browser storage, and tracking network requests, youâ€™re learning to <strong>follow the digital breadcrumbs</strong> your code leaves behind. This is exactly how real developers figure out why apps crash, why websites load slowly, or why that â€œit worked yesterdayâ€ bug suddenly appeared. These debugging superpowers will make you unstoppable when building your own projects.</p>
<p><a id="essential-terms"></a></p>
<h2 id="essential-terms">ğŸ“š Essential Terms</h2>
<p><em>Quick reference for all the caching and browser storage concepts you just learned:</em></p>
<table>
<colgroup>
<col style="width: 22%"></col>
<col style="width: 33%"></col>
<col style="width: 44%"></col>
</colgroup>
<thead>
<tr class="header">
<th>Term</th>
<th>Definition</th>
<th>Why it matters</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>âš¡ caching</td>
<td>Storing frequently accessed data in fast storage to avoid expensive operations like network requests.</td>
<td>Makes your game feel instant and responsive by eliminating repeated API calls for the same questions.</td>
</tr>
<tr class="even">
<td>ğŸš¦ rate limiting</td>
<td>API restrictions on request frequency to prevent server overload and ensure fair usage.</td>
<td>OpenTrivia Database limits requests to once every 5 seconds â€” caching helps avoid these limits.</td>
</tr>
<tr class="odd">
<td>ğŸ’¾ localStorage</td>
<td>Browser storage that persists data as key-value pairs across sessions and page refreshes.</td>
<td>Your trivia questions stay cached even after closing and reopening the browser, providing instant loading.</td>
</tr>
<tr class="even">
<td>ğŸ”‘ key-value pairs</td>
<td>Data storage format where each piece of information has a unique identifier (key) and associated data (value).</td>
<td>localStorage uses this format: your cache keys identify zones, values contain question data.</td>
</tr>
<tr class="odd">
<td>ğŸ“¦ serialization</td>
<td>Converting JavaScript objects into text format for storage using JSON.stringify().</td>
<td>localStorage only stores strings, so your question objects must be serialized before storage.</td>
</tr>
<tr class="even">
<td>ğŸ”„ deserialization</td>
<td>Converting stored text back into JavaScript objects using JSON.parse().</td>
<td>Transforms cached text back into usable question objects for your game.</td>
</tr>
<tr class="odd">
<td>ğŸ¯ cache hit</td>
<td>When requested data is found in cache and can be returned immediately without external requests.</td>
<td>Your zones load instantly on subsequent clicks, providing smooth user experience.</td>
</tr>
<tr class="even">
<td>ğŸ” cache miss</td>
<td>When requested data is not in cache and must be fetched from the original source.</td>
<td>Triggers API request to OpenTrivia Database and stores result for future cache hits.</td>
</tr>
<tr class="odd">
<td>â“ ternary operator</td>
<td>Concise conditional syntax using ? and : for simple if/else logic in expressions.</td>
<td>Used in your cache retrieval: <code>cached ? JSON.parse(cached) : null</code> â€” clean and readable.</td>
</tr>
</tbody>
</table>
<p><a id="ask-the-ai"></a></p>
<h2 id="ask-the-ai-adding-question-caching">ğŸ¤– Ask the AI â€” Adding Question Caching</h2>
<p>You just built your first caching system with localStorage and helper functions â€” great work!</p>
<p>Here are some key questions to ask your AI assistant to deepen your understanding of what you just built:</p>
<ul>
<li><strong>Why is caching so important for web apps and user experience?</strong></li>
<li><strong>What happens when I use JSON.stringify and JSON.parse with my question data?</strong></li>
<li><strong>Why do we need helper functions like getCacheKey and getCachedQuestions?</strong></li>
<li><strong>What would happen if I didnâ€™t have caching in my trivia game?</strong></li>
<li><strong>How can I use the browser DevTools to debug localStorage issues?</strong></li>
</ul>
</body>
</html>
