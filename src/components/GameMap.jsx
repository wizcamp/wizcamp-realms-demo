import { ZONES } from "../data/zones";
import { useGame } from "../hooks/useGame";
import { getAssetPath } from "../utils/assets";

/**
 * GAME MAP - Interactive Zone Selection
 *
 * TODO: Session 7 - Show quiz modal
 */

export default function GameMap() {
  const { activeZone, zoneProgress, loadQuestionsForZone } = useGame();

  const handleZoneClick = async (zoneId) => {
    const zone = ZONES.find((z) => z.id === zoneId);
    if (!zone) return;

    // need to comment out at first
    if (zoneId > activeZone) {
      alert(`${zone.name} is locked! Complete previous zones first.`);
      return;
    }

    if (zoneProgress[zone.id]?.completed) {
      alert(`${zone.name} already completed! âœ“`);
      return;
    }

    // Load questions first, then show modal
    await loadQuestionsForZone(zoneId);

    // TODO: Session 7 - Show quiz modal
  };

  const getCharacterPosition = () => {
    const positions = [
      { x: 198.6, y: 338.25 }, // Zone 0
      { x: 515.68, y: 408.61 }, // Zone 1
      { x: 914.81, y: 599.09 }, // Zone 2
      { x: 1085.19, y: 600.915 }, // End position
    ];
    return positions[activeZone ?? 3]; // Use end position if all zones completed
  };

  const characterPos = getCharacterPosition();

  return (
    <div className="map-canvas">
      <img
        src={getAssetPath("images/game-map-background.png")}
        alt="Game Map Background"
        className="map-background"
      />

      <svg
        xmlns="http://www.w3.org/2000/svg"
        viewBox="0 0 1200 800"
        className="map-interactive"
      >
        <g id="road-system">
          <g id="road-segment-start" strokeWidth="1.455">
            <path
              fill="#fc0"
              d="M118.93 189.82c-2.764 0-5.164.994-7.2 2.982-1.988 2.036-2.982 4.436-2.982 7.2 0 1.503.291 2.909.873 4.218.485 1.067 1.188 2.06 2.109 2.982 2.036 1.988 4.436 2.982 7.2 2.982h35.866V189.82z"
            />
            <path
              fillOpacity=".302"
              d="M118.93 213.09c-3.588.018-6.667-1.285-9.236-3.855-1.212-1.163-2.134-2.448-2.764-3.854-.727-1.649-1.09-3.443-1.09-5.382 0-3.588 1.284-6.667 3.854-9.236 2.57-2.57 5.648-3.855 9.236-3.855l35.866-.178v-2.91l-35.866.18c-4.412.021-8.194 1.55-11.345 4.654-3.103 3.151-4.654 6.933-4.654 11.345 0 2.375.436 4.557 1.309 6.545.775 1.697 1.89 3.273 3.345 4.727 3.151 3.152 6.933 4.728 11.345 4.728l35.866-.179v-2.91z"
            />
            <path
              fill="#fff"
              d="M109.69 209.24c2.57 2.57 5.649 3.855 9.236 3.855l35.866-.179v-2.91l-35.866.18c-2.763.013-5.163-.994-7.2-2.982-.92-.922-1.624-1.915-2.109-2.982-.582-1.31-.872-2.715-.872-4.218 0-2.764.993-5.164 2.981-7.2 2.037-1.988 4.437-2.982 7.2-2.982l35.866-.179v-2.909l-35.866.179c-3.587.018-6.666 1.285-9.236 3.854-2.57 2.57-3.855 5.649-3.855 9.237 0 1.94.364 3.733 1.091 5.382.63 1.406 1.552 2.69 2.764 3.854z"
            />
          </g>
          <g id="road-0-to-1-segment">
            <path
              fill="#fff"
              strokeWidth="1.456"
              d="M188.44 361.8h-2.694q0 57.877 55.911 59.624 1.748.073 3.568.073v-2.912q-1.82 0-3.568-.073-53.218-1.747-53.218-56.712m53.218 33.343Q212.1 393.469 212.1 361.8h-3.276q0 34.581 32.833 36.255 1.747.146 3.568.146v-2.912q-1.82 0-3.568-.146z"
            />
            <path
              fillOpacity=".302"
              strokeWidth="1.456"
              d="M185.74 361.8h-3.13q0 50.014 39.895 60.061 10.119 2.548 22.714 2.548v-2.912q-1.82 0-3.568-.073-55.91-1.747-55.91-59.624m59.478 33.49v-2.913q-1.82 0-3.567-.145-27.009-1.675-27.009-30.431h-2.548q0 31.669 29.557 33.343 1.747.145 3.567.145z"
            />
            <path
              fill="#fc0"
              strokeWidth="1.456"
              d="M245.22 398.2q-1.82 0-3.567-.146-32.833-1.674-32.833-36.255h-20.384q0 54.965 53.218 56.712 1.747.073 3.567.073z"
            />
            <path
              fillOpacity=".302"
              strokeWidth="1.456"
              d="M207.66 384.95h-.073q-6.188-6.188-12.376.073l-14.415 14.415q-3.057 3.057-2.839 6.188-.146 3.058 2.912 6.115l14.415 14.415v-.073q2.985 3.058 6.115 2.985 3.058.146 6.188-2.839l14.415-14.415q6.188-6.26.073-12.449L207.66 384.95m-6.188.218q2.257-.218 4.587 2.112l13.687 13.687q4.44 4.659 0 9.173v-.073l-13.687 13.759v.073q-2.33 2.256-4.587 2.11-2.402.146-4.586-2.183v.073l-13.76-13.76q-4.513-4.513 0-9.172l13.76-13.687q2.256-2.33 4.586-2.112z"
            />
            <path
              fill="#fff"
              strokeWidth="1.456"
              d="M206.06 387.28q-2.33-2.33-4.587-2.111-2.33-.219-4.586 2.111l-13.759 13.687q-4.514 4.66 0 9.173l13.759 13.759v-.073q2.184 2.33 4.587 2.184 2.256.146 4.586-2.111v-.073l13.687-13.759v.073q4.44-4.514 0-9.173L206.06 387.28m-7.135 2.038q2.476-2.548 5.024 0l13.687 13.687q2.475 2.548 0 5.024l-13.687 13.759q-2.548 2.548-5.024 0l-13.759-13.76q-2.475-2.474 0-5.023z"
            />
            <path
              fill="#2ecc71"
              strokeWidth="1.456"
              d="M203.94 389.32q-2.548-2.548-5.023 0l-13.76 13.687q-2.475 2.548 0 5.023l13.76 13.76q2.475 2.547 5.023 0l13.687-13.76q2.475-2.475 0-5.023z"
            />
            <path
              fill="#fc0"
              strokeWidth="1.455"
              d="M551.92 418.56v-20.364H245.03v20.364z"
            />
            <path
              fillOpacity=".302"
              strokeWidth="1.455"
              d="M551.92 424.38v-2.91H245.23v2.91h306.69m0-29.091v-2.91H245.23v2.91z"
            />
            <path
              fill="#fff"
              strokeWidth="1.455"
              d="M551.92 421.47v-2.91H245.23v2.91h306.69m0-23.273v-2.91H245.23v2.91z"
            />
            <path
              fill="#fc0"
              strokeWidth="1.455"
              d="M208.91 245.47h-20.364l-.105 116.32c-.252 3.283 19.753 2.652 20.384 0z"
            />
            <path
              fillOpacity=".302"
              strokeWidth="1.455"
              d="M214.72 245.47h-2.91v116.32h2.832l.078-116.32m-29.091 0h-2.91l-.11 116.32h3.02z"
            />
            <path
              fill="#fff"
              strokeWidth="1.455"
              d="M211.81 245.47h-2.91v116.32h3.193l-.283-116.32m-23.273 0h-2.91l.112 116.32h2.693z"
            />
          </g>
          <g id="road-to-castle" strokeWidth="1.455">
            <path fill="#fc0" d="M989.82 551.17h20.364v-36.181H989.82z" />
            <path
              fillOpacity=".302"
              d="M984 551.17h2.91v-36.181H984v36.181m29.091 0h2.91v-36.181h-2.91z"
            />
            <path
              fill="#fff"
              d="M986.91 551.17h2.91v-36.181h-2.91v36.181m23.273 0h2.91v-36.181h-2.91z"
            />
          </g>
          <g id="road-1-to-2-segment" strokeWidth="1.384">
            <path
              fillOpacity=".302"
              d="M584.84 554.5h2.769v-99.859h-2.769V554.5m27.689 0h2.769v-99.859h-2.769z"
            />
            <path
              fill="#fff"
              d="M587.61 554.5h2.769v-99.859h-2.769V554.5m22.151 0s2.868 1.73 2.868-.247l-.1-99.612h-2.768z"
            />
            <path
              fill="#fc0"
              d="M590.38 554.5c.618.247 19.382 0 19.382 0v-99.859H590.38z"
            />
            <path
              fill="#fff"
              d="M590.38 554.5h-2.769c0 36.687 17.929 55.585 53.37 56.692 1.108.046 2.238.07 3.392.07v-2.77c-1.154 0-2.284-.023-3.392-.069-33.734-1.107-50.601-19.082-50.601-53.924m50.601 31.704c-18.736-1.061-28.45-11.629-28.45-31.703h-2.769c0 21.92 10.406 33.411 31.22 34.472 1.107.092 2.238.139 3.391.139v-2.77c-1.154 0-2.284-.045-3.392-.138z"
            />
            <path
              fillOpacity=".302"
              d="M587.82 554.5h-2.977c0 31.704 12.645 50.739 37.934 57.108 6.414 1.615 13.614 2.423 21.597 2.423v-2.77c-1.154 0-2.285-.022-3.392-.068-35.441-1.108-53.37-20.005-53.37-56.692m56.762 31.842v-2.77c-1.154 0-2.285-.045-3.392-.138C623.86 582.374 615.3 572.73 615.3 554.5c0 0-3.182.124-2.687 0 0 20.074 9.632 30.642 28.368 31.704 1.107.093 2.238.139 3.392.139z"
            />
            <path
              fill="#fc0"
              d="M644.37 589.11c-1.154 0-2.284-.046-3.392-.138-20.813-1.062-31.219-12.552-31.219-34.472h-19.382c0 34.842 16.867 52.816 50.601 53.924 1.108.046 2.238.069 3.392.069z"
            />
            <path
              fillOpacity=".302"
              d="M608.65 576.51h-.07q-5.883-5.884-11.767.07l-13.706 13.705q-2.908 2.908-2.7 5.884-.138 2.907 2.77 5.815l13.705 13.706v-.07q2.838 2.908 5.815 2.839 2.907.138 5.883-2.7l13.706-13.706q5.884-5.953.07-11.837L608.65 576.51m-5.884.208q2.146-.208 4.36 2.007l13.015 13.014q4.222 4.43 0 8.722v-.07l-13.014 13.084v.069q-2.215 2.146-4.361 2.007-2.284.139-4.361-2.076v.069l-13.083-13.083q-4.292-4.292 0-8.722l13.083-13.014q2.146-2.215 4.36-2.007z"
            />
            <path
              fill="#fff"
              d="M607.13 578.73q-2.215-2.215-4.361-2.007-2.215-.208-4.361 2.007l-13.083 13.014q-4.292 4.43 0 8.722l13.083 13.083v-.07q2.077 2.216 4.361 2.077 2.146.139 4.361-2.007v-.07l13.014-13.082v.069q4.223-4.292 0-8.722L607.13 578.73m-6.784 1.938q2.354-2.423 4.777 0l13.014 13.014q2.353 2.423 0 4.777l-13.014 13.083q-2.423 2.422-4.777 0l-13.083-13.083q-2.353-2.354 0-4.777z"
            />
            <path
              fill="#a8754d"
              d="M605.12 580.66q-2.423-2.423-4.776 0l-13.083 13.014q-2.354 2.423 0 4.776l13.083 13.083q2.353 2.423 4.776 0l13.014-13.083q2.353-2.353 0-4.776z"
            />
            <path
              fillOpacity=".302"
              d="M644.37 583.57v2.769h306.1v-2.769h-306.1m0 27.689v2.769h306.1v-2.769z"
            />
            <path
              fill="#fff"
              d="M644.37 586.34v2.769h305.87v-2.769H644.37m0 22.151v2.769h305.87v-2.769z"
            />
            <path fill="#fc0" d="m638.25 589.11 6.118 19.382h305.87V589.11z" />
          </g>
          <g id="road-segment-end" strokeWidth="1.455">
            <path
              fill="#fc0"
              d="M1082.1 589.82c2.764 0 5.164.994 7.2 2.982 1.988 2.036 2.982 4.436 2.982 7.2 0 1.503-.291 2.909-.873 4.218-.485 1.067-1.188 2.06-2.109 2.982-2.036 1.988-4.436 2.982-7.2 2.982h-35.866V589.82z"
            />
            <path
              fillOpacity=".302"
              d="M1082.1 613.09c3.588.018 6.667-1.285 9.236-3.855 1.212-1.163 2.134-2.448 2.764-3.854.727-1.649 1.09-3.442 1.09-5.382 0-3.588-1.284-6.667-3.854-9.236-2.57-2.57-5.648-3.855-9.236-3.855l-35.866-.178v-2.91l35.866.18c4.412.021 8.194 1.55 11.346 4.654 3.103 3.151 4.654 6.933 4.654 11.345 0 2.375-.436 4.557-1.309 6.545-.775 1.697-1.89 3.273-3.345 4.727-3.151 3.152-6.933 4.728-11.346 4.728l-35.866-.179v-2.91z"
            />
            <path
              fill="#fff"
              d="M1091.3 609.24c-2.57 2.57-5.649 3.855-9.236 3.855l-35.866-.179v-2.91l35.866.18c2.763.013 5.163-.994 7.2-2.982.92-.922 1.624-1.915 2.109-2.982.581-1.31.872-2.715.872-4.218 0-2.764-.993-5.164-2.981-7.2-2.037-1.988-4.437-2.982-7.2-2.982l-35.866-.179v-2.909l35.866.179c3.587.018 6.666 1.285 9.236 3.854 2.57 2.57 3.854 5.649 3.854 9.237 0 1.94-.363 3.733-1.09 5.381-.63 1.407-1.552 2.691-2.764 3.855z"
            />
          </g>
          <g id="castle">
            <path
              fill="#a0bfc2"
              strokeWidth="1.298"
              d="m961.03 507.98-14.22 8.355 5.01 11.627q13.172-1.007 17.867-10.977z"
            />
            <path
              fill="#e79648"
              strokeWidth="1.298"
              d="m927.05 470.03 3.676 21.362q5.55-6.84 14.432-8.257z"
            />
            <path
              fill="#657a7b"
              strokeWidth="1.298"
              d="m928.78 494.04-.759-3.344q-.792.944-1.405 1.93-.383.617-.409 1.318-.081.736.326 1.4.374.608.99.992l6.003 3.321 11.011 17.922 7.291 10.38-5.01-11.628-11.452-18.64-6.585-3.65m19.65-13.901q-1.335.058-2.568.283l2.707 2.298.948 6.504 11.52 18.752 8.657 9.006-17.693-28.674-.842-5.96q-.144-.978-.93-1.637-.787-.66-1.799-.572z"
            />
            <path
              fill="#92afb1"
              strokeWidth="1.298"
              d="M948.57 482.72q-1.77.097-3.403.414-8.881 1.418-14.432 8.258-1.055 1.258-1.954 2.648l6.586 3.65 11.452 18.64 14.22-8.355-11.52-18.752-.948-6.503m-5.024 17.868-2.718-4.426q-.646-1.05-.335-2.156.256-1.072 1.252-1.683.885-.544 2.067-.356 1.072.256 1.717 1.307l2.719 4.425z"
            />
            <path
              fill="#7d9698"
              strokeWidth="1.298"
              d="m940.82 496.17 2.719 4.425 4.702-2.888-2.72-4.426q-.645-1.05-1.716-1.307-1.183-.188-2.068.356-.995.612-1.251 1.683-.312 1.106.334 2.157z"
            />
            <path
              fill="#bb793a"
              strokeWidth="1.298"
              d="M945.16 483.14q1.633-.318 3.403-.414l-2.708-2.299-.034-.055-17.233-12.423q-.93-.647-1.964-.47-1.034.178-1.66 1.02-.647.931-.47 1.965l3.52 20.239.76 3.343q.898-1.39 1.953-2.648l-3.676-21.362z"
            />
            <path
              fill="#a0bfc2"
              strokeWidth="1.298"
              d="m1054.5 516.68-14.817-7.244-6.93 10.596q8.112 10.428 19.017 8.838z"
            />
            <path
              fill="#e79648"
              strokeWidth="1.298"
              d="m1067.4 467.4-15.782 14.857q8.767.853 14.852 7.476z"
            />
            <path
              fill="#657a7b"
              strokeWidth="1.298"
              d="m1048.3 482.09 2.369-2.478q-1.224-.14-2.385-.107-.725.021-1.325.387-.658.338-.987 1.045-.3.647-.28 1.373l.544 6.839-8.865 19.075-4.63 11.808 6.93-10.596 9.221-19.84-.592-7.506m22.439 8.711q-.786-1.081-1.654-1.986l-.422 3.527-4.9 4.38-9.276 19.958-2.73 12.19 14.142-30.582 4.504-3.991q.736-.66.853-1.68.116-1.02-.517-1.815z"
            />
            <path
              fill="#92afb1"
              strokeWidth="1.298"
              d="M1068.7 492.35q-1.057-1.422-2.224-2.609-6.085-6.622-14.852-7.475-1.632-.186-3.287-.168l.592 7.506-9.22 19.84 14.816 7.244 9.276-19.958 4.9-4.38m-17.671 5.675 2.189-4.71q.52-1.119 1.613-1.47 1.035-.377 2.095.115.942.438 1.437 1.527.379 1.035-.141 2.154l-2.19 4.71z"
            />
            <path
              fill="#7d9698"
              strokeWidth="1.298"
              d="m1053.2 493.31-2.189 4.71 5.004 2.326 2.19-4.71q.519-1.119.14-2.154-.495-1.09-1.437-1.527-1.06-.492-2.094-.114-1.094.35-1.614 1.469z"
            />
            <path
              fill="#bb793a"
              strokeWidth="1.298"
              d="M1066.4 489.74q1.167 1.187 2.224 2.609l.422-3.527.027-.059.845-21.227q.026-1.133-.693-1.897t-1.766-.82q-1.133-.027-1.897.692l-14.932 14.107-2.369 2.479q1.655-.019 3.287.167l15.782-14.857z"
            />
            <path
              fill="#637779"
              strokeWidth="2.157"
              d="M988.78 518.51q10.461-.967 20.705.224l1.95-24.263-24.048 1.716z"
            />
            <path
              fill="#a0bfc2"
              strokeWidth="2.157"
              d="m1019.2 509.68-.651 10.676q10.135 4.425 20.274.008l-2.153-9.275-17.47-1.409m-57.914 10.546v.108q9.487 5.72 18.98.007l-.535-10.784-17.471 1.503z"
            />
            <path
              fill="#7d9698"
              strokeWidth="2.157"
              d="m1006.7 480.13-1.615-6.795-11.107-.004-2.59 7.117-3.128.107-2.154-7.227-8.196-.003 1.82 36.235.534 10.784q4.206-1.076 8.52-1.83l-1.393-22.323 24.049-1.716-1.95 24.263q4.744.541 9.057 1.621l.652-10.676 1.847-36.34-10.353-.005-.973 6.686-3.02.107m20.384-6.031-1.082 9.165 7.44.866 1.19-9.058q.217-1.617-.753-2.804t-2.48-1.51q-1.617-.217-2.804.86-1.402.863-1.51 2.48m-62.009.516.86 7.333 6.255-.86-1.076-7.334q-.107-1.294-1.185-2.049-.97-.863-2.264-.54-1.294.107-2.05 1.078-.863 1.078-.54 2.372z"
            />
            <path
              fill="#92afb1"
              strokeWidth="2.157"
              d="M1047.3 466.77q-1.51-1.51-3.126-2.59-9.38-6.905-22.105-5.076-1.079.215-2.373.43-1.294.323-2.696.646l4.202 10.678-.11 2.48-1.847 36.341 17.47 1.409 3.896-35.693 6.69-8.625m-21.251 16.491 1.082-9.166q.108-1.617 1.51-2.48 1.187-1.077 2.804-.86 1.51.323 2.48 1.51t.754 2.804l-1.19 9.058-7.44-.866m-71.275-19.115q-1.618 1.078-3.129 2.587l6.79 8.63 3.87 35.696 17.47-1.503-1.819-36.235-.107-2.48 4.102-10.675q-.539-.108-1.078-.324-2.157-.432-4.098-.757-12.617-1.838-22 5.06m11.207 17.798-.86-7.333q-.323-1.294.54-2.372.756-.97 2.05-1.078 1.294-.323 2.264.54 1.078.755 1.186 2.05l1.075 7.333z"
            />
            <path
              fill="#e79648"
              strokeWidth="2.157"
              d="m1044.1 464.18-7.538-28.58-14.567 23.503q12.726-1.828 22.105 5.077m-81.839-28.609-7.56 28.575q9.385-6.898 22.001-5.06z"
            />
            <path
              fill="#657a7b"
              strokeWidth="2.157"
              d="m1047.9 461.6-.65 5.176-6.688 8.625-3.896 35.693 2.153 9.275 5.948-43.35 5.934-7.546q.97-1.294.864-2.911-.108-1.726-1.186-2.804-1.185-1.187-2.479-2.158m-70.099 9.247.107 2.48 8.196.003 2.154 7.226 3.127-.106 2.591-7.117 11.107.004 1.615 6.795 3.02-.107.973-6.685 10.353.004.108-2.48-4.201-10.679 2.482-4.96q-.323 0-.431.108h-.324q-1.294.323-2.696.646-1.186.323-2.05 1.185-.97.863-1.187 2.157-.216 1.294.215 2.48l2.91 7.227-5.177-.002q-1.618-.001-2.805 1.077l-.107-.108q-1.186-.971-2.696-.972l-11.107-.004q-1.402 0-2.48.862-.971.647-1.403 1.725-.431-1.079-1.401-1.726-1.186-.863-2.588-.864h-2.912l2.807-7.225q.432-1.294.109-2.48-.323-1.294-1.186-2.157-.862-.971-2.156-1.187-.108 0-.324-.108-.323-.108-.754-.216-1.187-.217-2.265-.433l2.479 4.962-4.102 10.675m-26.203-4.108-.538-5.177q-1.294.863-2.48 2.156-1.187 1.078-1.296 2.804-.108 1.617.97 2.912l5.928 7.55 7.1 43.247.975-9.166-3.869-35.696z"
            />
            <path
              fill="#bb793a"
              strokeWidth="2.157"
              d="M1035.6 431.4q-1.726.43-2.697 1.94l-13.488 21.886-2.482 4.96q1.402-.323 2.696-.646 1.294-.215 2.373-.43l14.567-23.504 7.538 28.58q1.617 1.08 3.126 2.59l.65-5.176-7.108-27.07q-.538-1.726-1.94-2.59-1.617-.97-3.235-.54m-75.488.51q-1.51.863-1.942 2.588l-7.128 27.065.537 5.176q1.51-1.509 3.129-2.587l7.56-28.575 14.44 23.515q1.941.325 4.098.757.54.216 1.078.324l-2.478-4.962-13.471-21.897q-.97-1.51-2.587-1.942-1.726-.432-3.236.538z"
            />
          </g>
        </g>

        <g
          id="progress-path"
          fill="none"
          strokeWidth="1"
          style={{ display: "none" }}
        >
          <path
            id="progress-0-to-1-path"
            stroke="#333"
            d="M198.6 338.25c-2.224 15.212-4.447 30.417-.586 41.554 3.862 11.137 13.795 18.209 31.556 21.908 17.761 3.7 43.352 4.037 66.417 4.29 23.065.252 43.605.42 79.802.84 36.197.422 88.052 1.095 139.9 1.769"
          />
          <path
            id="progress-1-to-2-path"
            stroke="#000"
            d="M515.68 408.61c14.452-1.337 29.283 1.734 42.015 8.7 12.733 6.967 23.316 17.8 29.984 30.692 5.98 11.562 8.785 24.519 10.258 37.452 2.045 17.947 1.639 36.077.898 54.125-.515 12.554-1.1 25.629 3.93 37.143 2.743 6.277 7.125 11.85 12.665 15.88s12.232 6.492 19.072 6.867c7.55.414 14.985-1.652 22.463-2.774 15.628-2.347 31.536-.571 47.297.586 43.123 3.166 86.43 1.665 129.67 1.266 26.96-.248 53.924-.067 80.878.544"
          />
          <path
            id="progress-end"
            stroke="#333"
            d="m914.81 599.09 170.38 1.825"
          />
        </g>

        <g id="zones" className="interactive-layer">
          <g id="zone-0-group">
            <g id="zone-0-base" strokeWidth=".667">
              <path
                fill="#a3703a"
                d="M163.8 242.19v-78h78v78h-78m72-75h-18l-3 3-3-3h-45v15l1.5 1.5-1.5 1.5v54h30l1.5-1.5 1.5 1.5h39v-21l-1.5-1.5 1.5-1.5v-48h-3"
              />
              <path
                fill="#b47b41"
                d="M157.8 162.69q0-4.5 4.5-4.5h13.5l3 3 3-3h6l1.5 1.5 1.5-1.5h52.5q4.5 0 4.5 4.5v13.5l-3 3 3 3v61.5q0 4.5-4.5 4.5h-16.5l-3-3-3 3h-58.5q-4.5 0-4.5-4.5v-7.5l3-3-3-3v-6l1.5-1.5-1.5-1.5v-58.5m6 79.5h78v-78h-78v78"
              />
              <path
                fill="#fff1d2"
                d="m235.8 167.19 3 3v45l-1.5 1.5 1.5 1.5v18l-3 3h-36l-1.5-1.5-1.5 1.5h-27l-3-3v-51l1.5-1.5-1.5-1.5v-12l3-3h42l3 3 3-3h18"
              />
              <path
                fill="#6d4b27"
                d="M157.8 162.69v58.5l1.5 1.5-1.5 1.5v6l3 3-3 3v7.5q0 4.5 4.5 4.5h58.5l3-3 3 3h16.5q4.5 0 4.5-4.5v-61.5l-3-3 3-3v-13.5q0-4.5-4.5-4.5h-52.5l-1.5 1.5-1.5-1.5h-6l-3 3-3-3h-13.5q-4.5 0-4.5 4.5m4.5-7.5h13.5l3 3 3-3h6l1.5 1.5 1.5-1.5h52.5q7.5 0 7.5 7.5v13.5l-3 3 3 3v61.5q0 7.5-7.5 7.5h-16.5l-3-3-3 3h-58.5q-7.5 0-7.5-7.5v-7.5l3-3-3-3v-6l1.5-1.5-1.5-1.5v-58.5q0-7.5 7.5-7.5"
              />
              <path
                fill="#d2c6ac"
                d="M235.8 167.19h3v3l-3-3m3 69v3h-3l3-3m-69 3h-3v-3l3 3m-3-69v-3h3l-3 3"
              />
            </g>
            <path
              id="zone-0-label"
              fill="#502d16"
              d="M209.31 220.97h-14.588v-29.09l14.588-4.21v33.3z"
            />
            <g id="zone-0-complete" strokeWidth=".564">
              <path
                fill="#9c7f0e"
                d="m176.85 184.93-.518-1.849q-.37-1.109.148-2.07.444-.962 1.405-1.405l2.07-.148 16.64 4.437q1.11.222 1.7 1.257l12.646 19.892-2.145 2.144-13.015-20.484-16.639-4.437 4.511 16.64 20.484 12.94-2.144 2.145L182.1 201.42q-1.036-.592-1.258-1.701l-3.993-14.79"
              />
              <path
                fillOpacity=".102"
                d="m176.85 184.93 3.993 14.79q.222 1.11 1.257 1.7l19.892 12.572-2.366 2.44-.296.296-17.23-10.871q-1.035-.592-1.257-1.7l-4.51-16.64q-.37-1.11.147-2.07l.37-.518m43.482 25.069.148.148q.813.813.813 2.07 0 1.184-.813 2.071l-.074.148-2.219-2.219 2.145-2.218m5.324 12.202.148.148q.813.813.813 2.07t-.813 2.145L219 233.366q-.888.814-2.145.814t-2.07-.814l-1.923-1.923q-.888-.887-.888-2.144l.074-.592-2.958-2.958-2.366 2.293q-.887.813-2.07.813-1.258 0-2.071-.813l-2.958-2.958q-.888-.888-.888-2.145 0-1.257.888-2.07l.148-.074 2.81 2.81q.813.813 2.07.813 1.184 0 2.07-.813l2.367-2.293 2.958 2.958-.074.592q0 1.257.888 2.145l1.923 1.922q.813.814 2.07.814t2.145-.814l6.655-6.73"
              />
              <path
                fill="#e2b712"
                d="m204.14 211.85-20.484-12.941-4.51-16.639 29.431 29.432-1.849 1.775-2.588-1.627"
              />
              <path
                fill="#6b6b6b"
                d="m204.14 211.85 2.588 1.627-5.028 5.028 2.958 2.958 4.437-4.363 6.803 6.804-.961.961 1.922 1.923 6.804-6.804-1.923-1.922-.961.961-6.804-6.803 4.363-4.437-2.958-2.958-4.954 4.954-1.627-2.588 2.144-2.144 2.367-2.293.517-.443q.666-.444 1.553-.444t1.627.444l.518.443 2.958 2.958q.813.814.813 2.07 0 1.184-.813 2.071l-.148.148-2.145 2.219 2.958 2.958.592-.074q1.257 0 2.145.887l1.922 1.923q.814.814.814 2.07t-.814 2.145l-.148.074-6.655 6.73q-.887.813-2.145.813t-2.07-.814l-1.923-1.922q-.887-.888-.887-2.145l.074-.591-2.958-2.958-2.367 2.292q-.887.814-2.07.814-1.257 0-2.071-.814l-2.81-2.81-.148-.148q-.887-.887-.887-2.144 0-1.036.591-1.775l.296-.296 2.366-2.44 2.145-2.145"
              />
              <path
                fill="#a8a8a8"
                d="m208.57 211.7 1.849-1.923 4.954-4.954 2.958 2.958-4.363 4.437-4.88 4.88-4.437 4.363-2.958-2.958 5.028-5.028 1.849-1.775m12.202 7.321.961-.961 1.923 1.922-6.803 6.804-1.923-1.923 5.842-5.842"
              />
              <path
                fill="#666"
                d="m220.77 219.02-4.88 4.88-6.804-6.803 4.88-4.88 6.804 6.803"
              />
              <path
                fill="#f5c614"
                d="m179.14 182.27 16.639 4.437 13.015 20.484 1.627 2.588-1.849 1.923-29.432-29.432"
              />
            </g>
          </g>

          <g id="zone-1-group">
            <g id="zone-1-base" strokeWidth=".667">
              <path
                fill="#d2c6ac"
                d="M632.92 370.64h3v3l-3-3m3 69v3h-3l3-3m-69 3h-3v-3l3 3m-3-69v-3h3l-3 3"
              />
              <path
                fill="#6d4b27"
                d="M554.92 366.14v58.5l1.5 1.5-1.5 1.5v6l3 3-3 3v7.5q0 4.5 4.5 4.5h58.5l3-3 3 3h16.5q4.5 0 4.5-4.5v-61.5l-3-3 3-3v-13.5q0-4.5-4.5-4.5h-52.5l-1.5 1.5-1.5-1.5h-6l-3 3-3-3h-13.5q-4.5 0-4.5 4.5m4.5-7.5h13.5l3 3 3-3h6l1.5 1.5 1.5-1.5h52.5q7.5 0 7.5 7.5v13.5l-3 3 3 3v61.5q0 7.5-7.5 7.5h-16.5l-3-3-3 3h-58.5q-7.5 0-7.5-7.5v-7.5l3-3-3-3v-6l1.5-1.5-1.5-1.5v-58.5q0-7.5 7.5-7.5"
              />
              <path
                fill="#a3703a"
                d="M560.92 445.64v-78h78v78h-78m72-75h-18l-3 3-3-3h-45v15l1.5 1.5-1.5 1.5v54h30l1.5-1.5 1.5 1.5h39v-21l-1.5-1.5 1.5-1.5v-48h-3"
              />
              <path
                fill="#fff1d2"
                d="m632.92 370.64 3 3v45l-1.5 1.5 1.5 1.5v18l-3 3h-36l-1.5-1.5-1.5 1.5h-27l-3-3v-51l1.5-1.5-1.5-1.5v-12l3-3h42l3 3 3-3h18"
              />
              <path
                fill="#b47b41"
                d="M554.92 366.14q0-4.5 4.5-4.5h13.5l3 3 3-3h6l1.5 1.5 1.5-1.5h52.5q4.5 0 4.5 4.5v13.5l-3 3 3 3v61.5q0 4.5-4.5 4.5h-16.5l-3-3-3 3h-58.5q-4.5 0-4.5-4.5v-7.5l3-3-3-3v-6l1.5-1.5-1.5-1.5v-58.5m6 79.5h78v-78h-78v78"
              />
            </g>
            <path
              id="zone-1-label"
              fill="#502d16"
              d="M611.93 418.57v5.844h-26.34q5.35-6.639 7.992-10.506 2.643-3.889 2.643-6.381 0-1.418-.924-2.385-.924-.967-2.277-.967-1.762 0-3.416 1.397-1.655 1.396-3.846 4.49l.258-14.867q3.008-2.127 5.586-3.094 2.6-.988 5.779-.988 5.93 0 9.797 3.566 3.889 3.545 3.889 9.84 0 6.94-5.372 14.051z"
            />
            <g id="zone-1-complete" strokeWidth=".564">
              <path
                fill="#9c7f0e"
                d="m573.97 388.38-.518-1.849q-.37-1.109.148-2.07.444-.962 1.405-1.405l2.07-.148 16.64 4.437q1.11.222 1.7 1.257l12.646 19.892-2.145 2.144-13.015-20.484-16.639-4.437 4.511 16.64 20.484 12.94-2.144 2.145-19.892-12.571q-1.036-.592-1.258-1.701l-3.993-14.79"
              />
              <path
                fillOpacity=".102"
                d="m573.97 388.38 3.993 14.79q.222 1.11 1.257 1.7l19.892 12.572-2.366 2.44-.296.296-17.23-10.871q-1.035-.592-1.257-1.7l-4.51-16.64q-.37-1.11.147-2.07l.37-.518m43.482 25.069.148.148q.813.813.813 2.07 0 1.184-.813 2.071l-.074.148-2.219-2.219 2.145-2.218m5.324 12.202.148.148q.813.813.813 2.07t-.813 2.145l-6.803 6.803q-.888.814-2.145.814t-2.07-.814l-1.923-1.923q-.888-.887-.888-2.144l.074-.592-2.958-2.958-2.366 2.293q-.887.813-2.07.813-1.258 0-2.071-.813l-2.958-2.958q-.888-.888-.888-2.145 0-1.257.888-2.07l.148-.074 2.81 2.81q.813.813 2.07.813 1.184 0 2.07-.813l2.367-2.293 2.958 2.958-.074.592q0 1.257.888 2.145l1.923 1.922q.813.814 2.07.814t2.145-.814l6.655-6.73"
              />
              <path
                fill="#e2b712"
                d="m601.26 415.3-20.484-12.941-4.51-16.639 29.431 29.432-1.849 1.775-2.588-1.627"
              />
              <path
                fill="#6b6b6b"
                d="m601.26 415.3 2.588 1.627-5.028 5.028 2.958 2.958 4.437-4.363 6.803 6.804-.961.961 1.922 1.923 6.804-6.804-1.923-1.922-.961.961-6.804-6.803 4.363-4.437-2.958-2.958-4.954 4.954-1.627-2.588 2.144-2.144 2.367-2.293.517-.443q.666-.444 1.553-.444t1.627.444l.518.443 2.958 2.958q.813.814.813 2.07 0 1.184-.813 2.071l-.148.148-2.145 2.219 2.958 2.958.592-.074q1.257 0 2.145.887l1.922 1.923q.814.814.814 2.07t-.814 2.145l-.148.074-6.655 6.73q-.887.813-2.145.813t-2.07-.813l-1.923-1.923q-.887-.888-.887-2.145l.074-.591-2.958-2.958-2.367 2.292q-.887.814-2.07.814-1.257 0-2.071-.814l-2.81-2.81-.148-.148q-.887-.887-.887-2.144 0-1.036.591-1.775l.296-.296 2.366-2.44 2.145-2.145"
              />
              <path
                fill="#a8a8a8"
                d="m605.69 415.15 1.849-1.923 4.954-4.954 2.958 2.958-4.363 4.437-4.88 4.88-4.437 4.363-2.958-2.958 5.028-5.028 1.849-1.775m12.202 7.321.961-.961 1.923 1.922-6.803 6.804-1.923-1.923 5.842-5.842"
              />
              <path
                fill="#666"
                d="m617.9 422.47-4.88 4.88-6.804-6.803 4.88-4.88 6.804 6.803"
              />
              <path
                fill="#f5c614"
                d="m576.26 385.72 16.639 4.437 13.015 20.484 1.627 2.588-1.849 1.923-29.432-29.432"
              />
            </g>
          </g>

          <g id="zone-2-group">
            <g id="zone-2-base" strokeWidth=".667">
              <path
                fill="#d2c6ac"
                d="M1031.2 563.11h3v3l-3-3m3 69v3h-3l3-3m-69 3h-3v-3l3 3m-3-69v-3h3l-3 3"
              />
              <path
                fill="#6d4b27"
                d="M953.24 558.61v58.5l1.5 1.5-1.5 1.5v6l3 3-3 3v7.5q0 4.5 4.5 4.5h58.5l3-3 3 3h16.5q4.5 0 4.5-4.5v-61.5l-3-3 3-3v-13.5q0-4.5-4.5-4.5h-52.5l-1.5 1.5-1.5-1.5h-6l-3 3-3-3h-13.5q-4.5 0-4.5 4.5m4.5-7.5h13.5l3 3 3-3h6l1.5 1.5 1.5-1.5h52.5q7.5 0 7.5 7.5v13.5l-3 3 3 3v61.5q0 7.5-7.5 7.5h-16.5l-3-3-3 3h-58.5q-7.5 0-7.5-7.5v-7.5l3-3-3-3v-6l1.5-1.5-1.5-1.5v-58.5q0-7.5 7.5-7.5"
              />
              <path
                fill="#a3703a"
                d="M959.24 638.11v-78h78v78h-78m72-75h-18l-3 3-3-3h-45v15l1.5 1.5-1.5 1.5v54h30l1.5-1.5 1.5 1.5h39v-21l-1.5-1.5 1.5-1.5v-48h-3"
              />
              <path
                fill="#fff1d2"
                d="m1031.2 563.11 3 3v45l-1.5 1.5 1.5 1.5v18l-3 3h-36l-1.5-1.5-1.5 1.5h-27l-3-3v-51l1.5-1.5-1.5-1.5v-12l3-3h42l3 3 3-3h18"
              />
              <path
                fill="#b47b41"
                d="M953.24 558.61q0-4.5 4.5-4.5h13.5l3 3 3-3h6l1.5 1.5 1.5-1.5h52.5q4.5 0 4.5 4.5v13.5l-3 3 3 3v61.5q0 4.5-4.5 4.5h-16.5l-3-3-3 3h-58.5q-4.5 0-4.5-4.5v-7.5l3-3-3-3v-6l1.5-1.5-1.5-1.5v-58.5m6 79.5h78v-78h-78v78"
              />
            </g>
            <path
              id="zone-2-label"
              fill="#502d16"
              d="M986.02 584.11h12.676q5.93 0 9.002 2.191 3.094 2.192 3.094 6.403 0 2.62-1.354 4.34-1.332 1.718-4.19 3.007 5.844 2.149 5.844 7.906 0 4.276-3.007 6.618-3.008 2.32-9.26 2.32H986.02v-11.387q2.728 3.373 6.682 3.373q1.783 0 2.835-.816 1.053-.838 1.053-2.256 0-1.784-1.375-2.836-1.353-1.074-3.652-1.074-2.32 0-5.543 1.181v-5.8q2.256.601 4.877.601 2.492 0 3.931-.988 1.44-.989 1.44-2.664 0-1.461-1.074-2.32-1.075-.882-2.88-.882-1.89 0-3.566.924-1.675.903-2.728 2.6z"
            />
            <g id="zone-2-complete" strokeWidth=".564">
              <path
                fill="#9c7f0e"
                d="m972.29 580.85-.518-1.849q-.37-1.109.148-2.07.444-.962 1.405-1.405l2.07-.148 16.64 4.437q1.11.222 1.7 1.257l12.646 19.892-2.145 2.144-13.015-20.484-16.639-4.437 4.511 16.64 20.484 12.94-2.144 2.145-19.892-12.571q-1.036-.592-1.258-1.701l-3.993-14.79"
              />
              <path
                fillOpacity=".102"
                d="m972.29 580.85 3.993 14.79q.222 1.11 1.257 1.7l19.892 12.572-2.366 2.44-.296.296-17.23-10.871q-1.035-.592-1.257-1.7l-4.51-16.64q-.37-1.11.147-2.07l.37-.518m43.482 25.069.148.148q.813.813.813 2.07 0 1.184-.813 2.071l-.074.148-2.219-2.219 2.145-2.218m5.324 12.202.148.148q.813.813.813 2.07t-.813 2.145l-6.803 6.803q-.888.814-2.145.814t-2.07-.814l-1.923-1.923q-.888-.887-.888-2.144l.074-.592-2.958-2.958-2.366 2.293q-.887.813-2.07.813-1.258 0-2.071-.813l-2.958-2.958q-.887-.888-.887-2.145 0-1.257.887-2.07l.148-.074 2.81 2.81q.813.813 2.07.813 1.184 0 2.071-.813l2.366-2.293 2.958 2.958-.074.592q0 1.257.888 2.145l1.922 1.922q.814.814 2.071.814t2.145-.814l6.655-6.73"
              />
              <path
                fill="#e2b712"
                d="m999.58 607.77-20.484-12.941-4.51-16.639 29.431 29.432-1.849 1.775-2.588-1.627"
              />
              <path
                fill="#6b6b6b"
                d="m999.58 607.77 2.588 1.627-5.028 5.028 2.958 2.958 4.437-4.363 6.803 6.804-.961.961 1.922 1.923 6.804-6.804-1.923-1.922-.961.961-6.804-6.803 4.363-4.437-2.958-2.958-4.954 4.954-1.627-2.588 2.144-2.144 2.367-2.293.517-.443q.666-.444 1.553-.444t1.627.444l.518.443 2.958 2.958q.813.814.813 2.07 0 1.184-.813 2.071l-.148.148-2.145 2.219 2.958 2.958.592-.074q1.257 0 2.144.887l1.923 1.923q.814.813.814 2.07t-.814 2.145l-.148.074-6.655 6.73q-.888.813-2.145.813-1.257 0-2.07-.813l-1.923-1.923q-.887-.888-.887-2.145l.074-.591-2.958-2.958-2.367 2.292q-.887.814-2.07.814-1.257 0-2.07-.814l-2.811-2.81-.148-.148q-.887-.887-.887-2.144 0-1.036.591-1.775l.296-.296 2.367-2.44 2.144-2.145"
              />
              <path
                fill="#a8a8a8"
                d="m1004 607.62 1.849-1.923 4.954-4.954 2.958 2.958-4.363 4.437-4.88 4.88-4.437 4.363-2.958-2.958 5.028-5.028 1.849-1.775m12.202 7.321.961-.961 1.923 1.922-6.803 6.804-1.923-1.923.961-.961 4.881-4.881"
              />
              <path
                fill="#666"
                d="m1016.2 614.94-4.88 4.88-6.804-6.803 4.88-4.88 6.804 6.803"
              />
              <path
                fill="#f5c614"
                d="m974.59 578.19 16.639 4.437 13.015 20.484 1.627 2.588-1.849 1.923-29.432-29.432"
              />
            </g>
          </g>

          {ZONES.map((zone) => (
            <g
              key={zone.id}
              onClick={() => handleZoneClick(zone.id)}
              style={{ cursor: "pointer" }}
            >
              <use href={`#zone-${zone.id}-base`} />
              {!zoneProgress[zone.id]?.completed && (
                <use href={`#zone-${zone.id}-label`} />
              )}
              {zoneProgress[zone.id]?.completed && (
                <use href={`#zone-${zone.id}-complete`} />
              )}
              {!zoneProgress[zone.id]?.completed && activeZone === zone.id && (
                <g strokeWidth="1.333">
                  <animateTransform
                    attributeName="transform"
                    type="scale"
                    values="1;1.1;1"
                    dur="2s"
                    repeatCount="indefinite"
                  />
                  {zone.id === 0 && (
                    <>
                      <path
                        fill="#999"
                        d="M165.84 166.23q-15.356 15.314-15.356 36.956 0 21.684 15.314 36.998h.042q15.314 15.314 36.956 15.314 21.684 0 36.998-15.314 15.314-15.314 15.314-36.998 0-21.642-15.314-36.956v-.042q-15.314-15.314-36.998-15.314-21.642 0-36.956 15.356m90.956 36.956q0 22.402-15.82 38.18-15.778 15.82-38.18 15.82-22.359 0-38.18-15.82-15.82-15.778-15.82-38.18 0-22.36 15.82-38.18t38.18-15.82q22.402 0 38.18 15.82 15.82 15.82 15.82 38.18"
                      />
                      <path
                        fill="#e5e5e5"
                        d="M168.2 168.59q-14.344 14.344-14.344 34.594 0 20.123 14.091 34.383l.253.21q14.344 14.345 34.594 14.345 20.292 0 34.594-14.302l.042-.042q14.302-14.302 14.302-34.594 0-20.25-14.344-34.594l-.21-.253q-14.26-14.091-34.384-14.091-20.25 0-34.594 14.344m-2.362-2.363q15.314-15.356 36.956-15.356 21.684 0 36.998 15.314v.042q15.314 15.314 15.314 36.956 0 21.684-15.314 36.998-15.314 15.314-36.998 15.314-21.642 0-36.956-15.314h-.042q-15.314-15.314-15.314-36.998 0-21.642 15.356-36.956"
                      />
                      <path
                        fill="#ccc"
                        d="M169.42 169.82q-13.88 13.795-13.88 33.37 0 19.448 13.627 33.202l.253.21q13.795 13.839 33.37 13.839t33.412-13.795v-.042h.042q13.795-13.838 13.795-33.412t-13.838-33.37l-.21-.253q-13.754-13.627-33.203-13.627-19.575 0-33.37 13.88m-1.223-1.224q14.344-14.344 34.594-14.344 20.123 0 34.383 14.091l.21.253q14.345 14.344 14.345 34.594 0 20.292-14.302 34.594l-.042.043q-14.302 14.302-34.594 14.302-20.25 0-34.594-14.344l-.253-.211q-14.091-14.26-14.091-34.383 0-20.25 14.344-34.594"
                      />
                    </>
                  )}
                  {zone.id === 1 && (
                    <>
                      <path
                        fill="#ccc"
                        d="M566.55 373.27q-13.88 13.795-13.88 33.37 0 19.448 13.627 33.202l.253.21q13.795 13.839 33.37 13.839t33.412-13.795v-.042h.042q13.795-13.837 13.795-33.412t-13.838-33.37l-.21-.253q-13.754-13.627-33.203-13.627-19.575 0-33.37 13.88m-1.223-1.224q14.344-14.344 34.594-14.344 20.123 0 34.383 14.091l.21.253q14.345 14.344 14.345 34.594 0 20.292-14.302 34.594l-.042.043q-14.302 14.302-34.594 14.302-20.25 0-34.594-14.344l-.253-.211q-14.091-14.26-14.091-34.383 0-20.25 14.344-34.594"
                      />
                      <path
                        fill="#e5e5e5"
                        d="M565.32 372.05q-14.344 14.344-14.344 34.594 0 20.123 14.091 34.383l.253.21q14.344 14.345 34.594 14.345 20.292 0 34.594-14.302l.042-.042q14.302-14.302 14.302-34.594 0-20.25-14.344-34.594l-.21-.253q-14.26-14.091-34.384-14.091-20.25 0-34.594 14.344m-2.362-2.363q15.314-15.356 36.956-15.356 21.684 0 36.998 15.314v.042q15.314 15.314 15.314 36.956 0 21.684-15.314 36.998-15.314 15.314-36.998 15.314-21.642 0-36.956-15.314h-.042q-15.314-15.314-15.314-36.998 0-21.642 15.356-36.956"
                      />
                      <path
                        fill="#999"
                        d="M562.96 369.68q-15.356 15.314-15.356 36.956 0 21.684 15.314 36.998h.042q15.314 15.314 36.956 15.314 21.684 0 36.998-15.314 15.314-15.314 15.314-36.998 0-21.642-15.314-36.956v-.042q-15.314-15.314-36.998-15.314-21.642 0-36.956 15.356m90.956 36.956q0 22.402-15.82 38.18-15.778 15.82-38.18 15.82-22.359 0-38.18-15.82-15.82-15.778-15.82-38.18 0-22.36 15.82-38.18t38.18-15.82q22.402 0 38.18 15.82 15.82 15.82 15.82 38.18"
                      />
                    </>
                  )}
                  {zone.id === 2 && (
                    <>
                      <path
                        fill="#ccc"
                        d="M964.87 565.74q-13.88 13.795-13.88 33.37 0 19.448 13.627 33.202l.253.21q13.795 13.839 33.37 13.839t33.412-13.795v-.042h.042q13.795-13.838 13.795-33.412t-13.838-33.37l-.21-.253q-13.754-13.627-33.203-13.627-19.575 0-33.37 13.88m-1.223-1.224q14.344-14.344 34.594-14.344 20.123 0 34.383 14.091l.21.253q14.345 14.344 14.345 34.594 0 20.292-14.302 34.594l-.042.043q-14.302 14.302-34.594 14.302-20.25 0-34.594-14.344l-.253-.211q-14.091-14.26-14.091-34.383 0-20.25 14.344-34.594"
                      />
                      <path
                        fill="#e5e5e5"
                        d="M963.65 564.52q-14.344 14.344-14.344 34.594 0 20.123 14.091 34.383l.253.21q14.344 14.345 34.594 14.345 20.292 0 34.594-14.302l.042-.042q14.302-14.302 14.302-34.594 0-20.25-14.344-34.594l-.21-.253q-14.26-14.091-34.384-14.091-20.25 0-34.594 14.344m-2.362-2.363q15.314-15.356 36.956-15.356 21.684 0 36.998 15.314v.042q15.314 15.314 15.314 36.956 0 21.684-15.314 36.998-15.314 15.314-36.998 15.314-21.642 0-36.956-15.314h-.043q-15.314-15.314-15.314-36.998 0-21.642 15.356-36.956"
                      />
                      <path
                        fill="#999"
                        d="M961.28 562.16q-15.356 15.314-15.356 36.956 0 21.684 15.314 36.998h.042q15.314 15.314 36.956 15.314 21.684 0 36.998-15.314 15.314-15.314 15.314-36.998 0-21.642-15.314-36.956v-.042q-15.314-15.314-36.998-15.314-21.642 0-36.956 15.356m90.956 36.956q0 22.402-15.82 38.18-15.778 15.82-38.18 15.82-22.359 0-38.18-15.82-15.82-15.778-15.82-38.18 0-22.36 15.82-38.18t38.18-15.82q22.402 0 38.18 15.82 15.82 15.82 15.82 38.18"
                      />
                    </>
                  )}
                </g>
              )}
              <text
                x={zone.mapLabel.x}
                y={zone.mapLabel.y}
                textAnchor={zone.mapLabel.alignment}
                fontSize={zone.mapLabel.fontSize}
                fill={zone.mapLabel.color}
                fontWeight={zone.mapLabel.fontWeight}
                fontFamily={zone.mapLabel.fontFamily}
              >
                {zone.name}
              </text>
            </g>
          ))}
        </g>

        <g
          id="character"
          transform={`translate(${characterPos.x}, ${characterPos.y})`}
        >
          <image
            id="character-sprite"
            href={getAssetPath("images/characters/character-1.png")}
            width="56"
            height="80"
            x="-28" // Center horizontally (56/2)
            y="-80" // Bottom vertically (80)
          />
        </g>
      </svg>
    </div>
  );
}
